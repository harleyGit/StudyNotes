># <h1 id=''>[AndroidçŸ¥è¯†ä½“ç³»](https://blog.csdn.net/liuwg1226/article/details/114777562)</h1>
- [**æ–‡ä»¶ç»“æ„**](#æ–‡ä»¶ç»“æ„)
	- [æ–‡ä»¶å¤¹ç›®å½•ä»‹ç»](#æ–‡ä»¶å¤¹ç›®å½•ä»‹ç»)
		- [Androidæ–‡ä»¶ç›®å½•å±•ç¤º](#Androidæ–‡ä»¶ç›®å½•å±•ç¤º)
		- [Projectæ–‡ä»¶ç›®å½•å±•ç¤º](#Projectæ–‡ä»¶ç›®å½•å±•ç¤º)
- [**åŸºç¡€ç»„ä»¶**](#åŸºç¡€ç»„ä»¶) 
	- [è®¾ç½®å®½é«˜](#è®¾ç½®å®½é«˜)
	- [TextViewè®¾ç½®åœ†è§’](#TextViewè®¾ç½®åœ†è§’)
- [**Activityç”Ÿå‘½å‘¨æœŸ**](#Activityç”Ÿå‘½å‘¨æœŸ)
	- [é…ç½®æ–‡ä»¶æŒ‡å®šå¯åŠ¨æ¨¡å¼](#é…ç½®æ–‡ä»¶æŒ‡å®šå¯åŠ¨æ¨¡å¼)
	- [Activityå¯åŠ¨æ¨¡å¼](#Activityå¯åŠ¨æ¨¡å¼)
	- [é»˜è®¤å¯åŠ¨æ¨¡å¼standard](#é»˜è®¤å¯åŠ¨æ¨¡å¼standard)
	- [æ ˆé¡¶å¤ç”¨æ¨¡å¼singleTop](#æ ˆé¡¶å¤ç”¨æ¨¡å¼singleTop)
	- [æ ˆå†…å¤ç”¨æ¨¡å¼singleTask](#æ ˆå†…å¤ç”¨æ¨¡å¼singleTask)
	- [å…¨å±€å”¯ä¸€æ¨¡å¼singleInstance](#å…¨å±€å”¯ä¸€æ¨¡å¼singleInstance)
- [**Activity**](#Activity)
	- [â€Œæ˜¾ç¤ºIntentå’Œéšå¼Intent](#æ˜¾ç¤ºIntentå’Œéšå¼Intent)
	- [æ˜¾ç¤ºIntent](#æ˜¾ç¤ºIntent)
	- [å‘ä¸Šä¸€ä¸ªActivityè¿”å›æ•°æ®](#å‘ä¸Šä¸€ä¸ªActivityè¿”å›æ•°æ®)
	- [å‘ä¸‹ä¸€ä¸ªActivityè¿”å›æ•°æ®](#å‘ä¸‹ä¸€ä¸ªActivityè¿”å›æ•°æ®)
- [**xmlæ–‡ä»¶çš„3ç§å¸ƒå±€**](#xml3ç§å¸ƒå±€)
	- [çº¿æ€§å¸ƒå±€](#çº¿æ€§å¸ƒå±€)
	- [ç›¸å¯¹å¸ƒå±€RelativeLayout](#ç›¸å¯¹å¸ƒå±€RelativeLayout)
		- [çˆ¶å®¹å™¨å®šä½å±æ€§ç¤ºæ„å›¾](#çˆ¶å®¹å™¨å®šä½å±æ€§ç¤ºæ„å›¾)
		- [å…„å¼Ÿç»„ä»¶å®šä½](#å…„å¼Ÿç»„ä»¶å®šä½)
		- [æ¢…èŠ±å¸ƒå±€](#æ¢…èŠ±å¸ƒå±€)
		- [å±æ€§è¯´æ˜](#å±æ€§è¯´æ˜)
			- [å±æ€§å€¼ä¸ºtrueæˆ–falseç›¸å¯¹äºçˆ¶å…ƒç´ çš„ä½ç½®](#å±æ€§å€¼ä¸ºtrueæˆ–falseç›¸å¯¹äºçˆ¶å…ƒç´ çš„ä½ç½®)
			- [å±æ€§å€¼å¿…é¡»ä¸ºidçš„å¼•ç”¨å](#å±æ€§å€¼å¿…é¡»ä¸ºidçš„å¼•ç”¨å)
			- [åœ¨å…ƒç´ å‘¨å›´](#åœ¨å…ƒç´ å‘¨å›´)
			- [ç›¸å¯¹äºå…ƒç´ å†…éƒ¨å››å‘¨](#ç›¸å¯¹äºå…ƒç´ å†…éƒ¨å››å‘¨)
			- [å±æ€§å€¼ä¸ºå…·ä½“çš„åƒç´ å€¼ï¼Œå¦‚30dipï¼Œ40px](#å±æ€§å€¼ä¸ºå…·ä½“çš„åƒç´ å€¼ï¼Œå¦‚30dipï¼Œ40px)
			- [paddingä¸layout_marginçš„åŒºåˆ«ä¸ç”¨æ³•](#paddingä¸layout_marginçš„åŒºåˆ«ä¸ç”¨æ³•)
	- [ç›¸å¯¹å¸ƒå±€ConstraintLayout](#ç›¸å¯¹å¸ƒå±€ConstraintLayout)
		- [layout_goneMarginEndå’Œlayout_marginEndåŒºåˆ«](#layout_goneMarginEndå’Œlayout_marginEndåŒºåˆ«)
		- [viewgoneçš„ç†è§£](#viewgoneçš„ç†è§£)
		- [å·§å¦™å±…ä¸­](#å·§å¦™å±…ä¸­)
		- [å¼¹æ€§å±…ä¸­](#å¼¹æ€§å±…ä¸­)
- [è¯¦è§£Application](#è¯¦è§£Application)
- [è¯¦è§£Context](#è¯¦è§£Context)
	- [getContext()çš„ä½œç”¨](#getContext()çš„ä½œç”¨)
- [ç¢ç‰‡ğŸ§©Fragment](#ç¢ç‰‡ğŸ§©Fragment)
- [**æŒä¹…åŒ–å­˜å‚¨**](#æŒä¹…åŒ–å­˜å‚¨) 
	- [æ–‡ä»¶å­˜å‚¨](#æ–‡ä»¶å­˜å‚¨) 
	- [SharedPreferenceså­˜å‚¨](#SharedPreferenceså­˜å‚¨)
- [**é¡¹ç›®é…ç½®**](#é¡¹ç›®é…ç½®)
	- [æ‰“åŒ…](#æ‰“åŒ…)

- [**å¼€å‘å¤§å‘**](#å¼€å‘å¤§å‘)
	- [æ›´æ–°RecycleViewå†…çš„ItemViewç»„ä»¶ä½ç½®åï¼Œæ— æ³•å¯¹å…¶ä»–Viewè¿›è¡Œéšè—](#æ›´æ–°RecycleViewå†…çš„ItemViewç»„ä»¶ä½ç½®åï¼Œæ— æ³•å¯¹å…¶ä»–Viewè¿›è¡Œéšè—)


- [AndroidStudioé…ç½®ä¿®æ”¹](#AndroidStudioé…ç½®ä¿®æ”¹)
	- [é€‰ä¸­æ–‡ä»¶æ‰“å¼€æºç ](#é€‰ä¸­æ–‡ä»¶æ‰“å¼€æºç )

<br/><br/>
![android0.0.25.png](./../Pictures/android0.0.25.png)


<br/><br/>

***
<br/><br/><br/>

> <h1 id='æ–‡ä»¶ç»“æ„'>æ–‡ä»¶ç»“æ„</h1>

**æ–‡ä»¶ç»“æ„ï¼š**
![android0.0.0.png](./../Pictures/android0.0.0.png)


<br/><br/><br/>

<h2 id='Androidæ–‡ä»¶ç›®å½•å±•ç¤º'>Androidæ–‡ä»¶ç›®å½•å±•ç¤º</h2>

**è€æ¿Androidç›®å½•å±•ç¤º**

![android0.0.1.png](./../Pictures/android0.0.1.png)

![android0.0.2.png](./../Pictures/android0.0.2.png)


<br/><br/>


**æ–°ç‰ˆæ–°å»ºAndroidé¡¹ç›®ç›®å½•å±•ç¤ºï¼š**

![android0.0.5.png](./../Pictures/android0.0.5.png)

**kotlin+java** 

æ¯«æ— ç–‘é—®ï¼Œkotlin+javaç›®å½•æ˜¯æ”¾ç½®æˆ‘ä»¬æ‰€æœ‰Javaä»£ç çš„åœ°æ–¹ï¼ˆKotlinä»£ç ä¹Ÿæ”¾åœ¨è¿™é‡Œï¼‰ï¼Œå±•å¼€è¯¥ç›®å½•ï¼Œä½ å°†çœ‹åˆ°ç³»ç»Ÿå¸®æˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆäº†ä¸€ä¸ªMainActivityæ–‡ä»¶ã€‚

<br/>


**res**

è¿™ä¸ªç›®å½•ä¸‹çš„å†…å®¹å°±æœ‰ç‚¹å¤šäº†ã€‚ç®€å•ç‚¹è¯´ï¼Œå°±æ˜¯ä½ åœ¨é¡¹ç›®ä¸­ä½¿ç”¨åˆ°çš„æ‰€æœ‰å›¾ç‰‡ã€å¸ƒå±€ã€å­—ç¬¦ä¸²ç­‰èµ„æºéƒ½è¦å­˜æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ã€‚å½“ç„¶è¿™ä¸ªç›®å½•ä¸‹è¿˜æœ‰å¾ˆå¤šå­ç›®å½•ï¼Œå›¾ç‰‡æ”¾åœ¨drawableç›®å½•ä¸‹ï¼Œå¸ƒå±€æ”¾åœ¨layoutç›®å½•ä¸‹ï¼Œå­—ç¬¦ä¸²æ”¾åœ¨valuesç›®å½•ä¸‹ï¼Œæ‰€ä»¥ä½ ä¸ç”¨æ‹…å¿ƒä¼šæŠŠæ•´ä¸ªresç›®å½•å¼„å¾—ä¹±ç³Ÿç³Ÿçš„ã€‚

<br/> 

**AndroidManifest.xm**

è¿™æ˜¯æ•´ä¸ªAndroidé¡¹ç›®çš„é…ç½®æ–‡ä»¶ï¼Œä½ åœ¨ç¨‹åºä¸­å®šä¹‰çš„æ‰€æœ‰å››å¤§ç»„ä»¶éƒ½éœ€è¦åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œæ³¨å†Œï¼Œå¦å¤–è¿˜å¯ä»¥åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ç»™åº”ç”¨ç¨‹åºæ·»åŠ æƒé™å£°æ˜ã€‚ç”±äºè¿™ä¸ªæ–‡ä»¶ä»¥åä¼šç»å¸¸ç”¨åˆ°ï¼Œæˆ‘ä»¬ç­‰ç”¨åˆ°çš„æ—¶å€™å†åšè¯¦ç»†è¯´æ˜ã€‚


<br/> 

**test**

æ­¤å¤„æ˜¯ç”¨æ¥ç¼–å†™Unit Testæµ‹è¯•ç”¨ä¾‹çš„ï¼Œæ˜¯å¯¹é¡¹ç›®è¿›è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•çš„å¦ä¸€ç§æ–¹å¼ã€‚

<br/>

**.gitignore**

è¿™ä¸ªæ–‡ä»¶ç”¨äºå°†appæ¨¡å—å†…æŒ‡å®šçš„ç›®å½•æˆ–æ–‡ä»¶æ’é™¤åœ¨ç‰ˆæœ¬æ§åˆ¶ä¹‹å¤–ï¼Œä½œç”¨å’Œå¤–å±‚çš„.gitignoreæ–‡ä»¶ç±»ä¼¼ã€‚

æ˜¯
<br/>

**build.gradle**

è¿™æ˜¯appæ¨¡å—çš„gradleæ„å»ºè„šæœ¬ï¼Œè¿™ä¸ªæ–‡ä»¶ä¸­ä¼šæŒ‡å®šå¾ˆå¤šé¡¹ç›®æ„å»ºç›¸å…³çš„é…ç½®ï¼Œæˆ‘ä»¬ç¨åå°†ä¼šè¯¦ç»†åˆ†ægradleæ„å»ºè„šæœ¬ä¸­çš„å…·ä½“å†…å®¹ã€‚


<br/>

**proguard-rules.pro**

è¿™ä¸ªæ–‡ä»¶ç”¨äºæŒ‡å®šé¡¹ç›®ä»£ç çš„æ··æ·†è§„åˆ™ï¼Œå½“ä»£ç å¼€å‘å®Œæˆåæ‰“åŒ…æˆå®‰è£…åŒ…æ–‡ä»¶ï¼Œå¦‚æœä¸å¸Œæœ›ä»£ç è¢«åˆ«äººç ´è§£ï¼Œé€šå¸¸ä¼šå°†ä»£ç è¿›è¡Œæ··æ·†ï¼Œä»è€Œè®©ç ´è§£è€…éš¾ä»¥é˜…è¯»ã€‚


>?



<br/><br/><br/>

> <h2 id='Projectæ–‡ä»¶ç›®å½•å±•ç¤º'>Projectæ–‡ä»¶ç›®å½•å±•ç¤º</h2>




![android0.0.4.png](./../Pictures/android0.0.4.png)


**gradleï¼š** 

è¿™ä¸ªç›®å½•ä¸‹åŒ…å«äº†gradle wrapperçš„é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨gradle wrapperçš„æ–¹å¼ä¸éœ€è¦æå‰å°†gradleä¸‹è½½å¥½ï¼Œè€Œæ˜¯ä¼šè‡ªåŠ¨æ ¹æ®æœ¬åœ°çš„ç¼“å­˜æƒ…å†µå†³å®šæ˜¯å¦éœ€è¦è”ç½‘ä¸‹è½½gradleã€‚

<br/>

**.gitignore**

è¿™ä¸ªæ–‡ä»¶æ˜¯ç”¨æ¥å°†æŒ‡å®šçš„ç›®å½•æˆ–æ–‡ä»¶æ’é™¤åœ¨ç‰ˆæœ¬æ§åˆ¶ä¹‹å¤–çš„ã€‚


<br/>

**build.gradle**


è¿™æ˜¯é¡¹ç›®å…¨å±€çš„gradleæ„å»ºè„šæœ¬ï¼Œé€šå¸¸è¿™ä¸ªæ–‡ä»¶ä¸­çš„å†…å®¹æ˜¯ä¸éœ€è¦ä¿®æ”¹çš„ã€‚

<br/>

**gradle.properties**

è¿™ä¸ªæ–‡ä»¶æ˜¯å…¨å±€çš„gradleé…ç½®æ–‡ä»¶ï¼Œåœ¨è¿™é‡Œé…ç½®çš„å±æ€§å°†ä¼šå½±å“åˆ°é¡¹ç›®ä¸­æ‰€æœ‰çš„gradleç¼–è¯‘è„šæœ¬ã€‚

<br/>

**gradlewå’Œgradlew.bat**

è¿™ä¸¤ä¸ªæ–‡ä»¶æ˜¯ç”¨æ¥åœ¨å‘½ä»¤è¡Œç•Œé¢ä¸­æ‰§è¡Œgradleå‘½ä»¤çš„ï¼Œå…¶ä¸­gradlewæ˜¯åœ¨Linuxæˆ–Macç³»ç»Ÿä¸­ä½¿ç”¨çš„ï¼Œgradlew.batæ˜¯åœ¨Windowsç³»ç»Ÿä¸­ä½¿ç”¨çš„ã€‚

<br/>

**local.properties**

è¿™ä¸ªæ–‡ä»¶ç”¨äºæŒ‡å®šæœ¬æœºä¸­çš„Android SDKè·¯å¾„ï¼Œé€šå¸¸å†…å®¹æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦ä¿®æ”¹ã€‚é™¤éä½ æœ¬æœºä¸­çš„Android SDKä½ç½®å‘ç”Ÿäº†å˜åŒ–ï¼Œé‚£ä¹ˆå°±å°†è¿™ä¸ªæ–‡ä»¶ä¸­çš„è·¯å¾„æ”¹æˆæ–°çš„ä½ç½®å³å¯ã€‚

<br/>

**settings.gradle**

è¿™ä¸ªæ–‡ä»¶ç”¨äºæŒ‡å®šé¡¹ç›®ä¸­æ‰€æœ‰å¼•å…¥çš„æ¨¡å—ã€‚ç”±äºHelloWorldé¡¹ç›®ä¸­åªæœ‰ä¸€ä¸ªappæ¨¡å—ï¼Œå› æ­¤è¯¥æ–‡ä»¶ä¸­ä¹Ÿå°±åªå¼•å…¥äº†appè¿™ä¸€ä¸ªæ¨¡å—ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæ¨¡å—çš„å¼•å…¥æ˜¯è‡ªåŠ¨å®Œæˆçš„ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶çš„åœºæ™¯å¯èƒ½æ¯”è¾ƒå°‘ã€‚


<br/>

**Resæ–‡ä»¶ä¸‹çš„å„ä¸ªå­æ–‡ä»¶ç”¨å¤„æè¿°ï¼š**


&emspï¼› resç›®å½•ä¸­çš„å†…å®¹å°±å˜å¾—éå¸¸ç®€å•äº†ã€‚æ‰€æœ‰ä»¥â€œdrawableâ€å¼€å¤´çš„ç›®å½•éƒ½æ˜¯ç”¨æ¥æ”¾å›¾ç‰‡çš„ï¼Œæ‰€æœ‰ä»¥â€œmipmapâ€å¼€å¤´çš„ç›®å½•éƒ½æ˜¯ç”¨æ¥æ”¾åº”ç”¨å›¾æ ‡çš„ï¼Œæ‰€æœ‰ä»¥â€œvaluesâ€å¼€å¤´çš„ç›®å½•éƒ½æ˜¯ç”¨æ¥æ”¾å­—ç¬¦ä¸²ã€æ ·å¼ã€é¢œè‰²ç­‰é…ç½®çš„ï¼Œæ‰€æœ‰ä»¥â€œlayoutâ€å¼€å¤´çš„ç›®å½•éƒ½æ˜¯ç”¨æ¥æ”¾å¸ƒå±€æ–‡ä»¶çš„ã€‚



<br/>

***
<br/><br/><br/>

> <h1 id='åŸºç¡€ç»„ä»¶'>åŸºç¡€ç»„ä»¶</h1>




<br/><br/><br/>

> <h2 id='è®¾ç½®å®½é«˜'>è®¾ç½®å®½é«˜</h2>

![android0.0.6.png](./../Pictures/android0.0.6.png)



<br/><br/><br/>

> <h2 id="TextViewè®¾ç½®åœ†è§’">TextViewè®¾ç½®åœ†è§’</h2>

è®¾ç½®TextViewçš„åœ†è§’æ²¡æœ‰æ•ˆæœçš„ä¸»è¦åŸå› å¯èƒ½æ˜¯å› ä¸ºåœ¨è®¾ç½®CornerRadiusçš„æ—¶å€™ï¼ŒTextViewè¿˜æ²¡æœ‰å®Œæˆæµ‹é‡å’Œå¸ƒå±€ï¼Œå› æ­¤textView.getHeight()è¿”å›çš„æ˜¯0ã€‚ä½ éœ€è¦ç¡®ä¿åœ¨TextViewå®Œæˆå¸ƒå±€åå†è®¾ç½®åœ†è§’ã€‚


<br/> <br/>
ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‡ ç§æ–¹æ³•ç¡®ä¿åœ¨å¸ƒå±€å®Œæˆåè®¾ç½®åœ†è§’ï¼š

- **æ–¹æ³•ä¸€ï¼šä½¿ç”¨ViewTreeObserver**
ä½¿ç”¨ViewTreeObserver.OnGlobalLayoutListenerç›‘å¬å¸ƒå±€å®Œæˆäº‹ä»¶ï¼š


```
TextView textView = findViewById(R.id.test_drawable_activity_txtView00);

textView.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {
    @Override
    public void onGlobalLayout() {
        // ç§»é™¤ç›‘å¬å™¨ï¼Œé˜²æ­¢é‡å¤è°ƒç”¨
        textView.getViewTreeObserver().removeOnGlobalLayoutListener(this);

        // è·å–é«˜åº¦å¹¶è®¾ç½®åœ†è§’
        int height = textView.getHeight();
        GradientDrawable gradientDrawable = new GradientDrawable();
        gradientDrawable.setCornerRadius(height / 2);
        gradientDrawable.setColor(Color.YELLOW);

        // è®¾ç½®èƒŒæ™¯
        textView.setBackground(gradientDrawable);
    }
});

```

<br/> <br/>

- **æ–¹æ³•äºŒï¼šä½¿ç”¨postæ–¹æ³•**

ä½¿ç”¨postæ–¹æ³•ç¡®ä¿åœ¨å¸ƒå±€å®Œæˆåè®¾ç½®åœ†è§’ï¼š

```
TextView textView = findViewById(R.id.test_drawable_activity_txtView00);

textView.post(new Runnable() {
    @Override
    public void run() {
        // è·å–é«˜åº¦å¹¶è®¾ç½®åœ†è§’
        int height = textView.getHeight();
        GradientDrawable gradientDrawable = new GradientDrawable();
        gradientDrawable.setCornerRadius(height / 2);
        gradientDrawable.setColor(Color.YELLOW);

        // è®¾ç½®èƒŒæ™¯
        textView.setBackground(gradientDrawable);
    }
});

```


<br/> <br/>

- **æ–¹æ³•ä¸‰ï¼šåœ¨å¸ƒå±€å®ŒæˆååŠ¨æ€è®¾ç½®**

ä½ å¯ä»¥åœ¨onCreateæ–¹æ³•ä¸­é€šè¿‡å»¶è¿Ÿæˆ–è€…ç­‰å¾…æŸäº›äº‹ä»¶ï¼ˆä¾‹å¦‚ç”¨æˆ·äº¤äº’ï¼‰åå†è®¾ç½®åœ†è§’ï¼š

```
TextView textView = findViewById(R.id.test_drawable_activity_txtView00);

// å»¶è¿Ÿä¸€äº›æ—¶é—´åè®¾ç½®åœ†è§’ï¼Œç¡®ä¿å¸ƒå±€å®Œæˆï¼ˆè¿™æ˜¯ä¸€ç§ä¸å¤ªæ¨èçš„åšæ³•ï¼Œå› ä¸ºæ—¶é—´ä¸ç¡®å®šï¼‰
textView.postDelayed(new Runnable() {
    @Override
    public void run() {
        // è·å–é«˜åº¦å¹¶è®¾ç½®åœ†è§’
        int height = textView.getHeight();
        GradientDrawable gradientDrawable = new GradientDrawable();
        gradientDrawable.setCornerRadius(height / 2);
        gradientDrawable.setColor(Color.YELLOW);

        // è®¾ç½®èƒŒæ™¯
        textView.setBackground(gradientDrawable);
    }
}, 100); // å»¶è¿Ÿ100æ¯«ç§’

```




<br/>

***
<br/><br/><br/><br/>

> <h1 id='Activityç”Ÿå‘½å‘¨æœŸ'>Activityç”Ÿå‘½å‘¨æœŸ</h1>

![android0.0.24.png](./../Pictures/android0.0.24.png)


![android0.0.6.0.png](./../Pictures/android0.0.6.0.png)

<br/>

![android0.0.7](./../Pictures/android0.0.7.png)

<br/> <br/>

**å„ä¸ªçŠ¶æ€çš„åˆ‡æ¢è¿‡ç¨‹ï¼š**

![android0.0.8.png](./../Pictures/android0.0.8.png)


<br/><br/><br/>

> <h2 id='Activityå¯åŠ¨æ¨¡å¼'>Activityå¯åŠ¨æ¨¡å¼</h2>

![android0.0.9.png](./../Pictures/android0.0.9.png)

<br/>

![android0.0.9.0.png ](./../Pictures/android0.0.9.0.png)


<br/><br/>

![android0.0.10.png](./../Pictures/android0.0.10.png)

<br/><br/><br/>

> <h2 id='é…ç½®æ–‡ä»¶æŒ‡å®šå¯åŠ¨æ¨¡å¼'>é…ç½®æ–‡ä»¶æŒ‡å®šå¯åŠ¨æ¨¡å¼</h2>

![android0.0.10.0.png](./../Pictures/android0.0.10.0.png)


<br/><br/><br/>

> <h2 id='é»˜è®¤å¯åŠ¨æ¨¡å¼standard'>é»˜è®¤å¯åŠ¨æ¨¡å¼standard</h2>

![android0.0.11.png](./../Pictures/android0.0.11.png)

![android0.0.11.0.png](./../Pictures/android0.0.11.0.png)


<br/><br/><br/>

> <h2 id='æ ˆé¡¶å¤ç”¨æ¨¡å¼singleTop'>æ ˆé¡¶å¤ç”¨æ¨¡å¼singleTop</h2>

![android0.0.12.png](./../Pictures/android0.0.12.png)


<br/><br/><br/>

> <h2 id='æ ˆå†…å¤ç”¨æ¨¡å¼singleTask'>æ ˆå†…å¤ç”¨æ¨¡å¼singleTask</h2>

ä½¿ç”¨singleTopæ¨¡å¼å¯ä»¥å¾ˆå¥½åœ°è§£å†³é‡å¤åˆ›å»ºæ ˆé¡¶æ´»åŠ¨çš„é—®é¢˜ï¼Œä½†æ˜¯æ­£å¦‚ä½ åœ¨ä¸Šä¸€èŠ‚æ‰€çœ‹åˆ° çš„ï¼Œå¦‚æœè¯¥æ´»åŠ¨å¹¶æ²¡æœ‰å¤„äºæ ˆé¡¶çš„ä½ç½®ï¼Œè¿˜æ˜¯å¯èƒ½ä¼šåˆ›å»ºå¤šä¸ªæ´»åŠ¨å®ä¾‹çš„ã€‚é‚£ä¹ˆæœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³• å¯ä»¥è®©æŸä¸ªæ´»åŠ¨åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºçš„ä¸Šä¸‹æ–‡ä¸­åªå­˜åœ¨ ä¸€ä¸ªå®ä¾‹å‘¢?è¿™å°±è¦å€ŸåŠ©singleTaskæ¨¡å¼æ¥å® ç°äº†ã€‚å½“æ´»åŠ¨çš„å¯åŠ¨æ¨¡å¼æŒ‡å®šä¸ºsingleTaskï¼Œæ¯æ¬¡å¯åŠ¨è¯¥æ´»åŠ¨æ—¶ç³»ç»Ÿé¦–å…ˆä¼šåœ¨è¿”å›æ ˆä¸­æ£€æŸ¥æ˜¯å¦ å­˜åœ¨è¯¥æ´»åŠ¨çš„å®ä¾‹ï¼Œå¦‚æœå‘ç°å·²ç»å­˜åœ¨åˆ™ç›´æ¥ä½¿ç”¨è¯¥å®ä¾‹ï¼Œå¹¶æŠŠåœ¨è¿™ä¸ªæ´»åŠ¨ä¹‹ä¸Šçš„æ‰€æœ‰æ´»åŠ¨ç»Ÿç»Ÿ å‡ºæ ˆï¼Œå¦‚æœæ²¡æœ‰å‘ç°å°±ä¼šåˆ›å»º ä¸€ä¸ªæ–°çš„æ´»åŠ¨å®ä¾‹ã€‚


![android0.0.13.png](./../Pictures/android0.0.13.png)

- **åº”ç”¨åœºæ™¯ï¼š**

	- **ç¨‹åºä¸»ç•Œé¢**ï¼šæˆ‘ä»¬è‚¯å®šä¸å¸Œæœ›è¶³é¢ç•Œé¢è¢«åˆ›å»ºå¤šæ¬¡ï¼Œè€Œä¸”åœ¨ä¸»ç•Œé¢æ¨å‡ºçš„æ—¶å€™é€€å‡ºæ•´ä¸ªAppæ˜¯æœ€å¥½çš„æ•ˆæœã€‚

	- **è€—è´¹ç³»ç»Ÿèµ„æºçš„Activityï¼š** å¯¹äºé‚£äº›åŠå…¶è€—è´¹èµ„æºçš„Activityï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘å°†å…¶è®¾ä¸ºsingleTaskæ¨¡å¼ï¼Œå‡å°‘èµ„æºè€—è´¹ã€‚


<br/><br/><br/>

> <h2 id='å…¨å±€å”¯ä¸€æ¨¡å¼singleInstance'>å…¨å±€å”¯ä¸€æ¨¡å¼singleInstance</h2>

singlelnstanceæ¨¡å¼åº”è¯¥ç®—æ˜¯4ç§å¯åŠ¨æ¨¡å¼ä¸­æœ€ç‰¹æ®Šä¹Ÿæœ€å¤æ‚çš„ä¸€ä¸ªäº†ï¼Œä½ ä¹Ÿéœ€è¦å¤šèŠ±ç‚¹åŠŸå¤« æ¥ç†è§£è¿™ä¸ªæ¨¡å¼ã€‚ä¸åŒäºä»¥ä¸Š3ç§å¯åŠ¨æ¨¡å¼ï¼ŒæŒ‡å®šä¸ºsinglelnstanceæ¨¡å¼çš„æ´»åŠ¨ä¼šå¯ç”¨ ä¸€ä¸ªæ–°çš„å›æ ˆæ¥ç®¡ç†è¿™ä¸ªæ´»åŠ¨(å…¶å®å¦‚æœsingleTaskæ¨¡å¼æŒ‡å®šäº†ä¸åŒçš„taskAffinity ï¼Œ ä¹Ÿä¼šå¯åŠ¨ä¸€ä¸ªæ–°çš„è¿”å›æ ˆ)ã€‚é‚£ä¹ˆè¿™æ ·åšæœ‰ä»€ä¹ˆæ„ä¹‰å‘¢?æƒ³è±¡ä»¥ä¸‹åœºæ™¯ï¼Œå‡è®¾æˆ‘ä»¬çš„ç¨‹åºä¸­æœ‰ ä¸€ä¸ªæ´»åŠ¨æ˜¯å…è®¸å…¶ä»–ç¨‹ åºè°ƒç”¨çš„ï¼Œå¦‚æœæˆ‘ä»¬æƒ³å®ç°å…¶ä»–ç¨‹åºå’Œæˆ‘ä»¬çš„ç¨‹åºå¯ä»¥å…±äº«è¿™ä¸ªæ´»åŠ¨çš„å®ä¾‹ï¼Œåº”è¯¥å¦‚ä½•å®ç°å‘¢? ä½¿ç”¨å‰é¢3ç§å¯åŠ¨æ¨¡å¼è‚¯å®šæ˜¯åšä¸åˆ°çš„ï¼Œå› ä¸ºæ¯ä¸ªåº”ç”¨ç¨‹åºéƒ½ä¼šæœ‰è‡ªå·±çš„è¿”å›æ ˆï¼ŒåŒä¸€ä¸ªæ´»åŠ¨åœ¨ä¸åŒçš„è¿”å›æ ˆä¸­å…¥æ ˆæ—¶å¿…ç„¶æ˜¯åˆ›å»ºäº†æ–°çš„å®ä¾‹ ã€‚ è€Œä½¿ç”¨singlelnstanceæ¨¡å¼å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ åœ¨è¿™ç§æ¨¡å¼ä¸‹ä¼šæœ‰ä¸€ä¸ªå•ç‹¬çš„è¿”å›æ ˆæ¥ç®¡ç†è¿™ä¸ªæ´»åŠ¨ï¼Œä¸ç®¡æ˜¯å“ªä¸ªåº”ç”¨ç¨‹åºæ¥è®¿é—®è¿™ä¸ªæ´»åŠ¨ï¼Œéƒ½ å…±ç”¨çš„åŒ ä¸€ä¸ªè¿”å›æ ˆï¼Œä¹Ÿå°±è§£å†³äº†å…±äº«æ´»åŠ¨å®ä¾‹çš„é—®é¢˜ã€‚

![android0.0.14.png](./../Pictures/android0.0.14.png)
![android0.0.15.png](./../Pictures/android0.0.15.png)
![android0.0.16.png](./../Pictures/android0.0.16.png)



<br/>

*** 
<br/><br/><br/>

> <h2 id='Activity'>Activity</h2>

<br/> <br/> <br/>

> <h2 id='æ˜¾ç¤ºIntentå’Œéšå¼Intent'>æ˜¾ç¤ºIntentå’Œéšå¼Intent</h2>
![android0.0.17.png](./../Pictures/android0.0.17.png)

<br/>

**ç»„æˆéƒ¨åˆ†ï¼š**

![android0.0.18.png](./../Pictures/android0.0.18.png)


<br/><br/><br/>

> <h2 id='æ˜¾ç¤ºIntent'>æ˜¾ç¤ºIntent</h2>

![android0.0.19.png](./../Pictures/android0.0.19.png)

![android0.0.20.png](./../Pictures/android0.0.20.png)


<br/>

```
Intent intent = new Intent(this, ScanCodeIntoActivity.class);
//ç”¨äºå¯åŠ¨ä¸€ä¸ªæ–°çš„Activityã€‚intentæ˜¯ä¸€ä¸ªIntentå¯¹è±¡ï¼Œå®ƒå®šä¹‰äº†ä½ å¸Œæœ›å¯åŠ¨çš„Activityä»¥åŠéœ€è¦ä¼ é€’ç»™è¯¥Activityçš„æ•°æ®ï¼ˆå¦‚æœæœ‰ï¼‰
startActivity(intent);
```

`startActivity:` è¿™æ˜¯Android Context ç±»ï¼ˆActivity ç±»æ˜¯ Context çš„å­ç±»ï¼Œå› æ­¤å¯ä»¥ç›´æ¥è°ƒç”¨ï¼‰ä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºå¯åŠ¨ä¸€ä¸ªæ–°çš„Activityå®ä¾‹ã€‚

 `intent:` Intentæ˜¯Androidä¸­ç”¨äºå¯åŠ¨Activityã€æœåŠ¡(Service)ã€å¹¿æ’­æ¥æ”¶å™¨(BroadcastReceiver)çš„æ„å›¾å¯¹è±¡ã€‚å®ƒä¸ä»…æŒ‡å®šäº†è¦å¯åŠ¨çš„ç»„ä»¶ï¼ˆé€šè¿‡setAction, setClass æˆ– setComponentç­‰æ–¹æ³•ï¼‰ï¼Œè¿˜å¯ä»¥æºå¸¦é¢å¤–çš„æ•°æ®ï¼ˆé€šè¿‡putExtraæ–¹æ³•ï¼‰ç»™ç›®æ ‡Activityã€‚

&emsp; å½“è°ƒç”¨startActivity(intent);æ—¶ï¼ŒAndroidç³»ç»Ÿä¼šæ ¹æ®Intentä¸­æä¾›çš„ä¿¡æ¯æŸ¥æ‰¾å¹¶å¯åŠ¨å¯¹åº”çš„Activityã€‚å¦‚æœIntentæ²¡æœ‰æ˜ç¡®æŒ‡å®šç»„ä»¶åç§°ï¼Œç³»ç»Ÿä¼šæ ¹æ®Intentçš„åŠ¨ä½œä¸ºä»¥åŠå…¶ä»–é™„åŠ ä¿¡æ¯ï¼ˆå¦‚ç±»åˆ«ã€æ•°æ®ç­‰ï¼‰å»åŒ¹é…å¹¶å¯åŠ¨æœ€åˆé€‚çš„Activityã€‚


<br/><br/>

> <h2 id='Intentç»„æˆéƒ¨åˆ†'>Intentç»„æˆéƒ¨åˆ†</h2>

![android0.0.21.png](./../Pictures/android0.0.21.png)

<br/><br/><br/>

> <h2 id='å‘ä¸‹ä¸€ä¸ªActivityå‘é€æ•°æ®'>å‘ä¸‹ä¸€ä¸ªActivityå‘é€æ•°æ®</h2>


![android0.0.22.png](./../Pictures/android0.0.22.png)

<br/><br/>

**Bundle**

- åœ¨ä»£ç ä¸­å‘é€æ¶ˆæ¯åŒ…è£¹ï¼Œå—²ç”¨æ„å›¾å¯¹è±¡çš„putExtrasæ–¹æ³•ï¼Œå³å¯å­˜å…¥æ¶ˆæ¯åŒ…è£¹ï¼›
- åœ¨ä»£ç ä¸­æ¥å—æ¶ˆæ¯åŒ…è£¹ï¼Œè°ƒç”¨æ„å›¾å¯¹è±¡çš„getExtrasæ–¹æ³•ï¼Œå³å¯å–æ¶ˆæ¶ˆæ¯åŒ…è£¹ï¼›



<br/><br/><br/>

> <h2 id=''>å‘ä¸Šä¸€ä¸ªActivityè¿”å›æ•°æ®</h2>

![android0.0.23.png](./../Pictures/android0.0.23.png)



<br/>

***
<br/><br/><br/>

> <h1 id="xml3ç§å¸ƒå±€">xmlçš„3ç§å¸ƒå±€</h1>

```
protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        EdgeToEdge.enable(this);

        /**
         * setContentViewé‡Œçš„å†…å®¹â€˜Râ€™ä¸ºå°±æ˜¯ç³»ç»Ÿç»™å£°æ˜çš„é™æ€å˜é‡ï¼Œæ‰€æœ‰çš„å­ç±»éƒ½æ˜¯é€šè¿‡â€˜Râ€™æ¥è°ƒç”¨ã€‚
         * è€Œâ€˜Râ€™çš„è·¯å¾„åˆ™æ˜¯ Android å·¥ç¨‹è·¯å¾„ä¸‹çš„ app -> src -> main -> res ä¸‹ã€‚
         *
         * R.layoutæŒ‡resæ–‡ä»¶å¤¹ä¸‹ä¸€ä¸ªåä¸ºlayoutçš„æ–‡ä»¶å¤¹ï¼Œè€ŒR.layout.activity_linear_layoutä¹‹åçš„éƒ¨åˆ†åˆ™æ˜¯layoutæ–‡ä»¶å¤¹ä¸‹è‡ªå·±å®šä¹‰çš„.xmlæ–‡ä»¶ã€‚
         * */
        setContentView(R.layout.activity_test_uilayout2);
        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {
            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());
            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
            return insets;
        });
    }
```

<br/><br/><br/>

> <h2 id='çº¿æ€§å¸ƒå±€'>çº¿æ€§å¸ƒå±€</h2>

![android0.0.35.png](./../Pictures/android0.0.35.png)

- **android:layout_weightï¼š** æƒé‡ï¼Œé™¤äº†è¢«æ˜¾ç¤ºå æ®çš„ç©ºé—´ä»¥å¤–çš„çš„ç©ºé—´ï¼Œç„¶åæ ¹æ®æƒé‡çš„å¤§å°æ¥åˆ†é…ç©ºé—´ï¼Œä½¿ç”¨æƒé‡é€šå¸¸ä¼šæŠŠåˆ†é…è¯¥æƒé‡æ–¹å‘çš„å®½åº¦è®¾ç½®ä¸º0dpï¼Œå¦‚æœæœªè®¾ç½®0dpï¼Œåˆ™è¯¥æ§ä»¶ä¼šå æ®æŒ‡å®šçš„å®½åº¦ï¼Œç„¶åå†åŠ ä¸Šæ ¹æ®æƒé‡æ¥åˆ†é…çš„ç©ºé—´

<br/><br/>

**layout_weight(æƒé‡)ã€gravityï¼ˆå¯¹é½æ–¹å¼ï¼‰**

```
<LinearLayout
    android:layout_marginTop="30dp"
    android:layout_width="match_parent"
    android:layout_height="wrap_content">
    <TextView
        android:layout_width="0dp"
        android:layout_height="45dp"
        android:layout_weight="1"
        android:background="#55ff0000"
        android:gravity="center"
        android:text="çº¿æ€§å¸ƒå±€aaaaaaaaaaaaaaaaa"/>


    <TextView
        android:layout_width="0dp"
        android:layout_height="45dp"
        android:layout_weight="2"
        android:background="#5500ff00"
        android:gravity="center"
        android:text="çº¿æ€§å¸ƒå±€ b"/>

    <TextView
        android:layout_width="0dp"
        android:layout_height="45dp"
        android:layout_weight="3"
        android:background="#550000ff"
        android:gravity="center"
        android:text="çº¿æ€§å¸ƒå±€c"/>

</LinearLayout>
```

![android0.0.36.png](./../Pictures/android0.0.36.png)

å¾ˆæ˜æ˜¾ï¼Œç¬¬ä¸€ä¸ªtextviewçš„å¯¹é½æ–¹å¼ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œå‡ºç°è¿™ç§ç°è±¡çš„åŸå› æ˜¯LinearLayouté»˜è®¤å­æ§ä»¶æŒ‰ç…§åŸºå‡†çº¿å¯¹é½ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨LinearLayout`ä¸­æ·»åŠ ä¸€ä¸ªå±æ€§å°±å³å¯è§£å†³ï¼šandroid:baselineAligned=â€œfalseâ€ ä½¿å¾—å­æ§ä»¶ä¸æŒ‰ç…§åŸºçº¿å¯¹é½ã€‚

<br/>

- **weightSumå±æ€§å¾—ä½¿ç”¨**

å¦‚æœå¸ƒå±€ä¸­åªæœ‰ä¸€ä¸ªæ§ä»¶ï¼Œå¹¶ä¸”æˆ‘åªæƒ³è®©å®ƒå æ®1/2çš„å®½åº¦ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥åˆ©ç”¨LinearLayoutçš„weightSumå±æ€§ï¼Œæ¥çœ‹çœ‹è¿™ä¸ªä¾‹å­


![android0.0.37.png](./../Pictures/android0.0.37.png)


<br/><br/><br/>

> <h2 id='ç›¸å¯¹å¸ƒå±€RelativeLayout'>ç›¸å¯¹å¸ƒå±€ RelativeLayout</h2>

ç›¸å¯¹å¸ƒå±€ï¼šç›¸å¯¹å¸ƒå±€ä¹Ÿæ˜¯å¸¸ç”¨çš„å¸ƒå±€ä¹‹ä¸€ï¼Œå®ƒå¯ä»¥è®¾ç½®æŸä¸€ä¸ªæ§ä»¶ç›¸å¯¹äºå…¶ä»–æ§ä»¶çš„ä½ç½®ï¼Œè¿™äº›ä½ç½®å¯ä»¥åŒ…æ‹¬ä¸Šä¸‹å·¦å³ç­‰ï¼Œå› æ­¤ç›¸è¾ƒäºå…¶ä»–çš„å¸ƒå±€æ–¹å¼è€Œè¨€å…·æœ‰å¾ˆå¤§çš„çµæ´»æ€§ã€‚

![android0.0.38.png](./../Pictures/android0.0.38.png)


<br/><br/><br/>

> <h2 id="çˆ¶å®¹å™¨å®šä½å±æ€§ç¤ºæ„å›¾">çˆ¶å®¹å™¨å®šä½å±æ€§ç¤ºæ„å›¾</h2>

![android0.0.39.png](./../Pictures/android0.0.39.png)


<br/><br/><br/>

> <h2 id="å…„å¼Ÿç»„ä»¶å®šä½">å…„å¼Ÿç»„ä»¶å®šä½</h2>

![android0.0.40.png](./../Pictures/android0.0.40.png)

å›¾ä¸­çš„ç»„ä»¶1,2å°±æ˜¯å…„å¼Ÿç»„ä»¶äº†,è€Œç»„ä»¶3ä¸ç»„ä»¶1æˆ–ç»„ä»¶2å¹¶ä¸æ˜¯å…„å¼Ÿç»„ä»¶,æ‰€ä»¥ç»„ä»¶3ä¸èƒ½é€šè¿‡ ç»„ä»¶1æˆ–2æ¥è¿›è¡Œå®šä½,æ¯”å¦‚layout_toleftof = "ç»„ä»¶1"è¿™æ ·æ˜¯ä¼šæŠ¥é”™çš„ï¼


<br/><br/><br/>> <h2 id="æ¢…èŠ±å¸ƒå±€">æ¢…èŠ±å¸ƒå±€</h2>


```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/main"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal"
    tools:context=".TestModules.TestFruitAdapter$TestUILayoutActivityTest">

		<Button
        android:id="@+id/uiLayout3_0"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_above="@id/test_uiLayout_button2_2"
        android:layout_toLeftOf="@id/test_uiLayout_button2_2"
        android:textColor="@color/red_Crimson_DC143C"
        android:text="æŒ‰é’®ğŸ”" />


    <Button
        android:id="@+id/uiLayout3_1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_above="@id/test_uiLayout_button2_2"
        android:layout_toRightOf="@id/test_uiLayout_button2_2"
        android:text="æŒ‰é’®ğŸ¦" />



    <Button
        android:id="@+id/test_uiLayout_button2_2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerInParent="true"
        android:text="ä¸­å¿ƒâ°ğŸŒ 2_2" />

    <Button
        android:id="@+id/uiLayout3_2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@id/test_uiLayout_button2_2"
        android:layout_toLeftOf="@id/test_uiLayout_button2_2"
        android:textColor="@color/red_Crimson_DC143C"
        android:text="æŒ‰é’®ğŸ£" />


    <Button
        android:id="@+id/uiLayout3_3"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@id/test_uiLayout_button2_2"
        android:layout_toRightOf="@id/test_uiLayout_button2_2"
        android:text="æŒ‰é’®ğŸª¿" />
</RelativeLayout>
```

![android0.0.41.png](./../Pictures/android0.0.41.png)


<br/><br/><br/>

> <h2 id="å±æ€§è¯´æ˜">å±æ€§è¯´æ˜</h2>

<br/><br/><br/>

> <h2 id="å±æ€§å€¼ä¸ºtrueæˆ–falseç›¸å¯¹äºçˆ¶å…ƒç´ çš„ä½ç½®">å±æ€§å€¼ä¸ºtrueæˆ–falseï¼šç›¸å¯¹äºçˆ¶å…ƒç´ çš„ä½ç½®</h2>

```
android:layout_centerHrizontal æ°´å¹³å±…ä¸­
android:layout_centerVertical å‚ç›´å±…ä¸­
android:layout_centerInparent ç›¸å¯¹äºçˆ¶å…ƒç´ å®Œå…¨å±…ä¸­
android:layout_alignParentBottom è´´ç´§çˆ¶å…ƒç´ çš„ä¸‹è¾¹ç¼˜
android:layout_alignParentLeft è´´ç´§çˆ¶å…ƒç´ çš„å·¦è¾¹ç¼˜
android:layout_alignParentRight è´´ç´§çˆ¶å…ƒç´ çš„å³è¾¹ç¼˜
android:layout_alignParentTop è´´ç´§çˆ¶å…ƒç´ çš„ä¸Šè¾¹ç¼˜
android:layout_alignWithParentIfMissing å¦‚æœå¯¹åº”çš„å…„å¼Ÿå…ƒç´ æ‰¾ä¸åˆ°çš„è¯å°±ä»¥çˆ¶å…ƒç´ åšå‚ç…§ç‰©
```

**å…ƒç´ åœ¨çˆ¶å®¹å™¨ä¸­é—´**

```
<RelativeLayout
    android:layout_marginTop="10dp"
    android:layout_width="match_parent"
    android:layout_height="100dp"
    android:background="@color/red_FF1493">
    
    <TextView
        android:id="@+id/middle"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerInParent="true"
        android:background="@color/blue_0000FF"
        android:textColor="@color/white"
        android:text="RelativeLayout æˆ‘åœ¨æœ€ä¸­é—´"/>
        
</RelativeLayout>
```

![android0.0.42.png](./../Pictures/android0.0.42.png)

<br/><br/><br/>

> <h2 id="å±æ€§å€¼å¿…é¡»ä¸ºidçš„å¼•ç”¨åâ€œ@id/id-nameâ€">å±æ€§å€¼å¿…é¡»ä¸ºidçš„å¼•ç”¨åâ€œ@id/id-nameâ€ï¼Œ</h2>

```
//ç›¸å¯¹äºå­å…ƒç´ å¤–éƒ¨çš„ä½ç½®
android:layout_below åœ¨æŸå…ƒç´ çš„ä¸‹æ–¹
android:layout_above åœ¨æŸå…ƒç´ çš„çš„ä¸Šæ–¹
android:layout_toLeftOf åœ¨æŸå…ƒç´ çš„å·¦è¾¹
android:layout_toRightOf åœ¨æŸå…ƒç´ çš„å³è¾¹
//ç›¸å¯¹äºå­å…ƒç´ å†…éƒ¨çš„ä½ç½®
android:layout_alignTop æœ¬å…ƒç´ çš„ä¸Šè¾¹ç¼˜å’ŒæŸå…ƒç´ çš„çš„ä¸Šè¾¹ç¼˜å¯¹é½
android:layout_alignLeft æœ¬å…ƒç´ çš„å·¦è¾¹ç¼˜å’ŒæŸå…ƒç´ çš„çš„å·¦è¾¹ç¼˜å¯¹é½
android:layout_alignBottom æœ¬å…ƒç´ çš„ä¸‹è¾¹ç¼˜å’ŒæŸå…ƒç´ çš„çš„ä¸‹è¾¹ç¼˜å¯¹é½
android:layout_alignRight æœ¬å…ƒç´ çš„å³è¾¹ç¼˜å’ŒæŸå…ƒç´ çš„çš„å³è¾¹ç¼˜å¯¹é½
```

<br/><br/><br/>

> <h2 id="åœ¨å…ƒç´ å‘¨å›´">åœ¨å…ƒç´ å‘¨å›´</h2>

```
 <RelativeLayout
    android:layout_marginTop="20dp"
    android:layout_width="match_parent"
    android:layout_height="300dp"
    android:background="@color/teal_200">
    <TextView
        android:id="@+id/middle"
        android:layout_width="200dp"
        android:layout_height="200dp"
        android:gravity="center"
        android:layout_centerInParent="true"
        android:background="@android:color/holo_blue_bright"
        android:text="æˆ‘åœ¨æœ€ä¸­é—´"/>
    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@id/middle"
        android:text="layout_below"
        android:layout_centerHorizontal="true"
        android:background="@android:color/holo_green_light"/>
    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_above="@id/middle"
        android:text="layout_above"
        android:layout_centerHorizontal="true"
        android:background="@android:color/holo_green_light"/>
    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_toLeftOf="@id/middle"
        android:text="layout_toLeftOf"
        android:layout_centerVertical="true"
        android:background="@android:color/holo_green_light"/>
    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_toRightOf="@id/middle"
        android:text="layout_toRightOf"
        android:layout_centerVertical="true"
        android:background="@android:color/holo_green_light"/>
</RelativeLayout>
```

![android0.0.43.png](./../Pictures/android0.0.43.png)


<br/><br/><br/>

> <h2 id="ç›¸å¯¹äºå…ƒç´ å†…éƒ¨å››å‘¨">ç›¸å¯¹äºå…ƒç´ å†…éƒ¨å››å‘¨</h2>

```
<RelativeLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="300dp"
    android:background="@color/red_Crimson_DC143C">
    <TextView
        android:id="@+id/middle"
        android:layout_width="200dp"
        android:layout_height="200dp"
        android:gravity="center"
        android:layout_centerInParent="true"
        android:background="@android:color/holo_blue_bright"
        android:text="æˆ‘åœ¨æœ€ä¸­é—´"/>
    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBottom="@id/middle"
        android:text="layout_alignBottom"
        android:layout_centerHorizontal="true"
        android:background="@android:color/holo_orange_light"/>
    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignTop="@id/middle"
        android:text="layout_alignTop"
        android:layout_centerHorizontal="true"
        android:background="@android:color/holo_orange_light"/>
    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@id/middle"
        android:text="alignLeft"
        android:layout_centerVertical="true"
        android:background="@android:color/holo_orange_light"/>
    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignRight="@id/middle"
        android:text="alignRight"
        android:layout_centerVertical="true"
        android:background="@android:color/holo_orange_light"/>
</RelativeLayout>

```


![android0.0.44.png](./../Pictures/android0.0.44.png)

<br/><br/><br/>

> <h2 id="å±æ€§å€¼ä¸ºå…·ä½“çš„åƒç´ å€¼ï¼Œå¦‚30dipï¼Œ40px">å±æ€§å€¼ä¸ºå…·ä½“çš„åƒç´ å€¼ï¼Œå¦‚30dipï¼Œ40px</h2>

```
android:layout_marginBottom ç¦»æŸå…ƒç´ åº•è¾¹ç¼˜çš„è·ç¦»
android:layout_marginLeft ç¦»æŸå…ƒç´ å·¦è¾¹ç¼˜çš„è·ç¦»
android:layout_marginRight ç¦»æŸå…ƒç´ å³è¾¹ç¼˜çš„è·ç¦»
android:layout_marginTop ç¦»æŸå…ƒç´ ä¸Šè¾¹ç¼˜çš„è·ç¦»
```

<br/><br/>

**android:gravity**

- **android:gravity**å±æ€§æ˜¯å¯¹è¯¥view å†…å®¹çš„é™å®šï¼æ¯”å¦‚ä¸€ä¸ªbutton ä¸Šé¢çš„text. ä½ å¯ä»¥è®¾ç½®è¯¥text åœ¨viewçš„é å·¦ï¼Œé å³ç­‰ä½ç½®ï¼ä»¥buttonä¸ºä¾‹ï¼Œandroid:gravity="right"åˆ™buttonä¸Šé¢çš„æ–‡å­—é å³


<br/><br/> 

**android:layout_gravity**

- **android:layout_gravity**æ˜¯ç”¨æ¥è®¾ç½®è¯¥viewç›¸å¯¹ä¸èµ·çˆ¶view çš„ä½ç½®ï¼æ¯”å¦‚ä¸€ä¸ªbuttonåœ¨Linearlayout(çº¿æ€§å¸ƒå±€)é‡Œï¼Œä½ æƒ³æŠŠè¯¥buttonæ”¾åœ¨é å·¦ã€é å³ç­‰ä½ç½®å°±å¯ä»¥é€šè¿‡è¯¥å±æ€§è®¾ç½®ï¼ä»¥buttonä¸ºä¾‹ï¼Œandroid:layout_gravity="right"åˆ™buttoné å³


<br/><br/><br/>

> <h2 id="paddingä¸layout_marginçš„åŒºåˆ«ä¸ç”¨æ³•
">paddingä¸layout_marginçš„åŒºåˆ«ä¸ç”¨æ³•
</h2>

**Margin:è®¾ç½®ç»„ä»¶ä¸çˆ¶å®¹å™¨(é€šå¸¸æ˜¯å¸ƒå±€)çš„è¾¹è·**

```
android:layout_margin: æŒ‡å®šæ§ä»¶çš„å››å‘¨çš„å¤–éƒ¨ç•™å‡ºä¸€å®šçš„è¾¹è·
android:layout_marginLeft: æŒ‡å®šæ§ä»¶çš„å·¦è¾¹çš„å¤–éƒ¨ç•™å‡ºä¸€å®šçš„è¾¹è·
android:layout_marginTop: æŒ‡å®šæ§ä»¶çš„ä¸Šè¾¹çš„å¤–éƒ¨ç•™å‡ºä¸€å®šçš„è¾¹è·
android:layout_marginRight: æŒ‡å®šæ§ä»¶çš„å³è¾¹çš„å¤–éƒ¨ç•™å‡ºä¸€å®šçš„è¾¹è·
android:layout_marginBottom: æŒ‡å®šæ§ä»¶çš„ä¸‹è¾¹çš„å¤–éƒ¨ç•™å‡ºä¸€å®šçš„è¾¹è·
```

<br/>

**Padding:è®¾ç½®ç»„ä»¶å†…éƒ¨å…ƒç´ é—´çš„è¾¹è·(å¯ä»¥ç†è§£ä¸ºå¡«å……)**

```
android:padding :æŒ‡å®šæ§ä»¶çš„å››å‘¨çš„å†…éƒ¨ç•™å‡ºä¸€å®šçš„è¾¹è·
android:paddingLeft: æŒ‡å®šæ§ä»¶çš„å·¦è¾¹çš„å†…éƒ¨ç•™å‡ºä¸€å®šçš„è¾¹è·
android:paddingTop: æŒ‡å®šæ§ä»¶çš„ä¸Šè¾¹çš„å†…éƒ¨ç•™å‡ºä¸€å®šçš„è¾¹è·
android:paddingRight: æŒ‡å®šæ§ä»¶çš„å³è¾¹çš„å†…éƒ¨ç•™å‡ºä¸€å®šçš„è¾¹è·
android:paddingBottom: æŒ‡å®šæ§ä»¶çš„ä¸‹è¾¹çš„å†…éƒ¨ç•™å‡ºä¸€å®šçš„è¾¹è·
```


<br/><br/>

**android:layout_margin** å°±æ˜¯è®¾ç½®viewçš„ä¸Šä¸‹å·¦å³è¾¹æ¡†çš„é¢å¤–ç©ºé—´

**android:padding** æ˜¯è®¾ç½®å†…å®¹ç›¸å¯¹viewçš„è¾¹æ¡†çš„è·ç¦»

- **padding**ï¼Œå«ä¹‰ä¸ºâ€œå¡«å……â€ï¼Œåƒå«è‚©å‹ç±»ä¼¼çš„å¡«å……ç‰©ï¼Œä¸€ä¸ªæ§ä»¶çš„paddingåŠæ­¤æ§ä»¶å†…éƒ¨çš„å¡«å……ï¼Œç”±æ­¤å¯è§paddingæ˜¯ä»¥æ‰€è¢«å®šä¹‰çš„æ§ä»¶Aä¸ºparentæ§ä»¶ï¼Œè€Œå†…éƒ¨çš„å†…å®¹ç‰©ä¸æ§ä»¶Açš„é—´è·ã€‚è€Œlayout_marginæ˜¯Aæ§ä»¶æ‰€åœ¨çš„æ§ä»¶ä¸ºparentæ§ä»¶ï¼Œæ˜¯Aä¸å…¶çš„é—´è·ã€‚

<br/>

å…¶å®æ¦‚å¿µå¾ˆç®€å•ï¼Œpaddingæ˜¯ç«™åœ¨çˆ¶viewçš„è§’åº¦æè¿°é—®é¢˜ï¼Œå®ƒè§„å®šå®ƒé‡Œé¢çš„å†…å®¹å¿…é¡»ä¸è¿™ä¸ªçˆ¶viewè¾¹ç•Œçš„è·ç¦»ã€‚marginåˆ™æ˜¯ç«™åœ¨è‡ªå·±çš„è§’åº¦æè¿°é—®é¢˜ï¼Œè§„å®šè‡ªå·±å’Œå…¶ä»–ï¼ˆä¸Šä¸‹å·¦å³ï¼‰çš„viewä¹‹é—´çš„è·ç¦»ï¼Œå¦‚æœåŒä¸€çº§åªæœ‰ä¸€ä¸ªviewï¼Œé‚£ä¹ˆå®ƒçš„æ•ˆæœåŸºæœ¬ä¸Šå°±å’Œpaddingä¸€æ ·äº†

![android0.0.45.png](./../Pictures/android0.0.45.png)

```
å½“æŒ‰é’®åˆ†åˆ«è®¾ç½®ä»¥ä¸Šä¸¤ä¸ªå±æ€§æ—¶ï¼Œå¾—åˆ°çš„æ•ˆæœæ˜¯ä¸ä¸€æ ·çš„ã€‚
android:paddingLeft="30px"

æŒ‰é’®ä¸Šè®¾ç½®çš„å†…å®¹ï¼ˆä¾‹å¦‚å›¾ç‰‡ï¼‰ç¦»æŒ‰é’®å·¦è¾¹è¾¹ç•Œ30ä¸ªåƒç´ 
android:layout_marginLeft="30px"
æ•´ä¸ªæŒ‰é’®ç¦»å·¦è¾¹è®¾ç½®çš„å†…å®¹30ä¸ªåƒç´ 
```


<br/><br/><br/>

> <h2 id="ç›¸å¯¹å¸ƒå±€ConstraintLayout">ç›¸å¯¹å¸ƒå±€ ConstraintLayout</h2>

| å±æ€§ | æè¿° |
|:--|:--|
| app:layout_constraintLeft_toLeftOf | æŠŠAçš„left sideæ”¾åœ¨Bçš„left sideï¼ˆå·¦è¾¹å¯¹é½ï¼‰ |
| app:layout_constraintLeft_toRightOf | æŠŠAçš„left sideæ”¾åœ¨Bçš„right sideï¼ˆå·¦è¾¹ç›¸å¯¹å³è¾¹å¯¹é½ï¼‰ |
| app:layout_constraintRight_toLeftOf | æŠŠAçš„right sideæ”¾åœ¨Bçš„left sideï¼ˆå³è¾¹ç›¸å¯¹å·¦è¾¹å¯¹é½ï¼‰ |
| app:layout_constraintRight_toRightOf | æŠŠAçš„right sideæ”¾åœ¨Bçš„right sideï¼ˆå³è¾¹å¯¹é½ï¼‰ |
| app:layout_constraintTop_toTopOf | æŠŠAçš„top sideæ”¾åœ¨Bçš„top sideï¼ˆé¡¶éƒ¨å¯¹é½ï¼‰ |
| app:layout_constraintTop_toBottomOf | æŠŠAçš„top sideæ”¾åœ¨Bçš„bottom sideï¼ˆé¡¶éƒ¨ç›¸å¯¹åº•éƒ¨å¯¹é½ï¼‰ |
| app:layout_constraintBottom_toTopOf | æŠŠAçš„bottom sideæ”¾åœ¨Bçš„top sideï¼ˆåº•éƒ¨ç›¸å¯¹é¡¶éƒ¨å¯¹é½ï¼‰ |
| app:layout_constraintBottom_toBottomOf | æŠŠAçš„bottom sideæ”¾åœ¨Bçš„bottom sideï¼ˆåº•éƒ¨å¯¹é½ï¼‰ |
| app:layout_constraintStart_toEndOf | æŠŠAçš„start positionæ”¾åœ¨Bçš„end positionï¼ˆèµ·å§‹ä½ç½®ç›¸å¯¹ç»“æŸä½ç½®å¯¹é½ï¼‰ |
| app:layout_constraintStart_toStartOf | æŠŠAçš„start positionæ”¾åœ¨Bçš„start positionï¼ˆèµ·å§‹ä½ç½®å¯¹é½ï¼‰ |
| app:layout_constraintEnd_toStartOf | æŠŠAçš„end positionæ”¾åœ¨Bçš„start positionï¼ˆç»“æŸä½ç½®ç›¸å¯¹èµ·å§‹ä½ç½®å¯¹é½ï¼‰ |
| app:layout_constraintEnd_toEndOf | æŠŠAçš„end positionæ”¾åœ¨Bçš„end positionï¼ˆç»“æŸä½ç½®å¯¹é½ï¼‰ |
| app:layout_constraintBaseline_toBaselineOf	 | æŠŠAçš„bottom sideæ”¾åœ¨Bçš„top sideï¼ˆåŸºå‡†çº¿å¯¹é½ï¼‰ |


```
<androidx.constraintlayout.widget.ConstraintLayout
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_marginTop="10dp"
    android:background="@color/green_40E0D0">

    <android.widget.Button
        android:id="@+id/a"
        android:layout_width="100dp"
        android:layout_height="60dp"
        android:text="A"
        android:background="@color/red_FF1493"
        app:layout_constraintLeft_toLeftOf="parent"
        app:layout_constraintTop_toTopOf="parent" />

    <android.widget.Button
        android:id="@+id/b"
        android:layout_width="100dp"
        android:layout_height="60dp"
        android:text="B"
        android:background="@color/red_Crimson_DC143C"
        app:layout_constraintLeft_toRightOf="@id/a"
        app:layout_constraintTop_toTopOf="@id/a" />

    <android.widget.Button
        android:id="@+id/c"
        android:layout_width="100dp"
        android:layout_height="60dp"
        android:text="C"
        android:background="@color/purple_700"
        app:layout_constraintLeft_toLeftOf="@id/a"
        app:layout_constraintTop_toBottomOf="@id/a" />

    <android.widget.Button
        android:id="@+id/d"
        android:layout_width="100dp"
        android:layout_height="60dp"
        android:text="D"
        android:background="@color/red_FF1493"
        app:layout_constraintLeft_toRightOf="@id/a"
        app:layout_constraintTop_toTopOf="@id/c" />

</androidx.constraintlayout.widget.ConstraintLayout>

```

![android0.0.46.png](./../Pictures/android0.0.46.png)

- **ä»ä¸­å¯ä»¥çœ‹åˆ°**

	- 1ã€layout_constraint*å±æ€§çš„å€¼å¯ä»¥æ˜¯æŸä¸ªidæˆ–è€…parentï¼ˆçˆ¶å¸ƒå±€ï¼‰

	- 2ã€Bè¦ä½äºAçš„å³è¾¹ï¼Œåˆ™ä½¿ç”¨`app:layout_constraintLeft_toRightOf="@id/a"`,Cä½äºAçš„ä¸‹è¾¹ï¼Œåˆ™ä½¿ç”¨`app:layout_constraintTop_toBottomOf="@id/a"`

å¯¹äºä¸€ä¸ªViewçš„è¾¹ç•Œç•Œå®šï¼Œå®˜æ–¹ç»™äº†ä¸‹é¢è¿™å¼ å›¾ï¼š

![android0.0.47.png](./../Pictures/android0.0.47.png)


<br/><br/><br/>

> <h2 id="layout_goneMarginEndå’Œlayout_marginEndåŒºåˆ«">layout_goneMarginEndå’Œlayout_marginEndåŒºåˆ«</h2>

idä¸ºright_topdeTextViewæ²¡æœ‰`android:visibility="gone"`
æ—¶çš„ä»£ç 

```
<androidx.constraintlayout.widget.ConstraintLayout
    android:layout_marginTop="20dp"
    android:background="@color/teal_200"
    android:id="@+id/root"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <TextView
        android:id="@+id/right_top"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:background="@color/purple_200"
        android:gravity="center"
        android:text="å³ä¸Šè§’1111111"
        app:layout_goneMarginStart="20dp"
        android:layout_marginStart="20dp"
        android:textSize="32sp"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintWidth_min="120dp" />

    <TextView
        android:id="@+id/where"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="æˆ‘åœ¨å“ªé‡Œ"
        app:layout_goneMarginEnd="160dp"
        android:layout_marginEnd="40dp"
        android:background="#ff0000"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintRight_toLeftOf="@+id/right_top"/>
</androidx.constraintlayout.widget.ConstraintLayout>

```

xmlçš„å›¾ï¼š

![android0.0.48.png](./../Pictures/android0.0.48.png)

å®é™…æ•ˆæœå›¾ï¼š

![android0.0.49.png](./../Pictures/android0.0.49.png)

<br/><br/>

@+id/right_topçš„TextViewåŠ ä¸Š`android:visibility="gone"`å±æ€§åå¦‚ä¸‹ï¼š

```
<androidx.constraintlayout.widget.ConstraintLayout
    android:id="@+id/root"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_marginTop="20dp"
    android:background="@color/teal_200">

    <TextView
        android:id="@+id/right_top"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginStart="20dp"
        android:background="@color/purple_200"
        android:gravity="center"
        android:text="å³ä¸Šè§’1111111"
        android:textSize="32sp"
        android:visibility="gone"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintWidth_min="120dp"
        app:layout_goneMarginStart="20dp" />

    <TextView
        android:id="@+id/where"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginEnd="70dp"
        android:background="#ff0000"
        android:text="æˆ‘åœ¨å“ªé‡Œ"
        app:layout_constraintRight_toLeftOf="@+id/right_top"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_goneMarginEnd="260dp" />
</androidx.constraintlayout.widget.ConstraintLayout>
```

Xmlæ•ˆæœå›¾ï¼š

![android0.0.50.png](./../Pictures/android0.0.50.png)

<br/>

æ•ˆæœå›¾ï¼š

![android0.0.51.png](./../Pictures/android0.0.51.png)


**æ€»ç»“ï¼š**

- è¿™é‡Œä½¿ç”¨äº†ä¸¤ç§marginå±æ€§ï¼š
	- ä¸€ç§å°±æ˜¯**app:layout_goneMarginEnd**ï¼Œè¿™ä¸ªåªåœ¨right_topè¢«goneçš„æ—¶å€™ç”Ÿæ•ˆï¼›
	- ä¸€ç§å°±æ˜¯`android:layout_marginEnd`ï¼Œä»»ä½•æ—¶å€™éƒ½ç”Ÿæ•ˆã€‚

ä½†æ˜¯è¿™é‡Œçš„marginéœ€è¦ç”Ÿæ•ˆï¼Œåªæœ‰idä¸ºwhereçš„TextViewè¢«idä¸ºright_topçš„TextViewæ‰€çº¦æŸï¼Œé‚£ä¹ˆidä¸ºwhereçš„TextViewçš„marginç›¸å¯¹äºidä¸ºright_topçš„TextViewçš„æ‰ç”Ÿæ•ˆã€‚

è€Œidä¸ºright_topçš„TextViewå¹¶æ²¡æœ‰è¢«idä¸ºwhereçš„TextViewçº¦æŸï¼Œæ‰€ä»¥idä¸ºright_topçš„TextViewçš„margin_startå…¶å®çœ‹ä¸åˆ°ç”Ÿæ•ˆã€‚è¿™é‡Œå…¶å®å¯ä»¥è®¤ä¸ºright_topçš„margin_startç”Ÿæ•ˆäº†ï¼Œåªä¸è¿‡æ˜¯ç›¸å¯¹äºparentçš„å·¦è¾¹ï¼Œä½†æ˜¯å› ä¸ºright_topåœ¨parentçš„å³ä¸Šè§’ï¼Œæ‰€ä»¥çœ‹ä¸åˆ°è¿™ä¸ªmarginæ•ˆæœ


<br/><br/><br/>

> <h2 id="viewgoneçš„ç†è§£">view goneçš„ç†è§£</h2>

![android0.0.52.png](./../Pictures/android0.0.52.png)

```
<?xml version="1.0" encoding="utf-8"?>
<android.support.constraint.ConstraintLayout 
    ...>

    <android.widget.Button
        android:id="@+id/a"
        ...
        android:layout_marginLeft="100dp"
        android:layout_marginTop="20dp"
        app:layout_constraintLeft_toLeftOf="parent"
        app:layout_constraintTop_toTopOf="parent" />

    <android.widget.Button
        android:id="@+id/b"
        ...
        android:layout_marginLeft="20dp"
        android:layout_marginTop="20dp"
        app:layout_constraintLeft_toRightOf="@id/a"
        app:layout_constraintTop_toTopOf="@id/a"
         />

    <android.widget.Button
        android:id="@+id/c"
       ....
        android:layout_marginLeft="20dp"
        android:layout_marginTop="20dp"
        app:layout_constraintLeft_toRightOf="@id/b"
        app:layout_constraintTop_toTopOf="@id/b" />
</android.support.constraint.ConstraintLayout>
```

<br/>

è€ƒè™‘ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœBåŠ¨æ€è®¾ä¸ºgoneäº†ï¼ŒCä¼šæ€ä¹ˆæ˜¾ç¤ºå‘¢ï¼Ÿ

çœŸå®æƒ…å†µå¦‚ä¸‹ï¼š

![android0.0.53.png](./../Pictures/android0.0.53.png)

<br/>
ä¸ºä»€ä¹ˆä¼šè¿™æ ·æ˜¾ç¤ºå‘¢ï¼Ÿçœ‹ä»–çš„è“å›¾åº”è¯¥ä¼šå¥½ç†è§£äº›ï¼š

![android0.0.54.png](./../Pictures/android0.0.54.png)


å¯ä»¥çœ‹å‡ºï¼Œbè®¾ä¸ºgoneä¹‹åï¼Œä»–çš„å®½ã€é«˜ã€marginéƒ½å¤±æ•ˆäº†ï¼Œå˜ä¸ºä¸€ä¸ªç‚¹äº†ï¼Œä½†å®ƒçš„constrainè¿˜ç”Ÿæ•ˆï¼Œä½äºæŒ‡å®šçš„ä½ç½®ã€‚cè¿˜æ˜¯å¯ä»¥ç»§ç»­ä»¥ä»–ä¸ºé”šç‚¹ã€‚

é‚£ä¹ˆå¦‚ä½•è§£å†³å…³äºView goneå¼•èµ·çš„éé¢„æœŸçš„å¸ƒå±€å˜åŒ–å‘¢ï¼Ÿ

- 1ã€å¦‚æœå¯ä»¥ï¼Œå°½é‡ä½¿ç”¨invisible
- 2ã€å°½é‡å…¶ä»–viewçš„å¸ƒå±€ä¸ä¾èµ–ä¼šgoneçš„view
- 3ã€googleä¹Ÿæä¾›äº†å±æ€§layout_goneMargin*=â€œxdpâ€ï¼Œæ„æ€æ˜¯æ¯”å¦‚å½“

constrainleftçš„é”šç‚¹goneæ—¶ï¼Œlayout_goneMarginLeftå°†ç”Ÿæ•ˆã€‚ä½†å› 
ä¸ºè¿™ä¸ªåªèƒ½è®¾ç½®å›ºå®šçš„è·ç¦»ï¼Œä¸ªäººæ„Ÿè§‰çµæ´»æ€§ä¸æ˜¯å¾ˆé«˜ã€‚


<br/><br/><br/>

> <h2 id="å·§å¦™å±…ä¸­">å·§å¦™å±…ä¸­</h2>

ä¸€ä¸ªviewå¦‚ä½•è®¾ç½®ä¸ºå±…ä¸­å‘¢ï¼Ÿå¦‚æœæŸ¥æ‰¾å±æ€§ï¼Œä¼šå‘ç°å¹¶æ²¡æœ‰å¦‚RelativeLayoutç±»ä¼¼çš„layout_centerVerticalå±æ€§ï¼Œé‚£å¦‚ä½•è®¾ç½®å±…ä¸­å‘¢ï¼Ÿconstraintçš„æ€æƒ³å¾ˆå·§å¦™ã€‚

```
app:layout_constraintLeft_toLeftOf="parent"
app:layout_constraintRight_toRightOf="parent"
app:layout_constraintTop_toTopOf="parent"
app:layout_constraintBottom_toBottomOf="parent"
```

<br/>

å¤§å®¶çŸ¥é“å¦‚æœè®¾ç½®`app:layout_constraintLeft_toLeftOf=â€œparentâ€`,åˆ™viewä¼šè´´ç€çˆ¶viewçš„å·¦è¾¹ï¼Œè®¾ç½®`app:layout_constraintRight_toRightOf=â€œparentâ€ `åˆ™ä¼šè´´ç€å³è¾¹ï¼Œé‚£å¦‚æœä¸¤ä¸ªéƒ½è®¾ç½®ï¼Œæ•ˆæœä¼šæ€æ ·å‘¢ï¼Ÿ

![android0.0.55.png](./../Pictures/android0.0.55.png)


<br/><br/><br/>

> <h2 id="å¼¹æ€§å±…ä¸­">å¼¹æ€§å±…ä¸­</h2>

```
<androidx.constraintlayout.widget.ConstraintLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_marginTop="20dp"
    android:id="@+id/root"
    android:background="@color/blue_0000FF"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <TextView
        android:id="@+id/left_top"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:background="@color/teal_200"
        android:gravity="center"
        android:text="å·¦ä¸Šè§’"
        android:textSize="32sp"
        app:layout_constraintStart_toStartOf="@id/root"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintWidth_min="120dp" />

    <TextView
        android:id="@+id/right_top"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:background="@color/red_FF1493"
        android:gravity="center"
        android:text="å³ä¸Šè§’"
        app:layout_goneMarginStart="20dp"
        android:layout_marginStart="20dp"
        android:textSize="32sp"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintWidth_min="120dp" />

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="æˆ‘åœ¨å“ªé‡Œ"
        android:background="#ff0000"
        app:layout_constraintLeft_toRightOf="@+id/left_top"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintRight_toLeftOf="@+id/right_top"/>
</androidx.constraintlayout.widget.ConstraintLayout>

```


![android0.0.56.png](./../Pictures/android0.0.56.png)

è‡³æ­¤å¯ä»¥çœ‹å‡ºï¼Œå¯¹constraintçš„ç†è§£å…¶å®å¯ä»¥çœ‹æˆæ˜¯åƒä¸¤ä¸ªå¼¹ç°§ä¸€æ ·ï¼Œå¦‚æœåªåœ¨å·¦è¾¹åŠ ä¸€ä¸ªå¼¹ç°§ï¼Œå³è¾¹æ²¡æœ‰ï¼Œé‚£å·¦è¾¹çš„åŠ¿å¿…ä¼šæŠŠviewæ‹‰åˆ°å·¦è¾¹å»ï¼Œå¦‚æœåœ¨å³è¾¹ä¹ŸåŠ ä¸€æ ¹å¼¹ç°§ï¼Œä¸¤ä¸ªå¼¹ç°§åŠ›ç›¸äº’å¹³è¡¡ï¼Œåˆ™viewå°±å±…ä¸­äº†ã€‚

<br/><br/>

ä¸Šé¢æ˜¯viewå±…ä¸­ï¼Œå¦‚æœæˆ‘æƒ³è®©viewå‘å·¦åä¸€äº›ï¼Œæˆ–è€…ä½äº1/3å¤„è¯¥æ€ä¹ˆå¤„ç†ï¼Ÿå…¶å®ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œæƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœå·¦è¾¹çš„å¼¹ç°§åŠ›å¤§ä¸€äº›ï¼Œviewä¸æ˜¯å°±è‡ªç„¶å¾€å·¦åäº†å˜›ã€‚å¦‚ä½•ä½¿åŠ›å¤§ä¸€äº›å‘¢ï¼Ÿä½¿ç”¨å¦‚ä¸‹å±æ€§

<br/>

- `layout_constraintHorizontal_bias`

- `layout_constraintVertical_bias`

è¿™ä¸¤ä¸ªå±æ€§å•ç‹¬ä½¿ç”¨å¹¶ä¸èƒ½ç”Ÿæ•ˆï¼Œæ°´å¹³æ–¹å‘çš„å¿…é¡»è¦ç»™æ§ä»¶çš„å·¦å³ä¸¤è¾¹éƒ½æ·»åŠ çº¦æŸæ‰ä¼šç”Ÿæ•ˆï¼Œå‚ç›´æ–¹å‘çš„å¿…é¡»è¦ç»™æ§ä»¶çš„ä¸Šä¸‹ä¸¤è¾¹éƒ½æ·»åŠ çº¦æŸæ‰å¯ä»¥ç”Ÿæ•ˆã€‚

<br/>

biaså³åç§»é‡,ä»–ä»¬çš„å–å€¼èŒƒå›´ä»0~1ï¼Œ0å³æŒ¨ç€å·¦è¾¹ï¼Œ1æ˜¯æŒ¨ç€å³è¾¹ï¼Œæ‰€ä»¥è¦ä½¿å¤„äº1/3å¤„ï¼Œå¯ä»¥è®¾ç½®å¦‚ä¸‹å±æ€§`app:layout_constraintHorizontal_bias=â€œ0.33â€`,æ•ˆæœå›¾å¦‚ä¸‹ï¼š



```
    <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto"
        xmlns:tools="http://schemas.android.com/tools"
        android:id="@+id/root"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/purple_200">

        <android.widget.Button
            android:id="@+id/button13"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:background="@color/red_FF1493"
            android:text="Button"
            app:layout_constraintHorizontal_bias="0.4"
            app:layout_constraintLeft_toRightOf="@+id/left_top"
            app:layout_constraintRight_toRightOf="parent"
            app:layout_constraintVertical_bias="0"
            tools:layout_editor_absoluteX="120dp"
            tools:layout_editor_absoluteY="189dp"
            tools:ignore="MissingConstraints" />

        <TextView
            android:id="@+id/left_top"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:background="@color/teal_700"
            android:gravity="center"
            android:text="å·¦ä¸Šè§’"
            android:textSize="32sp"
            app:layout_constraintStart_toStartOf="@id/root"
            app:layout_constraintTop_toTopOf="parent"
            app:layout_constraintWidth_min="120dp" />
    </androidx.constraintlayout.widget.ConstraintLayout>

```

![android0.0.61.png](./../Pictures/android0.0.61.png)

æ¯”å¦‚è¿™ä¸ªä¾‹å­ï¼ŒButtonçš„å·¦è¾¹è¢«TextViewçš„å³è¾¹çº¦æŸï¼ŒButtonçš„å³è¾¹è¢«parentçº¦æŸï¼Œè¿™æ ·Buttonçš„å·¦å³ä¸¤è¾¹éƒ½æœ‰çº¦æŸï¼Œé‚£ä¹ˆç»™Buttonæ·»åŠ æ°´å¹³æ–¹å‘çš„biaså±æ€§å°±å¯ä»¥ç”Ÿæ•ˆï¼Œå³æ ¹æ®Buttonçš„å·¦è¾¹çº¦æŸåç§»ä¸€å®šçš„æ¯”ä¾‹ï¼Œè¿™é‡Œå°±æ˜¯ç›¸å¯¹äºTextViewçš„å³è¾¹ä½ç½®åç§»40%ã€‚
biasçš„åç§»ï¼Œæ˜¯æ ¹æ®æ§ä»¶çš„æ°´å¹³æˆ–è€…å‚ç›´æ–¹å‘çš„å‰©ä½™ä½ç½®çš„ç™¾åˆ†æ¯”æ¥åç§»ã€‚


<br/><br/><br/>

> <h2 id="viewçš„å°ºå¯¸">viewçš„å°ºå¯¸</h2>

è®¾ç½®viewçš„å¤§å°é™¤äº†ä¼ ç»Ÿçš„wrap_contentã€æŒ‡å®šå°ºå¯¸ã€match_parent(è™½ç„¶å®˜æ–¹ä¸æ¨èä½¿ç”¨match_parent)å¤–ï¼Œè¿˜å¯ä»¥è®¾ç½®ä¸º0dpï¼ˆå®˜æ–¹å–åå«MATCH_CONSTRAINTï¼‰ï¼Œ0dpåœ¨constraintå¯ä¸æ˜¯æŒ‡å¤§å°æ˜¯0dpï¼Œè€Œæ˜¯æœ‰ç‰¹æ®Šå«ä¹‰çš„ã€‚ä»–çš„ä½œç”¨ä¼šéšç€ä¸åŒçš„è®¾ç½®æœ‰ä¸åŒçš„å«ä¹‰ï¼š

layout_constraintWidth_defaultï¼Œæœ‰ä¸‰ä¸ªå–å€¼ï¼Œä½œç”¨å¦‚ä¸‹ï¼š

<br/><br/><br/>

> <h2 id="spreadå ç”¨ç¬¦åˆçº¦æŸç©ºé—´">spreadå ç”¨ç¬¦åˆçº¦æŸç©ºé—´</h2>

- **1ã€spreadï¼Œé»˜è®¤å€¼ï¼Œæ„æ€æ˜¯å ç”¨æ‰€æœ‰çš„ç¬¦åˆçº¦æŸçš„ç©ºé—´**

```
<androidx.constraintlayout.widget.ConstraintLayout
    android:id="@+id/root"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_marginTop="20dp"
    android:background="@color/purple_200">

    <android.widget.Button
        android:id="@+id/a"
        android:layout_width="0dp"
        android:layout_height="81dp"
        android:layout_marginLeft="20dp"
        android:layout_marginRight="20dp"
        android:background="@color/red_Crimson_DC143C"
        android:text="A"
        app:layout_constraintLeft_toLeftOf="parent"
        app:layout_constraintRight_toRightOf="parent"
        tools:ignore="MissingConstraints" />


</androidx.constraintlayout.widget.ConstraintLayout>
```

![android0.0.57.png](./../Pictures/android0.0.57.png)

å¯ä»¥çœ‹åˆ°layout_widthä¸º0dpï¼Œå®é™…çš„æ•ˆæœåˆ™æ˜¯å®½åº¦å’Œçº¦æŸä¸€æ ·ï¼Œå·¦å³ä¸¤è¾¹çš„ç•™ç™½æ˜¯marginçš„æ•ˆæœã€‚


<br/><br/><br/>

> <h2 id="ç™¾åˆ†æ¯”å ç”¨ç©ºé—´">ç™¾åˆ†æ¯”å ç”¨ç©ºé—´</h2>


- **2.percentï¼Œæ„æ€æ˜¯æŒ‰ç…§çˆ¶å¸ƒå±€çš„ç™¾åˆ†æ¯”è®¾ç½®,éœ€è¦layout_constraintWidth_percentè®¾ç½®ç™¾åˆ†æ¯”ä¾‹**

```
 <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/root"
    android:layout_width="300dp"
    android:layout_height="400dp"
    android:layout_marginTop="20dp"
    android:layout_marginLeft="40dp"
    android:background="@color/blue_0000FF"
    app:layout_constraintHorizontal_bias="0.3">

    <android.widget.Button
        android:id="@+id/a"
        android:layout_width="0dp"
        android:layout_height="60dp"
        android:background="@color/red_Crimson_DC143C"
        android:text="AAAAA"
        app:layout_constraintRight_toRightOf="parent"
        app:layout_constraintWidth_default="percent"
        app:layout_constraintWidth_percent="0.4"
        tools:ignore="MissingConstraints" />

</androidx.constraintlayout.widget.ConstraintLayout>
```

![android0.0.58.png](./../Pictures/android0.0.58.png)

æ•ˆæœå›¾ï¼š

![android0.0.59.png](./../Pictures/android0.0.59.png)

Açš„å®½åº¦è®¾ä¸º0.4ï¼Œåˆ™å…¶å®½åº¦ä¸ºçˆ¶å¸ƒå±€çš„0.4å€ã€‚å¦å¤–ï¼Œè®¾ç½®äº†layout_constraintWidth_percentå±æ€§ï¼Œå¯ä»¥ä¸ç”¨æŒ‡å®šlayout_constraintWidth_defaultï¼Œä»–ä¼šè‡ªåŠ¨è®¾ç½®ä¸ºpercent

<br/><br/><br/>

> <h2 id="wrap">wrap</h2>

æ„æ€åŒ¹é…å†…å®¹å¤§å°ä½†ä¸è¶…è¿‡çº¦æŸé™åˆ¶ï¼Œæ³¨æ„å’Œç›´æ¥æŒ‡å®šå®½åº¦ä¸ºwrap_contentçš„åŒºåˆ«å°±æ˜¯ä¸è¶…è¿‡çº¦æŸé™åˆ¶ï¼Œå¦‚ä¸‹ï¼š

```
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/root"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_marginTop="20dp"
    android:background="@color/blue_0000FF">

    <android.widget.Button
        android:id="@+id/a"
        android:layout_width="0dp"
        android:layout_height="60dp"
        android:background="@color/red_Crimson_DC143C"
        android:text="A"
        app:layout_constraintLeft_toLeftOf="parent"
        tools:ignore="MissingConstraints" />

    <android.widget.Button
        android:id="@+id/c"
        android:layout_width="0dp"
        android:layout_height="60dp"
        android:background="@color/red_Crimson_DC143C"
        android:text="C"
        app:layout_constraintRight_toRightOf="parent"
        tools:ignore="MissingConstraints" />


    <android.widget.Button
        android:id="@+id/b"
        android:layout_width="0dp"
        android:layout_height="60dp"
        android:background="@color/green_40E0D0"
        android:text="bbbbbbbbbbbbbbbbbbbbbbbbbb1111111111111111"
        app:layout_constraintLeft_toRightOf="@id/a"
        app:layout_constraintRight_toLeftOf="@id/c"
        app:layout_constraintWidth_default="wrap"
        tools:ignore="MissingConstraints" />

    <android.widget.Button
        android:id="@+id/d"
        android:layout_width="wrap_content"
        android:layout_height="60dp"
        android:background="@color/purple_200"
        android:text="ddddddddddddd00000000000000000000000"
        app:layout_constraintLeft_toRightOf="@id/a"
        app:layout_constraintRight_toLeftOf="@id/c"
        app:layout_constraintTop_toBottomOf="@id/b" />

</androidx.constraintlayout.widget.ConstraintLayout>

```


![android0.0.60.png](./../Pictures/android0.0.60.png)

å¯ä»¥çœ‹åˆ°è™½ç„¶æ–‡å­—å¾ˆé•¿ï¼Œä½†ç¬¬ä¸€è¡Œçš„ç»¿è‰²buttonå®½åº¦è¾¾åˆ°çº¦æŸæ—¶ï¼Œå°±ä¸åœ¨å¢åŠ ï¼Œè€Œç¬¬äºŒè¡Œçš„buttonæ˜¾ç¤ºäº†å®Œæ•´çš„å†…å®¹ï¼Œè¶…è¿‡çº¦æŸçš„é™åˆ¶ã€‚

<br/><br/><br/>

> <h2 id="ratioå®½é«˜æ¯”ä¾‹">ratioå®½é«˜æ¯”ä¾‹</h2>


layout_constraintDimensionRatioï¼Œå³å®½å’Œé«˜æˆä¸€å®šçš„æ¯”ä¾‹ï¼Œå…¶å€¼å¯ä»¥æ˜¯"width:height"çš„å½¢å¼ï¼Œä¹Ÿå¯ä»¥æ˜¯width/heightçš„å€¼ã€‚è¯¥å±æ€§ç”Ÿæ•ˆçš„å‰æï¼šå®½å’Œé«˜å…¶ä¸­æœ‰ä¸€é¡¹ä¸º0dpï¼Œæœ‰constraintã€‚ä¸‹é¢æŒ‰ç…§æœ‰å‡ ä¸ª0dpæ¥åˆ†åˆ«ä»‹ç»ä¸‹ï¼š

å¦‚æœåªæœ‰ä¸€é¡¹ä¸º0dpï¼Œåˆ™è¯¥é¡¹å€¼æŒ‰ç…§æ¯”ä¾‹è®¡ç®—å‡ºæ¥ã€‚æ¯”å¦‚é«˜ä¸º20dpï¼Œå®½ä¸º0dpï¼Œradioä¸º"2:1",åˆ™æœ€ç»ˆå®½ä¸º40dp

å¦‚æœä¸¤é¡¹éƒ½ä¸º0dpï¼Œåˆ™å°ºå¯¸ä¼šè®¾ç½®ä¸ºæ»¡è¶³çº¦æŸçš„æœ€å¤§å€¼å¹¶ä¿æŒæ¯”ä¾‹ã€‚å› ä¸ºè¿™æ˜¯ç³»ç»Ÿè®¡ç®—çš„ï¼Œæœ‰çš„æ—¶å€™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡åœ¨å‰é¢åŠ Hã€Wæ¥æŒ‡å®šæ˜¯å“ªä¸€ä¸ªè¾¹éœ€è¦è®¡ç®—ã€‚ä¾‹å¦‚"H,2:1",åˆ™æ˜¯æŒ‡å®½åº¦åŒ¹é…çº¦æŸï¼Œé«˜åº¦æ˜¯å®½åº¦çš„1/2


<br/><br/><br/>

> <h2 id="maxå’Œmin">maxå’Œmin</h2>
```
layout_constraintWidth_min
layout_constraintWidth_max
layout_constraintHeight_max
layout_constraintHeight_min

```

- åœ¨ConstraintLayoutä¸­ç»™æ§ä»¶è®¾ç½®minçš„å®½åº¦å’Œé«˜åº¦ï¼Œå¿…é¡»æ˜¯è¦æ§ä»¶çš„layout_widthæˆ–è€…layout_heightä¸ºwrap_contentæˆ–è€…0dpæ—¶ã€‚

- ç»™æ§ä»¶è®¾ç½®maxçš„å®½åº¦æˆ–è€…é«˜åº¦çš„æ—¶å€™ï¼Œå¿…é¡»æ˜¯è¦æ§ä»¶çš„layout_widthæˆ–è€…layout_heightä¸º0dpæ—¶ã€‚


<br/>

ä¸è¿‡åœ¨è®¾ç½®maxçš„æ—¶å€™éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œå¦‚æœå•çº¯åªæ˜¯è®¾ç½®äº†0dpï¼Œå¦‚æœæ²¡ç»™æ§ä»¶æ·»åŠ å¯¹åº”çš„å·¦å³çº¦æŸæˆ–è€…ä¸Šä¸‹çº¦æŸï¼Œæ¯”å¦‚æ²¡æœ‰è®¾ç½®å·¦å³çº¦æŸï¼Œé‚£ä¹ˆlayout_constraintWidth_maxè®¾ç½®çš„å†å¤§ä¹Ÿä¸ä¼šè¶…è¿‡æ•´ä¸ªæ§ä»¶çš„wrap_contentçš„é•¿åº¦ã€‚

```
<androidx.constraintlayout.widget.ConstraintLayout
    android:id="@+id/root"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_marginTop="20dp"
    android:background="@color/blue_0000FF">
    
    <TextView
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:background="@color/purple_200"
        android:maxLines="1"
        android:text="layout_constraintWidth_max1111111111111"
        app:layout_constraintWidth_max="550dp"
        tools:ignore="MissingConstraints"
        tools:layout_editor_absoluteX="100dp"
        tools:layout_editor_absoluteY="100dp" />

</androidx.constraintlayout.widget.ConstraintLayout>
```


![android0.0.62.png](./../Pictures/android0.0.62.png)

è¿™é‡Œçš„ç»¿è‰²åŒºåŸŸçš„æ§ä»¶ï¼Œå®½åº¦æ˜¾ç¤ºçš„æ˜æ˜¾æ²¡æœ‰è¾¾åˆ°550dpï¼Œä½†æ˜¯ä¹Ÿä¸ä¼šç»§ç»­å˜é•¿äº†ã€‚

å¦‚æœæ˜¯è®¾ç½®äº†å·¦å³çº¦æŸï¼Œé‚£ä¹ˆæœ€å¤§å®½åº¦çš„é™åˆ¶ä¹Ÿå°±æ˜¯å·¦å³ä¸¤ä¸ªçº¦æŸä¸­é—´çš„å‰©ä½™ç©ºé—´å®½åº¦

<br/><br/>

å¦‚æœæ˜¯è®¾ç½®äº†å·¦å³çº¦æŸï¼Œé‚£ä¹ˆæœ€å¤§å®½åº¦çš„é™åˆ¶ä¹Ÿå°±æ˜¯å·¦å³ä¸¤ä¸ªçº¦æŸä¸­é—´çš„å‰©ä½™ç©ºé—´å®½åº¦


```
<androidx.constraintlayout.widget.ConstraintLayout
    android:id="@+id/root"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_marginTop="20dp"
    android:background="@color/blue_0000FF">
    
    <TextView
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:background="@color/purple_200"
        android:maxLines="1"
        android:text="22222222222222222222layout_constraintWidth_max11111111111113333"
        app:layout_constraintWidth_max="550dp"
        app:layout_constraintLeft_toLeftOf="parent"
        app:layout_constraintRight_toRightOf="parent"
        tools:ignore="MissingConstraints"
        tools:layout_editor_absoluteX="100dp"
        tools:layout_editor_absoluteY="100dp" />
</androidx.constraintlayout.widget.ConstraintLayout>
```


![android0.0.63.png](./../Pictures/android0.0.63.png)

<br/><br/><br/>

> <h2 id="Guidelineå’ŒBarrier">Guidelineå’ŒBarrier</h2>

- **1.GuideLine**

å³å‚è€ƒçº¿çš„æ„æ€ï¼Œæœ‰æ°´å¹³å‚è€ƒçº¿å’Œç«–ç›´å‚è€ƒçº¿ä¸¤ç§ã€‚ä»–çš„ä½œç”¨å°±åƒæ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„å‚è€ƒçº¿ï¼Œåªæ˜¯ç”¨æ¥æ–¹ä¾¿å…¶ä»–Viewä»¥ä»–ä¸ºé”šç‚¹æ¥å¸ƒå±€ã€‚

å¦‚ä¸Šä¸€ç¯‡æ‰€äº†è§£åˆ°çš„ï¼ŒConstraintLayout çš„å®šä½åŸåˆ™å°±æ˜¯ä¸€ä¸ªViewå‚è€ƒå…¶ä»–Viewçš„ç›¸å¯¹å¸ƒå±€ï¼Œå¦‚æœæœ‰çš„æ—¶å€™å½“å‰å¸ƒå±€æ²¡æœ‰åˆé€‚çš„å‚è€ƒViewï¼Œè€Œå»ºä¸€ä¸ªä¸“é—¨ç”¨äºå®šä½çš„Viewåˆä¼šå¤ªé‡ï¼Œè¿™ç§æƒ…å†µæ­£æ˜¯GuideLineçš„ç”¨æ­¦ä¹‹åœ°ã€‚

```
<androidx.constraintlayout.widget.ConstraintLayout
    android:id="@+id/root"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_marginTop="20dp"
    android:background="@color/blue_0000FF">

    <androidx.constraintlayout.widget.Guideline
        android:id="@+id/guideline"
        android:layout_width="2dp"
        android:layout_height="1dp"
        android:orientation="vertical"
        app:layout_constraintGuide_percent="0.33" />

    <androidx.constraintlayout.widget.Guideline
        android:id="@+id/guideline2"
        android:layout_width="1dp"
        android:layout_height="1dp"
        android:orientation="horizontal"
        app:layout_constraintGuide_begin="130dp" />

    <android.widget.Button
        android:id="@+id/b"
        android:layout_width="0dp"
        android:layout_height="60dp"
        android:background="@color/green_40E0D0"
        android:text="bbbb"
        app:layout_constraintLeft_toLeftOf="@id/guideline"
        app:layout_constraintTop_toTopOf="@id/guideline2"
        app:layout_constraintWidth_default="wrap"
        tools:ignore="MissingConstraints" />


</androidx.constraintlayout.widget.ConstraintLayout>

```


![android0.0.64.png](./../Pictures/android0.0.64.png)

å¯ä»¥çœ‹åˆ°æˆ‘åˆ†åˆ«æ·»åŠ äº†ä¸€ä¸ªæ°´å¹³å‚è€ƒçº¿å’Œç«–ç›´å‚è€ƒçº¿ï¼Œä¹‹åçš„Buttonçš„å¸ƒå±€å°±å‚è€ƒä¸è¿™ä¸¤ä¸ªå‚è€ƒçº¿ï¼Œè€Œåœ¨å¸ƒå±€ä¸­å¹¶ä¸ä¼šæ˜¾ç¤ºã€‚
Guidelineçš„å¤§éƒ¨åˆ†çš„å±æ€§å¦‚layout_widthéƒ½æ˜¯ä¸ä¼šç”Ÿæ•ˆçš„ï¼Œè€Œä»–çš„ä½ç½®çš„ç¡®å®šæ˜¯ç”±ä¸‹é¢ä¸‰ä¸ªå±æ€§ä¹‹ä¸€æ¥ç¡®å®šçš„ï¼š

- `layout_constraintGuide_begin`ï¼šè·ç¦»çˆ¶å¸ƒå±€çš„å·¦è¾¹æˆ–è€…ä¸Šè¾¹å¤šå¤§è·ç¦»
- `layout_constraintGuide_end`:è·ç¦»çˆ¶å¸ƒå±€çš„å³è¾¹æˆ–è€…ä¸‹è¾¹å¤šå¤§è·ç¦»
- `layout_constraintGuide_percent`ï¼šç™¾åˆ†æ¯”ï¼Œ0~1ï¼Œè·ç¦»çˆ¶å¸ƒå±€çš„å·¦è¾¹æˆ–è€…ä¸Šè¾¹å çˆ¶å¸ƒå±€çš„æ¯”ä¾‹

<br/> <br/>

- **2,Barrier**

å±éšœï¼Œä¸€ä¸ªè™šæ‹ŸViewã€‚ä»–ä¸»è¦è§£å†³ä¸‹é¢é‡åˆ°çš„é—®é¢˜ï¼š

![android0.0.65.png](./../Pictures/android0.0.65.png)

<br/>

å¦‚ä¸Šå›¾å¸ƒå±€ï¼Œä¸¤ä¸ªTextViewï¼Œä¸€ä¸ªbuttonä½äºä»–ä»¬çš„å³è¾¹ã€‚ç°åœ¨buttonè®¾ç½®çš„æ˜¯åœ¨ä¸‹é¢TextViewçš„å³è¾¹ã€‚å‡è®¾æœ‰æ—¶å€™ä¸Šé¢çš„TextViewæ–‡æœ¬å˜é•¿äº†ï¼Œåˆ™å¸ƒå±€ä¼šå˜ä¸ºä¸‹é¢è¿™ä¸ªæ ·å­ï¼š

![android0.0.66.png](./../Pictures/android0.0.66.png)

ä¸Šé¢çš„TextViewå’ŒButtoné‡å äº†ã€‚è¿™æ—¶è¯¥æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼ŸButtonåªèƒ½è®¾ç½®ä¸€ä¸ªViewä½œä¸ºé”šç‚¹ï¼Œè®¾ç½®äº†ä¸Šé¢å°±é¡¾ä¸äº†ä¸‹é¢äº†ã€‚ã€‚ã€‚
æ‰€ä»¥å°±è¯ç”Ÿäº†Barrierï¼Œä»–å¯ä»¥è®¾ç½®Nä¸ªViewä½œä¸ºé”šç‚¹ï¼Œä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š

```
<android.support.constraint.Barrier
  android:id="@+id/barrier"
  android:layout_width="wrap_content"
  android:layout_height="wrap_content"
  app:barrierDirection="end"//end,left,right,top,bottom
  app:constraint_referenced_ids="text1,text2" />
```

åˆ™Barrierå§‹ç»ˆä½äºtext1,text2ä¸¤ä¸ªViewæœ€å¤§å®½åº¦çš„å³è¾¹ï¼Œç¤ºæ„å›¾å¦‚ä¸‹ï¼š

![android0.0.67.png](./../Pictures/android0.0.67.png)

<br/><br/>

- **3.Guidelineå’ŒBarrierçš„åŒºåˆ«**

è¿™ä¸¤ä¸ªéƒ½æ˜¯çº¿æ¡ï¼Œéƒ½æ˜¯è¾…åŠ©çº¦æŸçš„ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªæœ‰ä¸€ç‚¹åŒºåˆ«ï¼Œå°±æ˜¯å½“æ§ä»¶æ¯”å¦‚å‡ºç°åˆ‡æ¢æ‰‹æœºè¯­è¨€ï¼Œè€Œé€ æˆæ§ä»¶ä¸Šçš„æ–‡æœ¬æ˜¾ç¤ºé•¿åº¦å‡ºç°å˜åŒ–çš„æ—¶å€™ï¼ŒGuidelineå¹¶ä¸ä¼šéšç€æ§ä»¶çš„é•¿åº¦å˜åŒ–è€Œå˜åŒ–ï¼Œè¿™æ ·å°±ä¼šé€ æˆçº¦æŸä¸çµæ´»ï¼Œè€ŒBarrierå¯ä»¥æ ¹æ®æ§ä»¶çš„å®½é«˜å˜åŒ–ï¼Œçµæ´»ç§»åŠ¨ä½ç½®ã€‚

æ‰€ä»¥æ§ä»¶å®½é«˜æ˜¯éšç€å†…å®¹åŠ¨æ€å˜åŒ–çš„ï¼Œå»ºè®®ä½¿ç”¨Barrierï¼Œå¦‚æœæ§ä»¶çš„å†…å®¹æ˜¯ä¸å˜çš„ï¼Œå¯ä»¥ä½¿ç”¨Guidelineã€‚



















<br/><br/><br/>

> <h2 id='è¯¦è§£Application'>è¯¦è§£Application</h2>


**android.app.Application** ç±»æ˜¯Androidåº”ç”¨ç¨‹åºçš„åŸºç¡€ç±»ï¼Œå®ƒæ‰®æ¼”ç€æ•´ä¸ªåº”ç”¨ç¨‹åºç¯å¢ƒçš„å…¨å±€å®¹å™¨è§’è‰²ã€‚ä»¥ä¸‹å‡ ç‚¹æ¦‚è¿°äº†Applicationç±»çš„ä¸»è¦ç”¨é€”å’Œé‡è¦æ€§ï¼š

-  **å…¨å±€çŠ¶æ€ç®¡ç†ï¼š** æ‚¨å¯ä»¥å°†Applicationç±»ç”¨ä½œå­˜å‚¨æ•´ä¸ªåº”ç”¨ç¨‹åºèŒƒå›´å†…çš„å…¨å±€çŠ¶æ€ä¿¡æ¯çš„åœ°æ–¹ï¼Œæ¯”å¦‚é…ç½®è®¾ç½®ã€å…¨å±€å˜é‡ç­‰ã€‚é€šè¿‡å®šä¹‰é™æ€æˆå‘˜æˆ–å®ä¾‹å˜é‡ï¼Œæ‚¨å¯ä»¥åœ¨åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶ï¼ˆå¦‚Activitiesã€Servicesã€BroadcastReceiversï¼‰ä¹‹é—´å…±äº«æ•°æ®ã€‚

-  **ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼š** å°½ç®¡Applicationç±»æ²¡æœ‰åƒActivityé‚£æ ·çš„æ˜æ˜¾ç”Ÿå‘½å‘¨æœŸå›è°ƒï¼ˆå¦‚onCreateã€onStartã€onResumeç­‰ï¼‰ï¼Œä½†å®ƒç¡®å®æœ‰ä¸€ä¸ªé‡è¦çš„å›è°ƒæ–¹æ³•onCreate()ï¼Œè¯¥æ–¹æ³•åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶è¢«è°ƒç”¨ä¸€æ¬¡ã€‚æ‚¨å¯ä»¥åœ¨onCreate()ä¸­æ‰§è¡Œåº”ç”¨çº§åˆ«çš„åˆå§‹åŒ–æ“ä½œï¼Œå¦‚åˆå§‹åŒ–æ•°æ®åº“è¿æ¥ã€ç¬¬ä¸‰æ–¹åº“ã€å…¨å±€å˜é‡ç­‰ã€‚

-  **èµ„æºåˆå§‹åŒ–ï¼š** å› ä¸ºApplicationçš„onCreate()æ–¹æ³•åœ¨æ•´ä¸ªåº”ç”¨å¯åŠ¨ä¹‹åˆå°±ä¼šè¢«è°ƒç”¨ï¼Œå®ƒæ˜¯è¿›è¡Œå…¨å±€èµ„æºåˆå§‹åŒ–çš„ç†æƒ³æ—¶æœºï¼Œä¾‹å¦‚è®¾ç½®ç¼“å­˜ã€åˆå§‹åŒ–ç½‘ç»œè¿æ¥æ± ã€åŠ è½½é…ç½®æ–‡ä»¶ç­‰ã€‚

-  **å¼‚å¸¸å¤„ç†ï¼š** Applicationç±»å¯ä»¥ç”¨æ¥å®ç°å…¨å±€çš„å¼‚å¸¸æ•è·å’Œå¤„ç†æœºåˆ¶ï¼Œé€šè¿‡è‡ªå®šä¹‰çš„Thread.UncaughtExceptionHandlerï¼Œå¯ä»¥æ•è·æœªå¤„ç†çš„å¼‚å¸¸å¹¶é‡‡å–ç›¸åº”æªæ–½ï¼Œå¦‚è®°å½•æ—¥å¿—ã€å´©æºƒæŠ¥å‘Šç­‰ã€‚

-  **å•ä¾‹æ¨¡å¼ï¼š** ç”±äºæ¯ä¸ªAndroidåº”ç”¨åªä¼šæœ‰ä¸€ä¸ªApplicationå®ä¾‹ï¼Œå› æ­¤å®ƒè‡ªç„¶ç¬¦åˆå•ä¾‹æ¨¡å¼ã€‚é€šè¿‡å®šä¹‰é™æ€æ–¹æ³•è·å–è¿™ä¸ªå®ä¾‹ï¼Œæ‚¨å¯ä»¥ç¡®ä¿åœ¨åº”ç”¨çš„ä»»ä½•ä½ç½®éƒ½å¯ä»¥è®¿é—®åˆ°ç›¸åŒçš„Applicationå¯¹è±¡ï¼Œè¿™æœ‰åˆ©äºç®¡ç†è·¨ç»„ä»¶å…±äº«çš„èµ„æºå’ŒæœåŠ¡ã€‚

-  **ç»„ä»¶é—´é€šä¿¡ï¼š** è™½ç„¶ä¸æ˜¯ç›´æ¥çš„é€šä¿¡æ¡¥æ¢ï¼Œä½†Applicationç±»å¯ä»¥ä½œä¸ºä¸€ä¸ªä¸­å¿ƒç‚¹æ¥å­˜æ”¾ç”¨äºè·¨ç»„ä»¶é€šä¿¡çš„æ•°æ®æˆ–æ¥å£ï¼Œæ¯”å¦‚ä½¿ç”¨EventBusæ—¶ï¼Œå¯ä»¥åœ¨Applicationä¸­è¿›è¡Œæ³¨å†Œå’Œæ³¨é”€ã€‚

æ€»ä¹‹ï¼Œ**android.app.Application**ç±»ä¸ºå¼€å‘è€…æä¾›äº†ä¸€ä¸ªæ§åˆ¶å’Œç®¡ç†æ•´ä¸ªåº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸã€çŠ¶æ€å’Œèµ„æºçš„ä¸­å¿ƒç‚¹ï¼Œæ˜¯æ„å»ºå¤æ‚åº”ç”¨æ¶æ„æ—¶ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚


<br/><br/><br/>

> <h2 id='è¯¦è§£Context'>è¯¦è§£Context</h2>

**Context**æ˜¯ä¸€ä¸ªéå¸¸æ ¸å¿ƒçš„ç±»ï¼Œå‡ ä¹è´¯ç©¿äº†æ•´ä¸ªåº”ç”¨çš„å¼€å‘è¿‡ç¨‹ã€‚ç®€å•æ¥è¯´ï¼ŒContextå¯ä»¥ç†è§£ä¸ºæä¾›ç»™åº”ç”¨è®¿é—®ç³»ç»ŸæœåŠ¡å’Œèµ„æºçš„ä¸€ä¸ªæ¡¥æ¢æˆ–è€…ç¯å¢ƒã€‚æ¯ä¸ªAndroidåº”ç”¨ç»„ä»¶ï¼ˆå¦‚Activity, Service, BroadcastReceiver, ContentProviderï¼‰åœ¨è¿è¡Œæ—¶éƒ½ä¼šæœ‰ä¸€ä¸ªå…³è”çš„Contextå¯¹è±¡ï¼Œå®ƒå…è®¸è¯¥ç»„ä»¶è®¿é—®åº”ç”¨çš„èµ„æºã€å¯åŠ¨å…¶ä»–ç»„ä»¶ã€è·å–ç³»ç»ŸæœåŠ¡ç­‰ã€‚

<br/><br/><br/>

> <h2 id='getContext()çš„ä½œç”¨'>getContext()çš„ä½œç”¨</h2>

getContext() æ˜¯Androidå¼€å‘ä¸­å¸¸è§çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä¸»è¦åœ¨ä¸ä¸Šä¸‹æ–‡(Context)ç›¸å…³çš„ç±»ä¸­ä½¿ç”¨ï¼Œå¦‚View, Fragmentç­‰ã€‚è¿™ä¸ªæ–¹æ³•çš„ä½œç”¨æ˜¯è¿”å›å½“å‰å¯¹è±¡æ‰€å…³è”çš„Androidä¸Šä¸‹æ–‡(Context)å¯¹è±¡ã€‚

<br/><br/>

- **ä½œç”¨ï¼š**

	- **è®¿é—®èµ„æº**ï¼šé€šè¿‡Contextï¼Œä½ å¯ä»¥è®¿é—®åº”ç”¨çš„èµ„æºï¼Œå¦‚å­—ç¬¦ä¸²ã€å›¾ç‰‡ã€å¸ƒå±€æ–‡ä»¶ç­‰ã€‚ä¾‹å¦‚ï¼Œ`getContext().getString(R.string.app_name)`å¯ä»¥è·å–åº”ç”¨åç§°å­—ç¬¦ä¸²èµ„æºã€‚


	-  **å¯åŠ¨Activityæˆ–Serviceï¼š** Contextæä¾›äº†å¯åŠ¨å…¶ä»–Activityæˆ–Serviceçš„æ–¹æ³•ï¼Œå¦‚`getContext().startActivity(intent)`ã€‚

	-  **è·å–ç³»ç»ŸæœåŠ¡ï¼š** å¯ä»¥ç”¨æ¥è·å–ç³»ç»Ÿçš„å„ç§æœåŠ¡ï¼Œå¦‚`LocationManagerã€NotificationManager`ç­‰ï¼Œå¦‚`getContext().getSystemService(Context.LOCATION_SERVICE)`ã€‚

	-  **åˆ›å»ºViewï¼š** åœ¨åˆ›å»ºæ–°çš„Viewæ—¶ï¼Œé€šå¸¸éœ€è¦ä¼ å…¥ä¸€ä¸ªContextå¯¹è±¡ï¼Œä»¥ç¡®ä¿æ–°åˆ›å»ºçš„Viewèƒ½å¤Ÿè®¿é—®åˆ°åº”ç”¨çš„èµ„æºå’Œä¸»é¢˜è®¾ç½®ã€‚

	-  **æ–‡ä»¶æ“ä½œï¼š** ç”¨äºè®¿é—®åº”ç”¨çš„å†…éƒ¨æˆ–å¤–éƒ¨å­˜å‚¨ç©ºé—´ï¼Œå¦‚é€šè¿‡getContext().openFileOutput()å†™å…¥æ–‡ä»¶ã€‚

<br/> <br/>

- **æ³¨æ„äº‹é¡¹**

	-  **å†…å­˜æ³„æ¼é£é™©ï¼š** æŒæœ‰Contextçš„å¼•ç”¨å¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼Œç‰¹åˆ«æ˜¯å½“é•¿æ—¶é—´æŒæœ‰ä¸€ä¸ªActivityçš„Contextæ—¶ã€‚æ¨èåœ¨ä¸éœ€è¦ä½¿ç”¨Activityç‰¹å®šåŠŸèƒ½æ—¶ï¼Œä½¿ç”¨Application Contextè€ŒéActivity Contextã€‚

	-  **Contextç±»å‹**ï¼šgetContext()åœ¨ä¸åŒçš„åœºæ™¯ä¸‹å¯èƒ½è¿”å›ä¸åŒç±»å‹çš„Contextã€‚åœ¨Fragmentæˆ–Viewä¸­ï¼Œé€šå¸¸è¿”å›çš„æ˜¯å®¿ä¸»Activityçš„Contextï¼›è€Œåœ¨Applicationæˆ–Serviceä¸­ç›´æ¥ä½¿ç”¨ï¼Œè¿”å›çš„å°±æ˜¯å¯¹åº”ç±»å‹çš„Contextã€‚



<br/><br/><br/>

> <h2 id="ç¢ç‰‡ğŸ§©Fragment">ç¢ç‰‡ğŸ§©Fragment</h2>

![android0.0.26.png](./../Pictures/android0.0.26.png)




<br/>

***
<br/><br/><br/>

> <h1 id="æŒä¹…åŒ–å­˜å‚¨">æŒä¹…åŒ–å­˜å‚¨</h1>


<br/><br/><br/>

> <h2 id="æ–‡ä»¶å­˜å‚¨">æ–‡ä»¶å­˜å‚¨</h2>

åœ¨Android Studioä¸­æ‰“å¼€å­˜å‚¨çš„æ–‡ä»¶ï¼š

![android0.0.27.png](./../Pictures/android0.0.27.png)



<br/><br/><br/>

> <h2 id="SharedPreferenceså­˜å‚¨">SharedPreferenceså­˜å‚¨</h2>

åœ¨Android Studioä¸­æ‰“å¼€å­˜å‚¨çš„æ–‡ä»¶ï¼š

![android0.0.28.png](./../Pictures/android0.0.28.png)



<br/>

***

<br/><br/><br/>

> <h1 id="é¡¹ç›®é…ç½®">é¡¹ç›®é…ç½®</h1>

<br/><br/><br/>

> <h2 id="é…ç½®ç¯å¢ƒèµ„æº">é…ç½®ç¯å¢ƒèµ„æº</h2>

ä½ å¯èƒ½éœ€è¦åœ¨ä¸åŒçš„èµ„æºç›®å½•ä¸­é…ç½® Beta ç¯å¢ƒçš„ç‰¹å®šèµ„æºï¼Œä¾‹å¦‚ src/betaã€‚ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„èµ„æºç›®å½•å¹¶æ·»åŠ  Beta ç‰¹å®šçš„èµ„æºæ–‡ä»¶ã€‚

```
src
|-- main
|   |-- java
|   |-- res
|-- beta
|   |-- java
|   |-- res

```

åœ¨ src/beta ç›®å½•ä¸­ï¼Œä½ å¯ä»¥æ”¾ç½® Beta ç¯å¢ƒç‰¹æœ‰çš„èµ„æºæ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ä¼šè¦†ç›– src/main ä¸­çš„æ–‡ä»¶ã€‚

<br/><br/><br/>

> <h2 id="æ‰“åŒ…">æ‰“åŒ…</h2>

- **1.é…ç½® build.gradle**(æ³¨æ„ï¼š**appçº§åˆ«çš„**)
é¦–å…ˆï¼Œæ‰“å¼€ä½ çš„ app çº§åˆ«çš„ build.gradle æ–‡ä»¶ï¼Œæ·»åŠ ä¸€ä¸ªæ–°çš„æ„å»ºå˜ä½“æˆ–é…ç½®ç°æœ‰çš„æ„å»ºå˜ä½“ä»¥æ”¯æŒ Beta ç¯å¢ƒã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š

```
android {
    ...
    buildTypes {
        debug {
            ...
        }
        release {
            ...
        }
        beta {
            initWith(buildTypes.release)
            matchingFallbacks = ['release']
            // ä½ å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ Betaç‰¹å®šçš„é…ç½®
            // æ¯”å¦‚ä¸åŒçš„ç­¾åé…ç½®
            signingConfig signingConfigs.release
            // æˆ–è€…ä¸åŒçš„åº”ç”¨ID
            applicationIdSuffix ".beta"
            // ä¸åŒçš„ç‰ˆæœ¬åæˆ–ç‰ˆæœ¬å·
            versionNameSuffix "-beta"
        }
    }
}

```

å¦‚å›¾ï¼š

![android0.0.29.png](./../Pictures/android0.0.29.png)


<br/> <br/>

- **2.é€‰æ‹©æ„å»ºå˜ä½“(é€‰æ‹©æ‰“åŒ…ç¯å¢ƒ)**

å¯¼èˆªæ **View**-> Build Variants,ç„¶ååœ¨ä¸‹æ‹‰åˆ—è¡¨ä¸­é€‰æ‹©æ‰“åŒ…ç¯å¢ƒï¼Œå¦‚ä¸‹ï¼š

![android0.0.30.png](./../Pictures/android0.0.30.png)

åœ¨ Build Variants çª—å£ä¸­ï¼Œæ‰¾åˆ°ä½ çš„æ¨¡å—ï¼ˆé€šå¸¸æ˜¯ appï¼‰ï¼Œç„¶åä»ä¸‹æ‹‰èœå•ä¸­é€‰æ‹© betaã€‚


<br/> <br/>

- 3.**æ‰“åŒ…åº”ç”¨**

ä¸€æ—¦é€‰æ‹©äº† beta æ„å»ºå˜ä½“ï¼Œä½ å¯ä»¥å¼€å§‹æ‰“åŒ…ä½ çš„åº”ç”¨ï¼š

- åœ¨èœå•ä¸­é€‰æ‹© Buildã€‚
- ç‚¹å‡» Build Bundle(s) / APK(s)ã€‚
- é€‰æ‹© Build APK(s) æˆ– Build Bundle(s) ä»¥ç”Ÿæˆ APK æˆ– AAB æ–‡ä»¶ã€‚

![android0.0.31.png](./../Pictures/android0.0.31.png)


<br/><br/>

- **4.ç­¾åé…ç½®ï¼ˆå¯é€‰ï¼‰**

å¦‚æœä½ éœ€è¦ä¸º Beta ç‰ˆæœ¬ä½¿ç”¨ä¸åŒçš„ç­¾åé…ç½®ï¼Œå¯ä»¥åœ¨ build.gradle ä¸­æ·»åŠ ç‰¹å®šçš„ç­¾åé…ç½®ï¼š


```
android {
    ...
    signingConfigs {
        release {
            keyAlias 'yourKeyAlias'
            keyPassword 'yourKeyPassword'
            storeFile file('path/to/your/keystore')
            storePassword 'yourStorePassword'
        }
        beta {
            keyAlias 'yourBetaKeyAlias'
            keyPassword 'yourBetaKeyPassword'
            storeFile file('path/to/your/beta/keystore')
            storePassword 'yourBetaStorePassword'
        }
    }
    buildTypes {
        ...
        beta {
            ...
            signingConfig signingConfigs.beta
        }
    }
}

```

<br/><br/>

- **5.æ‰“åŒ…åçš„è·¯å¾„**


APKè·¯å¾„ï¼š

```
<your_project_directory>/app/build/outputs/apk/beta/app-beta.apk
```

<br/>

**æ‰“åŒ… AAB (Android App Bundle)è·¯å¾„**

```
<your_project_directory>/app/build/outputs/bundle/beta/app-beta.aab
```


![android0.0.32.png](./../Pictures/android0.0.32.png)



<br/>

***
<br/><br/><br/>

> <h1 id="å¼€å‘å¤§å‘">å¼€å‘å¤§å‘</h1>


<br/><br/><br/>


> <h2 id="æ›´æ–°RecycleViewå†…çš„ItemViewç»„ä»¶ä½ç½®åï¼Œæ— æ³•å¯¹å…¶ä»–Viewè¿›è¡Œéšè—">æ›´æ–°RecycleViewå†…çš„ItemViewç»„ä»¶ä½ç½®åï¼Œæ— æ³•å¯¹å…¶ä»–Viewè¿›è¡Œéšè—</h2>

é—®é¢˜æè¿°å¦‚ä¸‹ï¼š

```
if  subsidyAmount>0 {
	è¡¥è´´tagæ˜¾ç¤º
	æŠ¢å…‰è¿›åº¦æ¡å†…çš„2ä¸ªç»„ä»¶éšè—
	è¡¥è´´åçš„ä»·æ ¼ä½ç½®ä¸‹ç§»
}else {
	è¡¥è´´tagéšè—
	æŠ¢å…‰è¿›åº¦æ¡å†…çš„2ä¸ªç»„ä»¶æ˜¾ç¤º
	è¡¥è´´åçš„ä»·æ ¼ä½ç½®ä¸Šç§»ï¼ˆæ¢å¤åŸçŠ¶ï¼‰
}
```

å¦‚å›¾ï¼š

![android0.0.33.jpg](./../Pictures/android0.0.33.jpg)

<br/> <br/>

å› ä¸ºæ˜¯åˆå§‹å¼€å‘ï¼Œé‡åˆ°äº†å¾ˆå¤šå‘å§ï¼Ÿå› ä¸ºæƒ³ç€Androidå¼€å‘å’ŒiOSå¼€å‘ä¹Ÿè®¸æœ‰ç€ç›¸åŒä¹‹å¤„ï¼Œä½†æ˜¯æˆ‘é”™äº†ï¼

**å‘ä¸€ï¼š** æˆ‘å¯¹è¡¥è´´tagä¿®æ”¹çº¦æŸå‰ï¼Œå°±å¯¹è¡¥è´´Tagã€æŠ¢å…‰è¿›åº¦æ¡ã€è¡¥è´´åçš„ä»·æ ¼è®¾ç½®éšè—æˆ–è€…æ˜¾ç¤ºå¯¼è‡´æ²¡æœ‰æ•ˆæœï¼Œåæ¥æŸ¥çœ‹ChatGptå‘ç°å› ä¸ºæ›´æ–°å¸ƒå±€åï¼Œéœ€è¦å»¶è¿Ÿä¸€æ®µæ—¶é—´ã€‚ç„¶åæˆ‘åŠ äº†å»¶è¿Ÿï¼Œæœç„¶æœ‰æ•ˆæœï¼Œä½†æ˜¯æœ‰ç‚¹å‡ºç°æ–°çš„é—®é¢˜ï¼Œæœ‰å¡é¡¿äº†ï¼ï¼


**å‘2ï¼š** åæ¥æˆ‘å§ä»£ç æ¢äº†ä¸‹ä½ç½®ï¼Œå…ˆæ˜¯æ”¹å˜çº¦æŸï¼Œå†å¯¹å…¶éšè—æˆ–è€…æ˜¾ç¤ºè®¾ç½®ï¼Œç„¶åä¹Ÿä¸å¡é¡¿äº†ï¼Œéƒ½è§£å†³äº†

è¯·çœ‹ä»£ç ï¼š

```
ConstraintLayout constraintLayout;
FrameLayout bottomLayout;
    
//åœ¨XXXItemHolderæ„é€ æ–¹æ³•è®¾ç½®
public XXXItemHolder(){
	        
    constraintLayout = itemView.findViewById(R.id.layout_fxz_activity_list_item_constraintLayout);
        bottomLayout = itemView.findViewById(R.id.layout_fxz_activity_list_bottomLayout);    
}
	
private void changeStateOfSubsidy(FxzActivityItem data) {
ConstraintSet constraintSet = new ConstraintSet();
constraintSet.clone(constraintLayout);
if (data.getSubsidy_amount() > 0) {
    //å¯Œæ–‡æœ¬çš„è®¾ç½®
    String subsidyAmont = MoneyUtils.formatMoney(data.getSubsidy_amount(), "Â¥#0.##");
    SpannableString amount = new SpannableString(subsidyAmont);
    SpannableString amountDesc = new SpannableString(data.getSubsidy_amount_desc());
    amount.setSpan(new StyleSpan(Typeface.BOLD), 0, subsidyAmont.length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);

    SpannableStringBuilder strBuilder = new SpannableStringBuilder();
    strBuilder.append(amountDesc);
    strBuilder.append(amount);
    subsidyText.setText(strBuilder);
    
    //mActivityPriceView.getId()ï¼šä»·æ ¼çš„ID
    //ConstraintSet.PARENT_ID çˆ¶å®¹å™¨çš„ID
    //mActivityPriceSavedView.getId() çœŸå®ä»·æ ¼ç»„ä»¶ID
    //mLabelView.getId() æ‰“æŠ˜æ ‡ç­¾ID
    constraintSet.connect(mActivityPriceView.getId(), ConstraintSet.BOTTOM, ConstraintSet.PARENT_ID, ConstraintSet.BOTTOM, dpToPx(0));
    constraintSet.connect(mActivityPriceSavedView.getId(), ConstraintSet.BOTTOM, ConstraintSet.PARENT_ID, ConstraintSet.BOTTOM, dpToPx(3));
    constraintSet.connect(mLabelView.getId(), ConstraintSet.BOTTOM, ConstraintSet.PARENT_ID, ConstraintSet.BOTTOM, dpToPx(3));

} else {
    constraintSet.connect(mActivityPriceView.getId(), ConstraintSet.BOTTOM, ConstraintSet.PARENT_ID, ConstraintSet.BOTTOM, dpToPx(23));
    constraintSet.connect(mActivityPriceSavedView.getId(), ConstraintSet.BOTTOM, ConstraintSet.PARENT_ID, ConstraintSet.BOTTOM, dpToPx(26));
    constraintSet.connect(mLabelView.getId(), ConstraintSet.BOTTOM, ConstraintSet.PARENT_ID, ConstraintSet.BOTTOM, dpToPx(26));

}
constraintSet.applyTo(constraintLayout);

// å»¶è¿Ÿæ‰§è¡Œéšè—æ“ä½œ æˆ‘å°†å»¶è¿Ÿæ³¨é”€äº†
//        itemView.postDelayed(new Runnable() {
//            @Override
//            public void run() {
if (data.getSubsidy_amount() > 0) {//ä¸€å¼€å§‹è¿™ä¸ªé€»è¾‘æˆ‘å†™åœ¨ä¸Šé¢åˆ¤æ–­çš„é€»è¾‘é‡Œçš„
    bottomLayout.setVisibility(View.GONE); //åº•éƒ¨è¿›åº¦å®¹å™¨æ˜¯å¦éšè—
    subsidyText.setVisibility(View.VISIBLE);//è¡¥è´´æ˜¯å¦éšè—
} else {
    bottomLayout.setVisibility(View.VISIBLE);
    subsidyText.setVisibility(View.GONE);
}
//            }
//        }, 2);
}
 
```

![android0.0.34.jpg](./../Pictures/android0.0.34.jpg)




<br/>

***

<br/><br/><br/>

> <h1 id='AndroidStudioé…ç½®ä¿®æ”¹'>AndroidStudioé…ç½®ä¿®æ”¹</h1>

<br/><br/><br/>

> <h2 id='é€‰ä¸­æ–‡ä»¶æ‰“å¼€æºç '> é€‰ä¸­æ–‡ä»¶æ‰“å¼€æºç </h2>

![android0.0.3.png](./../Pictures/android0.0.3.png)




















