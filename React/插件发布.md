- [**Nodeä»‹ç»**](#Nodeä»‹ç»)
	- [ç®€ä»‹](#ç®€ä»‹)
	- [Node.jsç¯å¢ƒå®‰è£…](#Node.jsç¯å¢ƒå®‰è£…)
- [**NPM**](#NPM)
	- [ä»‹ç»](#ä»‹ç»)
	- [å®‰è£…](#å®‰è£…)
	- [æŒ‡ä»¤](#æŒ‡ä»¤)
	- [å‘å¸ƒæ’ä»¶é¡¹ç›®](#å‘å¸ƒæ’ä»¶é¡¹ç›®)
		- [gitHubå‘å¸ƒåœ¨çº¿demo](#gitHubå‘å¸ƒåœ¨çº¿demo) 
		- [å‘å¸ƒnpmåŒ…](#å‘å¸ƒnpmåŒ…)

<br/>

***
<br/>


># <h1 id="Nodeä»‹ç»">Nodeä»‹ç»</h1>

<br/>

> <h2 id="ç®€ä»‹">ç®€ä»‹</h2>


- ä»€ä¹ˆæ˜¯Nodeï¼Ÿ
	- Node.jsæ˜¯ä¸€ä¸ªåŸºäºChrome V8å¼•æ“çš„JavaScriptè¿è¡Œç¯å¢ƒï¼›
	- Node æ˜¯ä¸€ä¸ªè®© JavaScript è¿è¡Œåœ¨æœåŠ¡ç«¯çš„å¼€å‘å¹³å°ï¼Œå®ƒè®© JavaScript æˆä¸ºä¸PHPã€Pythonã€Perlã€Rubyç­‰æœåŠ¡ç«¯è¯­è¨€å¹³èµ·å¹³åçš„è„šæœ¬è¯­è¨€ï¼›
	- å‘å¸ƒäº2009å¹´5æœˆï¼Œç”±Ryan Dahlå¼€å‘ï¼Œå®è´¨æ˜¯å¯¹Chrome V8å¼•æ“è¿›è¡Œäº†å°è£…ï¼›
	- **ä¸€å¥è¯ï¼Œå°±æ˜¯å®‰è£…Node.jsç¯å¢ƒï¼Œå¯ä»¥éšå¤„è¿è¡ŒJavaScriptä»£ç ;**
- Nodeçš„ä½œç”¨
	- å‰ç«¯å¼€å‘ç¯å¢ƒï¼›
		- 	Webpackï¼›
		- 	NPMæ’ä»¶ï¼›
		- 	Serverï¼›
	- æœåŠ¡ç«¯åŠ¨æ€ç¼–ç¨‹è¯­è¨€ï¼›
		- 	Java Webï¼›
		- 	PHP Webï¼›
		- 	Node Web;





<br/>
<br/>

> <h2 id="Node.jsç¯å¢ƒå®‰è£…">Node.jsç¯å¢ƒå®‰è£…</h2>

**Mac OSç³»ç»Ÿå®‰è£…:**

- [å®˜ç½‘ä¸‹è½½pkg](https://nodejs.org/en/download/)å®‰è£…åŒ…,ç‚¹å‡»å®‰è£…å³å¯;
- ä½¿ç”¨brewå‘½ä»¤å®‰è£…:`brew install node`



<br/>

***
<br/>

> <h1 id="NPM">NPM</h1>

<br/>

> <h2 id="ä»‹ç»">ä»‹ç»</h2>

- NPMï¼ˆnode package manager)ï¼Œé€šå¸¸ç§°ä¸ºnodeåŒ…ç®¡ç†å™¨ï¼Œä¸»è¦åŠŸèƒ½å°±æ˜¯ç®¡ç†nodeåŒ…ï¼ŒåŒ…æ‹¬ï¼šå®‰è£…ã€å¸è½½ã€æ›´æ–°ã€æŸ¥çœ‹ã€æœç´¢ã€å‘å¸ƒç­‰ï¼›
- NPMæ˜¯åŸºäºcouchdbä¸€ä¸ªæ•°æ®åº“ï¼Œè¯¦ç»†è®°å½•äº†æ¯ä¸ªåŒ…çš„ä¿¡æ¯ï¼ˆä½œè€…ã€ç‰ˆæœ¬ã€ä¾èµ–ã€æˆæƒä¿¡æ¯ç­‰ï¼‰

<br/>
<br/>


> <h2 id="å®‰è£…">å®‰è£…</h2>

åœ¨Nodeå®‰è£…


<br/>
<br/>

> <h2 id="æŒ‡ä»¤">æŒ‡ä»¤</h2>

**å¸¸ç”¨æŒ‡ä»¤:**

|:--|:--|
|æŒ‡ä»¤|è¯´æ˜|
| npm -v | æŸ¥çœ‹npmç‰ˆæœ¬ |
| npm init | åˆå§‹åŒ–ä¸€ä¸ªå…·å¤‡åŒ…ç®¡ç†çš„æ¨¡å—ï¼Œç”Ÿæˆpackage.jsonæ–‡ä»¶ |
| npm install | å±€éƒ¨å®‰è£…ï¼ˆåªå¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ï¼‰ |
| npm install -g | å…¨å±€å®‰è£…ï¼ˆå…¨å±€ä½¿ç”¨ï¼‰ |



<br/>

**æ’ä»¶å‘å¸ƒ:**

|:--|:--|
|æŒ‡ä»¤|è¯´æ˜|
| npm adduser | ç”¨æˆ·ç™»å½• |
| npm publish | å‘å¸ƒæ¨¡å— |
| npm config set registry https://registry.npmjs.rog/ | è®¾ç½®æ˜ å°„ä»“åº“ï¼ˆç™»å½•å’Œå‘å¸ƒæ¨¡å—ï¼‰ |
| npm config set registry https://registry.npm.taobao.org/ | è®¾ç½®æ˜ å°„ä»“åº“ï¼ˆä¸‹è½½æ—¶ä½¿ç”¨ï¼‰ |
| npm publish [åŒ…å] --force ||



<br/>
<br/>

> <h2 id="å‘å¸ƒæ’ä»¶é¡¹ç›®">å‘å¸ƒæ’ä»¶é¡¹ç›®</h2>

> åœ¨æŒ‡å®šä½ç½®åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹:

```
 cd Desktop
 
 mkdir react-demo-harley2022
 
 cd react-demo-harley2022
 
 npm init
 
Press ^C at any time to quit.
// è¾“å…¥ç›¸å…³ä¿¡æ¯
// åŒ…å
package name: react-demo-harley2022
// ç‰ˆæœ¬å·
version: (1.0.0) 
// é¡¹ç›®æè¿°
description: Reacté¡¹ç›®æ–°å»ºæµ‹è¯•
// å…¥å£æ–‡ä»¶ï¼ˆå¯ä»¥éšä¾¿å¡«ï¼Œä½†æ˜¯å¡«å•¥æœ€åçš„å…¥å£æ–‡ä»¶å°±å¾—æ˜¯å•¥ï¼‰
entry point: (index.js) 
// æµ‹è¯•æŒ‡ä»¤ï¼ˆå¯ä»¥ä¸å¡«ï¼‰
test command: test
// ä»£ç ä»“åº“ï¼ˆå¯ä»¥ä¸å¡«ï¼‰
git repository: 
// é¡¹ç›®å…³é”®å­—
keywords: 
// ä½œè€…
author: huangGang
// è®¸å¯è¯ï¼ˆå¯ä»¥ç›´æ¥enterä½¿ç”¨é»˜è®¤è®¸å¯è¯ï¼‰
license: (ISC) 
About to write to /Users/harleyhuang/Desktop/react-component-npm-cli/package.json:
{
  "name": "react-demo-harley2022",
  "version": "1.0.0",
  "description": "Reacté¡¹ç›®æ–°å»ºæµ‹è¯•",
  "main": "index.js",
  "scripts": {
    "test": "test"
  },
  "author": "huangGang",
  "license": "ISC"
}
// # æˆ–è€… ç›´æ¥ä½¿ç”¨ npm init -y é‡‡ç”¨é»˜è®¤çš„ï¼Œåé¢è‡ªå·±å†å»ä¿®æ”¹
```


<br/>

> å®‰è£…å·¥ç¨‹éœ€è¦çš„ä¾èµ–åŒ…

```
// 1.å®‰è£… react ç›¸å…³çš„åŒ…
npm install react react-dom -D


// 2.ç¼–è¯‘å¿…é¡»è¦çš„æ¨¡å—
npm install @babel/cli @babel/core @babel/plugin-syntax-jsx @babel/plugin-transform-runtime @babel/preset-env @babel/preset-react  -D

//  3.é¡¹ç›®å„ç§loaderä¾èµ–
npm install style-loader css-loader babel-loader less-loader less -D

// 4. webpackè„šæ‰‹æ¶
npm install html-webpack-plugin webpack webpack-cli webpack-dev-server -D
```

å„ä¸ªä¾èµ–çš„è§£æ:

```
1.reactåŸºç¡€éƒ¨åˆ†ï¼Œreactä¾é reactã€react-domï¼ˆvueçš„è¯å¯ä»¥è‡ªè¡ŒæŸ¥çœ‹éœ€è¦å•¥ï¼‰
react ï¼šreactè¯­æ³•
react-domï¼šreactå’Œé¡µé¢çš„domæ‰“äº¤é“ä¾èµ–


2.ç¼–è¯‘å¿…é¡»è¦çš„æ¨¡å—
@babel/cli
@babel/coreï¼š æŠŠå¼€å‘çš„nodejsç¼–è¯‘æˆå‰ç«¯å¯ä»¥è¿è¡Œçš„jsä»£ç 
@babel/preset-reactï¼š æŠŠreactç¼–è¯‘æˆå¯æ‰§è¡Œjs
@babel/preset-env
@babel/plugin-transform-runtime
@babel/plugin-syntax-jsx


3.é¡¹ç›®å„ç§loaderä¾èµ–
style-loaderï¼šå¤„ç† dom style æ ‡ç­¾é‡Œé¢çš„cssï¼ˆå¤„ç†è¡Œå†…æ ·å¼ï¼‰
css-loaderï¼šå¤„ç†cssæ ·å¼
less-loader ï¼šå¤„ç†lessæ ·å¼
lessï¼šlessæ ·å¼ä¾èµ–ï¼ˆæ ·å¼æˆ‘ç”¨lessï¼Œéœ€è¦scssçš„åŒå­¦è‡ªè¡Œå®‰è£…scssï¼‰
babel-loaderï¼šè´Ÿè´£è°ƒç”¨ä¸Šé¢æ‰€æœ‰@babelçš„ä¾èµ–æ¨¡å—


4.webpackè„šæ‰‹æ¶
webpackï¼šwebpackä¸»ç¨‹åº ï¼Œwebpack-cliï¼šwebpackç¼–è¯‘å·¥å…·è„šæ‰‹æ¶
html-webpack-pluginï¼š æ’ä»¶ï¼Œå¤„ç†htmlçš„å·¥å…·
webpack-dev-serverï¼š ç¼–è¯‘è¿è¡Œå·¥å…·ï¼Œnpm run start å®é™…è°ƒç”¨çš„æ–¹æ³•

å…¶ä¸­ - Dçš„æ„æ€æ˜¯å°†ä¾èµ–å®‰è£…åˆ°devDependenciesè¿™é‡Œï¼Œä¸€èˆ¬æ¥ä¼šé»˜è®¤å®‰è£…åˆ°dependencieså­—æ®µé‡Œï¼ŒåŒºåˆ«æ˜¯dependenciesä¼šåœ¨æ‰“åŒ…æ—¶å€™è¿›distæ–‡ä»¶å¤¹

```


ä½¿ç”¨å‘½ä»¤`npm install`ä»¥å,`package.json`å¦‚ä¸‹:


```
{
  "name": "react-demo-harley",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "start": "webpack server --mode development",
    "build": "webpack --mode development",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "devDependencies": {
    "@babel/cli": "^7.17.0",
    "@babel/core": "^7.17.2",
    "@babel/plugin-syntax-jsx": "^7.16.7",
    "@babel/plugin-transform-runtime": "^7.17.0",
    "@babel/preset-env": "^7.16.11",
    "@babel/preset-react": "^7.16.7",
    "babel-loader": "^8.2.3",
    "css-loader": "^6.6.0",
    "html-webpack-plugin": "^5.5.0",
    "less": "^4.1.2",
    "less-loader": "^10.2.0",
    "react": "^17.0.2",
    "react-dom": "^17.0.2",
    "style-loader": "^3.3.1",
    "webpack": "^5.68.0",
    "webpack-cli": "^4.9.2",
    "webpack-dev-server": "^4.7.4"
  }
}
```



<br/>

>  åˆ›å»ºå¦‚ä¸‹çš„ç›®å½•ç»“æ„

```
â”œâ”€â”€ config  // webpacké…ç½® (è¿™ä¸ªå¯é€‰,ä¸å¿…é…ç½®,ä½†æ˜¯è¦çŸ¥é“)
     â”œâ”€â”€ webpack.base.js // å…¬å…±é…ç½®
     â”œâ”€â”€ webpack.dev.config.js // å¼€å‘ç¯å¢ƒé…ç½®
     â””â”€â”€ webpack.prod.config.js // æ‰“åŒ…å‘å¸ƒç¯å¢ƒé…ç½®
â”œâ”€â”€ example // ç¤ºä¾‹ä»£ç ï¼Œåœ¨è‡ªå·±æµ‹è¯•çš„æ—¶å€™å¯ä»¥æŠŠæµ‹è¯•æ–‡ä»¶æ”¾åˆ° src é‡Œ
â”‚Â Â  â””â”€â”€ src // ç¤ºä¾‹æºä»£ç 
â”‚Â Â      â”œâ”€â”€ index.html // ç¤ºä¾‹ html
â”‚Â Â      â””â”€â”€ app.js // æ·»åŠ åˆ° react-dom çš„æ–‡ä»¶
â”œâ”€â”€ lib // ç»„ä»¶æ‰“åŒ…ç»“æœç›®å½• (è„šæœ¬è‡ªåŠ¨ç”Ÿæˆ)
â”œâ”€â”€ node_modules # å®‰è£…ä¾èµ–(è‡ªåŠ¨ç”Ÿæˆ)
â”œâ”€â”€ package.json 
â”œâ”€â”€ src // ç»„ä»¶æºä»£ç 
â”‚Â Â  â””â”€â”€ index.js // ç»„ä»¶æºä»£ç æ–‡ä»¶
â”œâ”€â”€ babel.config.js      @babelçš„é…ç½®æ–‡ä»¶(webpack4ç‰ˆæœ¬çš„å«åš.babelrc )
â”œâ”€â”€ .editorconfig // ä¸å¿…é¡»çš„ï¼Œä½†æ˜¯å»ºè®®æœ‰
â”œâ”€â”€ .npmignore // æŒ‡å®šå‘å¸ƒ npm çš„æ—¶å€™éœ€è¦å¿½ç•¥çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹
â”œâ”€â”€ .gitignore // ä¸Šä¼ gitæ—¶å€™å¿½ç•¥ä¸ä¼ çš„æ–‡ä»¶,å¦‚æœè¦æ”¾åˆ° github ä¸Šï¼Œè¿™ä¸ªæ˜¯éœ€è¦æœ‰çš„
â””â”€â”€ webpack.config.js
```


<br/>

>  åˆ›å»ºä¸€ä¸ªç®€å•çš„ç»„ä»¶,æ¥æ¼”ç¤º

src/index.jsæ–‡ä»¶

```
import React from 'react';

const ReactDemo = () => (
 <h1>è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ª react npm ç»„ä»¶ ğŸŠ ğŸŠ ğŸŠ ğŸŠ</h1>
);
export default ReactDemo;
```

<br/>

>  æ·»åŠ ä¸€ä¸ªdemo

example/src/index.html

```
<html>
<head>
    <title>My First React Component</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
</head>
<body>
    <div id="root"></div>
</body>
</html>
```

<br/>

example/src/app.js

```
import React from 'react'
import { render } from 'react-dom'
import ReactDemo from '../../src'

const App = () => <ReactDemo />
render(<App />, document.getElementById('root'))
```



<br/>

> é…ç½®webpack.config.jsæ–‡ä»¶

```
/*
 * @title: 
 * @Author: gang.huang
 * @Date: 2022-02-11 16:07:47
 * @FilePath: /react-demo/webpack.config.js
 */

const path = require('path');
const HtmlWebpackPlugin = require("html-webpack-plugin");
/**
 * webpackæ’ä»¶å°†æ‰“åŒ…å¥½çš„æ–‡ä»¶æ³¨å…¥åˆ°htmlæ¨¡æ¿é‡Œ
 * @type {HtmlWebpackPlugin}
 */
const htmlWebpackPlugin = new HtmlWebpackPlugin({
    template: path.join(__dirname, "./example/src/index.html"),
    filename: "./index.html"
});

console.log('ğŸ è·¯å¾„: ', path.join(__dirname, "./example/src/app.js"))

module.exports = {
    mode: 'development',
    entry: path.join(__dirname, "./example/src/app.js"), //å…¥å£æ–‡ä»¶
    output: {
        path: path.join(__dirname, "example/dist"),
        filename: "bundle.js"
    },
    module: {
        rules: [{
            test: /\.(js|jsx)$/, //æ­£åˆ™åŒ¹é…æ–‡ä»¶åç§°
            loader: "babel-loader", //ä¼šå»è°ƒç”¨babel.config.jsé‡Œçš„æ‰€æœ‰babelçš„é…ç½®
            exclude: /(node_modules)/,
            options: {
                presets: ['@babel/preset-env',
                    '@babel/react', {
                        'plugins': ['@babel/plugin-proposal-class-properties']
                    }]
            }
        },
        {
            test: /\.css|l.ess$/,
            use: [
                { loader: "style-loader" },
                { loader: "css-loader" }],   //æ‰“åŒ…å¤„ç†cssæ ·å¼è¡¨çš„ç¬¬ä¸‰æ–¹loader
        },
        {
            //åªä¸ºlesså¯ç”¨æ¨¡å—åŒ–
            test: /\.less$/,
            use: [
                { loader: "style-loader" },
                {
                    loader: "css-loader", options: {
                        modules: { localIdentName: "[path][name]-[local]-[hash:5]" }
                    }
                },
                { loader: "less-loader" },
            ]
        }]
    },
    plugins: [htmlWebpackPlugin], //æ’ä»¶ï¼šè‡ªåŠ¨æ³¨å…¥ç¼–è¯‘æ‰“åŒ…å¥½çš„æ–‡ä»¶
    resolve: {
        extensions: [".js", ".jsx"]
    },
    devServer: {
        port: 3100,//ç«¯å£å·
        open: true, // è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
        compress: true, // å¯åŠ¨gzipå‹ç¼©
    }
};


``` 



**Webpack çš„é…ç½®æ–‡ä»¶ä¸»è¦åšäº†å¦‚ä¸‹äº‹æƒ…ï¼š**

- ä½¿ç”¨ example/src/index.js ä½œä¸ºé¡¹ç›®å…¥å£ï¼Œå¤„ç†èµ„æºæ–‡ä»¶çš„ä¾èµ–å…³ç³»
- é€šè¿‡ babel-loader æ¥ç¼–è¯‘å¤„ç† js å’Œ jsx æ–‡ä»¶
- é€šè¿‡ html-webpack-plugin è‡ªåŠ¨æ³¨å…¥ç¼–è¯‘æ‰“åŒ…å¥½çš„è„šæœ¬æ–‡ä»¶
- ä¸º demo å¯åŠ¨ç«¯å£ä¸º 3100 çš„æœåŠ¡


<br/>

> é…ç½®`babel`ï¼Œbabel ä¸»è¦åšä¸¤ä»¶äº‹ï¼Œå°† jsx ç¼–è¯‘æˆ es5ï¼Œç„¶åå†åŠ ä¸€ä¸ªé€šç”¨çš„ envï¼Œæ‰€ä»¥ `bable.config.js`é…ç½®å¦‚ä¸‹ï¼š

```
module.exports = {
    "presets": [
        "@babel/preset-env",
        "@babel/preset-react"
    ],
    "plugins": [
        "@babel/plugin-syntax-jsx",
        "@babel/plugin-transform-runtime"
    ]
}
```

&emsp; å¯ä»¥çœ‹åˆ°ä¹‹å‰çš„ package.json ï¼Œæˆ‘è¿™é‡Œ babel å®‰è£…çš„æ˜¯ 7.xï¼Œé‚£ä¹ˆ babel-loader å°±åº”è¯¥æ˜¯ 8.x æ‰è¡Œï¼Œç„¶å babel 7.x ç›¸å¯¹äºä¹‹å‰çš„é…ç½®æ˜¯ä¸åŒçš„ï¼Œè¦ç”¨è¿™ä¸ªé…ç½®ï¼Œç‰ˆæœ¬ä¸€å®šè¦è·Ÿæˆ‘çš„ç›¸åŒï¼Œä¸ç„¶é…ç½®å¯èƒ½ä¼šä¸ä¸€æ ·ã€‚



&emsp; ç„¶åç°åœ¨æ‰§è¡Œ npm startï¼Œç„¶åå†è®¿é—® **localhost:3001** å°±å¯ä»¥è®¿é—®åˆ°äº†


ç‚¹å‡»ç”²å£³è™«è¿›è¡Œè¿è¡Œæµ‹è¯•,é€‰æ‹© chrome,ç”Ÿæˆçš„lauch.jsoné…ç½®:

```
{
    // ä½¿ç”¨ IntelliSense äº†è§£ç›¸å…³å±æ€§ã€‚ 
    // æ‚¬åœä»¥æŸ¥çœ‹ç°æœ‰å±æ€§çš„æè¿°ã€‚
    // æ¬²äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "type": "chrome",
            "request": "launch",
            "name": "Launch Chrome against localhost",
            "url": "http://localhost:3100",
            "webRoot": "${workspaceFolder}"
        }
    ]
}
```

ç„¶åå°±å¯ä»¥çœ‹åˆ°äº†

![46](https://raw.githubusercontent.com/harleyGit/StudyNotes/master/Pictures/react46.png)

<br/>

***
<br/>

> <h3 id="gitHubå‘å¸ƒåœ¨çº¿demo">gitHubå‘å¸ƒåœ¨çº¿demo</h3>

&emsp; å‘å¸ƒåœ¨çº¿ demo å¯ä»¥ç›´æ¥ç”¨ Github Pages æ¥å¸®åŠ©æˆ‘ä»¬æ‰˜ç®¡ï¼Œé€šè¿‡ webpack æ„å»ºç”Ÿäº§ç¯å¢ƒç‰ˆæœ¬ï¼Œç„¶åå‘åˆ° Github ä¸Šå»å³å¯ã€‚

&emsp; é¦–å…ˆå» Github åˆ›å»ºä¸€ä¸ªç”¨æ¥å­˜æ”¾ä½ ç»„ä»¶ä»£ç çš„ä»“åº“,ç„¶åæŠŠä½ çš„é¡¹ç›®åˆå§‹åŒ–æˆ git é¡¹ç›®ï¼š

`git init`

&emsp; å†æ·»åŠ è¿œç¨‹ä»“åº“ï¼Œå°†æœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“å…³è”èµ·æ¥ã€‚

`git remote add origin git@github.com:crazylxr/react-demo.git`

&emsp; æ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥å®‰è£… gh-pages æ¥å¸®åŠ©æˆ‘ä»¬å‘å¸ƒåˆ° github pagesï¼š

`npm i gh-pages -D`

&emsp; ä¸ºäº†æ–¹ä¾¿è®°å¿†ï¼Œåç»­èƒ½æ›´å¿«çš„å‘å¸ƒï¼Œè¿™äº›å‘½ä»¤æˆ‘ä»¬å¯ä»¥å†™æˆ npm-scriprtï¼Œæ‰€ä»¥æˆ‘ä»¬å¢åŠ ä¸¤ä¸ªè„šæœ¬ï¼š

```
{
  "name": "react-demo-harley2022",
  "version": "1.0.0",
  "description": "react-demo-harley2022 demo",
  "main": "lib/index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1",
    "start": "webpack-dev-server --open development",
    "build": "webpack --mode production",
    "deploy": "gh-pages -d examples/dist",
    "publish-demo": "npm run build && npm run deploy"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "devDependencies": {
    "@babel/cli": "^7.2.3",
    "@babel/core": "^7.2.2",
    "@babel/preset-env": "^7.3.1",
    "@babel/preset-react": "^7.0.0",
    "babel-loader": "^8.0.5",
    "gh-pages": "^2.0.1",
    "html-webpack-plugin": "^3.2.0",
    "react": "^16.7.0",
    "react-dom": "^16.7.0",
    "webpack": "^4.29.0",
    "webpack-cli": "^3.2.1",
    "webpack-dev-server": "^3.1.14"
  },
  "dependencies": {}
}
```

&emsp; æ·»åŠ äº† deploy è„šæœ¬å’Œ publish-demoï¼Œä»¥åéœ€è¦å‘å¸ƒ demo çš„æ—¶å€™åªéœ€è¦ `npm run publish-demo` å³å¯ã€‚

&emsp; ç„¶åæˆ‘ä»¬å°±å¯ä»¥ build é¡¹ç›®ä¹‹åå†å°† expamples/dist å‘å¸ƒåˆ° gh-pages åˆ†æ”¯ï¼š

```
npm run build
npm run deploy
```
æˆ–è€…ç›´æ¥

```
npm run publish-demo
```

&emsp; æ³¨æ„ï¼šè¿™é‡Œåªä¼šå°† expample/src ä¸‹çš„æ–‡ä»¶å‘å¸ƒåˆ° ph-pages åˆ†æ”¯ï¼Œmaster åˆ†æ”¯ä¾ç„¶æ²¡æœ‰åˆ° github ä¸Šï¼Œå¦‚æœä½ è¦æŠŠæºç æ”¾åˆ° github çš„ master æˆ–è€…å…¶ä»–åˆ†æ”¯ä¸Šï¼Œè¿˜æ˜¯éœ€è¦è‡ªå·± push çš„ã€‚

&emsp; è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ crazylxr.github.io/react-demo è®¿é—®åˆ°æˆ‘ä»¬å†™çš„ demoã€‚crazylxr æ˜¯ github çš„ usernameï¼Œreact-demo æ˜¯ä»“åº“åï¼Œæ³¨æ„æ”¹æˆä½ è‡ªå·±çš„ã€‚

> **ç¼–è¯‘æºç **

&emsp; æˆ‘ä»¬ç°åœ¨çš„æºç æ˜¯ jsx çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é€šè¿‡ babel æŠŠ jsx ç¼–è¯‘ä¸ºæ­£å¸¸æµè§ˆå™¨èƒ½è®¿é—®çš„ä»£ç ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ babel-cli æ¥ç¼–è¯‘æˆ‘ä»¬ä»£ç ï¼Œç›´æ¥ç¼–è¯‘ src ç›®å½•ï¼Œåˆ° lib æ–‡ä»¶å¤¹ã€‚æ›´å¤šå‘½ä»¤è§ babel-cli

`npx babel src --out-dir lib`

&emsp; æ‰§è¡Œå®Œè¿™ä¸ªå‘½ä»¤ï¼Œå°±æŠŠç”Ÿæˆä¸€ä¸ª lib æ–‡ä»¶å¤¹ï¼Œç„¶åé‡Œé¢çš„ index.js å°±æ˜¯ç¼–è¯‘è¿‡åçš„æ–‡ä»¶ï¼Œæ˜¯å¯ä»¥ç›´æ¥å‘å¸ƒåˆ° npm çš„æ–‡ä»¶ã€‚

ç„¶åå°†è¿™ä¸ªç¼–è¯‘å‘½ä»¤å†™åˆ° script é‡Œï¼Œpackage.json å¦‚ä¸‹ï¼š

```
{
  "name": "react-demo-harley",
  "version": "1.0.0",
  "description": "react-demo-harley2022 demo",
  "main": "index.js",
  "scripts": {
    "start": "webpack server --mode development",
    "build": "webpack --mode development",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "devDependencies": {
    "@babel/cli": "^7.17.0",
    "@babel/core": "^7.17.2",
    "@babel/plugin-syntax-jsx": "^7.16.7",
    "@babel/plugin-transform-runtime": "^7.17.0",
    "@babel/preset-env": "^7.16.11",
    "@babel/preset-react": "^7.16.7",
    "babel-loader": "^8.2.3",
    "css-loader": "^6.6.0",
    "html-webpack-plugin": "^5.5.0",
    "less": "^4.1.2",
    "less-loader": "^10.2.0",
    "react": "^17.0.2",
    "react-dom": "^17.0.2",
    "style-loader": "^3.3.1",
    "webpack": "^5.68.0",
    "webpack-cli": "^4.9.2",
    "webpack-dev-server": "^4.7.4"
  }
}

```
é‚£ä¹ˆä»¥åè¦ç¼–è¯‘ src ä¸‹é¢çš„ä»£ç ï¼Œåªéœ€è¦æ‰§è¡Œï¼š

`npm run compile`

ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰ç¼–è¯‘å¥½çš„ä»£ç äº†ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥å‘å¸ƒåˆ° npm ä¾›å…¶ä»–äººä½¿ç”¨äº†ã€‚



<br/>

***
<br/>

> <h3 id='å‘å¸ƒnpmåŒ…'>å‘å¸ƒnpmåŒ…</h3>

<br/>

> [æ³¨å†Œnpmè´¦æˆ·](https://www.npmjs.com/settings/harley_hl/packages)

<br/>

> ç™»å½•

åœ¨ç»ˆç«¯è¾“å…¥ï¼š

```
npm adduser
```

æˆ–è€…:

```
npm login
```

&emsp; ç„¶åä½ ä¼šå¾—åˆ°ä¸€ä¸ªè®©ä½ è¾“å…¥usernameã€password å’Œ email çš„æç¤ºï¼ŒæŠŠå®ƒä»¬å¡«åœ¨ç›¸åº”çš„ä½ç½®ã€‚

&emsp;å…³äº package.json éœ€è¦æ³¨æ„çš„ç‚¹

&emsp;package.json é‡Œé¢çš„é…ç½®ä¿¡æ¯éå¸¸é‡è¦ï¼Œæˆ‘è§£é‡Šä¸€ä¸‹å‡ ä¸ªé‡è¦çš„é…ç½®ã€‚

- name: åŒ…åï¼Œå¦‚æœä½ å­¦ä¹ çš„è¯å»ºè®®åŠ ä¸€ä¸ª scopedï¼Œå°±æ˜¯æˆ‘ä¸Šé¢çš„ @taoweng/react-demo è€Œä¸æ˜¯ react-demoï¼Œå› ä¸º npm åŒ…ç‰¹åˆ«çš„å¤šï¼Œå¾ˆå®¹æ˜“é‡å¤ã€‚è¿™æ ·è¿™ä¸ªåŒ…å°±ä¼šæ˜¯ç§æœ‰çš„ï¼Œå¯ä»¥é€šè¿‡ npm publish --access=public å°†è¿™ä¸ªåŒ…å˜ä¸ºå…±æœ‰çš„åŒ…ã€‚
- version: åŒ…çš„ç‰ˆæœ¬ï¼Œæ¯æ¬¡å‘å¸ƒåŒ…çš„ç‰ˆæœ¬ä¸èƒ½å’Œä¸Šæ¬¡ä¸€æ ·ã€‚è¯¦ç»†è§„èŒƒå¯è§è¿™é‡Œ
- descriptionï¼šåŒ…çš„ç®€ä»‹ã€‚
- repositoryï¼šé€‚åˆå†™ Github åœ°å€ï¼Œå»ºè®®å†™æˆï¼š:username/:repositoryã€‚
- licenseï¼šè®¤è¯ã€‚ä¸çŸ¥é“è¯¥ç”¨ä»€ä¹ˆçš„ï¼Œå°±å†™MIT å§ã€‚
- mainï¼šåŒ…çš„å…¥å£æ–‡ä»¶ã€‚å°±æ˜¯å¼•å…¥è¿™ä¸ªåŒ…çš„æ—¶å€™å»åŠ è½½çš„å…¥å£æ–‡ä»¶ã€‚
- keywordsï¼šæ·»åŠ ä¸€äº›å…³é”®è¯æ›´å®¹æ˜“ä½¿ä½ çš„åŒ…è¢«æœç´¢åˆ°ã€‚

æ›´è¯¦ç»†çš„ package.json é…ç½®å¯è§å®˜ç½‘ã€‚

è¿™é‡Œåšäº†ä¸€äº›ç®€å•é…ç½®:

```
{
  "name": "react-demo-harley",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "start": "webpack server --mode development",
    "build": "webpack --mode development",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "devDependencies": {
    "@babel/cli": "^7.17.0",
    "@babel/core": "^7.17.2",
    "@babel/plugin-syntax-jsx": "^7.16.7",
    "@babel/plugin-transform-runtime": "^7.17.0",
    "@babel/preset-env": "^7.16.11",
    "@babel/preset-react": "^7.16.7",
    "babel-loader": "^8.2.3",
    "css-loader": "^6.6.0",
    "html-webpack-plugin": "^5.5.0",
    "less": "^4.1.2",
    "less-loader": "^10.2.0",
    "react": "^17.0.2",
    "react-dom": "^17.0.2",
    "style-loader": "^3.3.1",
    "webpack": "^5.68.0",
    "webpack-cli": "^4.9.2",
    "webpack-dev-server": "^4.7.4"
  }
}

```

<br/>

> åœ¨é¡¹ç›®ä¸­æ·»åŠ  .npmignore æ–‡ä»¶ï¼Œè·Ÿ .gitignore çš„ä½œç”¨ä¸€æ ·ï¼Œå°±æ˜¯åœ¨å‘å¸ƒ npm çš„æ—¶å€™éœ€è¦å¿½ç•¥çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼š

.npmignore 

```
src
examples
.babelrc
.gitignore
webpack.config.js
```

<br/>

> **å‘å¸ƒåˆ° npm** 

```
npm publish

```

å¦‚æœä½ æ˜¯ç§æœ‰åŒ…ï¼Œå¯ä»¥è¿™æ ·å‘å¸ƒï¼š

```
npm publish --access=public
```

è¿™æ—¶å¯èƒ½é‡åˆ°ä¸‹é¢çš„é—®é¢˜:

![47](https://raw.githubusercontent.com/harleyGit/StudyNotes/master/Pictures/react47.png)

è§£å†³äº†ä¸Šé¢çš„é—®é¢˜å:


![43](https://raw.githubusercontent.com/harleyGit/StudyNotes/master/Pictures/react43.png)

Npmå®˜ç½‘æ˜¾ç¤º

[![44](![42](https://raw.githubusercontent.com/harleyGit/StudyNotes/master/Pictures/react44.png))](https://www.npmjs.com/package/react-demo-harley)


<br/>

> ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶

```
npm i react-demo-harley
```

åœ¨é¡¹ç›®ä¸­ä½¿ç”¨npmè¿›è¡Œå®‰è£…,ä¸‹è½½å®‰è£…åçš„ç»„ä»¶æ˜¯åœ¨ `node_modules`ä¸­

![45](![42](https://raw.githubusercontent.com/harleyGit/StudyNotes/master/Pictures/react45.png))












