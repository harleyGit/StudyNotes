> <h2 id=''></h2>
- [ss](#ss)
	- [将程序编译成可执行文件的步骤](#将程序编译成可执行文件的步骤)
	- [静、动态库打包](#静、动态库打包)
		- [静态库.a生成](#静态库.a生成)
		- [静态库.framework生成](#静态库.framework生成)
- [**动态库**](#动态库)
	- [tbd格式](#tbd格式)
	- [Framework](#Framework)
	- [Mach-o格式](#Mach-o格式)



<br/>

***
<br/>


> <h1 id=''></h1>

<br/>

> <h2 id='将程序编译成可执行文件的步骤'>将程序编译成可执行文件的步骤</h2>

- 将程序编译成可执行文件的步骤

```
cd 项目文件夹

clang -ccc-print-phases main.m 
```


![39](https://raw.githubusercontent.com/harleyGit/StudyNotes/master/Pictures/ios_oc39.png)

经历的步骤是: `源代码=>预处理器=>编译器=>汇编=>机器码=>链接=>可执行文件`


<br/>
<br/>


> <h2 id='静、动态库打包'>静、动态库打包</h2>

<br/>

> <h3 id='静态库.a生成'>静态库.a生成</h3>


静态库: 首先新建一个工程,工程选择的是一个静态库工程不要选择运行时的工程,然后写好代码后,点击运行然后会生成一个`.a`的文件.这个时候想使用这个静态库只需要将生成的`include`文件夹拖进项目文件夹即可.

![40](https://raw.githubusercontent.com/harleyGit/StudyNotes/master/Pictures/ios_oc40.png)

使用静态库

![41](https://raw.githubusercontent.com/harleyGit/StudyNotes/master/Pictures/ios_oc41.png)


<br/>

&emsp; 库又分成模拟器库和真机的库,上面使用的是模拟器的库在真机中是没法使用的.真机的库是运行时通过选择`Generic iOS Device`来生成的.

可以通过命令来查看时模拟器库还是真机库:

```
$ lipo -info xxx.a

// xxx... is architecture: x86_64 模拟器库
// xxx... is architecture: arm_64 真机库
```


<br/>
<br/>

> <h3 id='静态库.framework生成'>静态库.framework生成</h3>


![42](https://raw.githubusercontent.com/harleyGit/StudyNotes/master/Pictures/ios_oc42.png)

这时创建的一个工程它默认是动态库,我们要通过设置对它进行设置为静态库



<br/>

***
<br/>


![ios各个语言编译流程](https://raw.githubusercontent.com/harleyGit/StudyNotes/master/Pictures/ios_oc29.png)

ios各个语言编译流程


> <h1 id='动态库'>动态库</h1>


<br/>



> <h2 id='tbd格式'>tbd格式</h2>

![ios_oc38](https://raw.githubusercontent.com/harleyGit/StudyNotes/master/Pictures/ios_oc38.png)


<br/>
<br/>
<br/>

> <h2 id='Framewor'>**Framework**</h2>

![Framework意义](https://raw.githubusercontent.com/harleyGit/StudyNotes/master/Pictures/ios_oc25.png)

- Embedded Framework

开发中使用的动态库会被放入到ipa下的framework目录下,基于沙盒运行.

不同的App使用相同的动态库,并不会只在系统中存在一份.而是会在多个App总各自打包、签名、加载一份.



<br/>
<br/>
<br/>

> <h2 id='Mach-o格式'>Mach-o格式</h2>


![ios_oc37.png](https://raw.githubusercontent.com/harleyGit/StudyNotes/master/Pictures/ios_oc37.png)


<br/>
<br/>
<br/>

> <h2 id=''></h2>


<br/>
<br/>
<br/>

> <h2 id=''></h2>


<br/>
<br/>
<br/>

> <h2 id=''></h2>


<br/>
<br/>
<br/>

> <h2 id=''></h2><br/>



<br/>
<br/>
<br/>

> <h2 id=''></h2>

<br/>

![30](https://raw.githubusercontent.com/harleyGit/StudyNotes/master/Pictures/ios_oc30.png)

&emsp; 动态库合静态库的继承、查找、链接，其实静态库是**.o文件**的合集，经过一定的转化可以变为动态库.


<br/>

![31](https://raw.githubusercontent.com/harleyGit/StudyNotes/master/Pictures/ios_oc31.png)

AFNetworking的静态库


<br/>


![32](https://raw.githubusercontent.com/harleyGit/StudyNotes/master/Pictures/ios_oc32.png)

AFNetworking的动态库





<br/>

***
<br/>


> <h1 id=''></h1>





<br/>

***
<br/>


> <h1 id=''></h1>




<br/>

***
<br/>


> <h1 id=''></h1>