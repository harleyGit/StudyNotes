> <h2 id=''></h2>
- [**ç®€ä»‹**](#ç®€ä»‹)
	- [æŠ›å‡ºå¼‚å¸¸](#æŠ›å‡ºå¼‚å¸¸)
	- [æŠ“å–å¼‚å¸¸å¤„ç†](#æŠ“å–å¼‚å¸¸å¤„ç†)
- [**è¿è¡Œæ—¶å¤„ç†å¼‚å¸¸**](#è¿è¡Œæ—¶å¤„ç†å¼‚å¸¸)
- [**NSErroré”™è¯¯**](#NSErroré”™è¯¯)
	- [å±æ€§&æ–¹æ³•ä»‹ç»](#å±æ€§&æ–¹æ³•ä»‹ç»)

<br/>

***
<br/>


> <h1 id='ç®€ä»‹'>ç®€ä»‹</h1>


NSExceptionæŒæ§ç€ç¨‹åºçš„ç”Ÿå‘½ï¼Œç¨‹åºçš„å´©æºƒå°±æ˜¯NSExceptionæ¥æ§åˆ¶çš„,å…¶ä¸»è¦ç”¨é€”å°±æ˜¯æ˜¯è®©å¼€å‘è€…è®¤è¯†åˆ°å“ªé‡Œçš„ä»£ç æœ‰é—®é¢˜ã€‚

&emsp; NSExceptionå¯ä»¥ç”¨æ¥æ•è·å¼‚å¸¸ï¼Œé˜²æ­¢ç¨‹åºçš„å´©æºƒã€‚å½“ä½ æ„è¯†åˆ°æŸæ®µä»£ç å¯èƒ½å­˜åœ¨å´©æºƒçš„å±é™©ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥é€šè¿‡æ•è·å¼‚å¸¸æ¥é˜²æ­¢ç¨‹åºçš„å´©æºƒã€‚


<br/>
<br/>


> <h2 id='æŠ›å‡ºå¼‚å¸¸'>æŠ›å‡ºå¼‚å¸¸</h2>


.hæ–‡ä»¶

```
typedef NSString * NSExceptionName NS_EXTENSIBLE_STRING_ENUM;

NS_ASSUME_NONNULL_BEGIN

FOUNDATION_EXPORT NSExceptionName const NSExceptionNameOne;

@interface HGPrsonalOne : NSObject

@property(nonatomic, assign)int age;
@end

```

<br/>

.mæ–‡ä»¶

```
NSExceptionName const NSExceptionNameOne = @"ğŸ˜„ è‡ªå®šä¹‰å¼‚å¸¸";


@implementation HGPrsonalOne

- (void)setAge:(int)age {
    if (self.age != age) {
        if (age > 30) {
            //å¼‚å¸¸çš„åç§°
            NSString *exceptionName = NSExceptionNameOne;
            //å¼‚å¸¸çš„åŸå› 
            NSString *exceptionReason = @"æˆ‘é•¿å¾—å¤ªå¸…äº†ï¼Œæ‰€ä»¥ç¨‹åºå´©æºƒäº†";
            //å¼‚å¸¸çš„ä¿¡æ¯
            NSDictionary *exceptionUserInfo = nil;
            
            @throw [NSException exceptionWithName:exceptionName
                                           reason:[NSString stringWithFormat:@"åŸå›  %@: %@",exceptionReason, NSStringFromSelector(_cmd)]
                                         userInfo:exceptionUserInfo];
        }
        
        _age = age;
    }
}
```



<br/>

```
HGPrsonalOne *po = [HGPrsonalOne new];
po.age = 100;

LogInfo(@"æµ‹è¯•å¼‚å¸¸æšä¸¾ å¹´é¾„:%d", po.age);
    
```

æ‰“å°:

```
*** Terminating app due to uncaught exception 'ğŸ˜„ è‡ªå®šä¹‰å¼‚å¸¸', reason: 'åŸå›  æˆ‘é•¿å¾—å¤ªå¸…äº†ï¼Œæ‰€ä»¥ç¨‹åºå´©æºƒäº†: setAge:'

Â·Â·Â·Â·
Â·Â·Â·
Â·Â·
Â·Â·

libc++abi.dylib: terminating with uncaught exception of type NSException
*** Terminating app due to uncaught exception 'ğŸ˜„ è‡ªå®šä¹‰å¼‚å¸¸', reason: 'åŸå›  æˆ‘é•¿å¾—å¤ªå¸…äº†ï¼Œæ‰€ä»¥ç¨‹åºå´©æºƒäº†: setAge:'
terminating with uncaught exception of type NSException
CoreSimulator 732.18.6 - Device: iPhone 12 Pro Max (89D2DB20-E0BF-44AB-8B7B-9AC6821F48EB) - Runtime: iOS 14.4 (18D46) - DeviceType: iPhone 12 Pro Max

```

&emsp; è¿™é‡Œéœ€è¦æ³¨æ„ä¸‹,æµ‹è¯•ä»£ç çš„æœ€åä»£ç å¹¶æ²¡æœ‰è¿›è¡Œæ‰§è¡Œ,è¿™æ˜¯å› ä¸ºå¼‚å¸¸ä¸­æ–­äº†ç¨‹åºé€ æˆçš„!


<br/>
<br/>
<br/>

> <h2 id='æŠ“å–å¼‚å¸¸å¤„ç†'>æŠ“å–å¼‚å¸¸å¤„ç†</h2>

```
+ (void) testArrayException {
    NSString *nilStr = nil;
    NSMutableArray *arrayM = [NSMutableArray array];

    @try {
        //å¦‚æœ@tryä¸­çš„ä»£ç ä¼šå¯¼è‡´ç¨‹åºå´©æºƒï¼Œå°±ä¼šæ¥åˆ°@catch

        //å°†ä¸€ä¸ªnilæ’å…¥åˆ°å¯å˜æ•°ç»„ä¸­ï¼Œè¿™è¡Œä»£ç è‚¯å®šæœ‰é—®é¢˜
        [arrayM addObject:nilStr];
    }
    @catch (NSException *exception) {
        //å¦‚æœ@tryä¸­çš„ä»£ç æœ‰é—®é¢˜(å¯¼è‡´å´©æºƒ),å°±ä¼šæ¥åˆ°@catch

        //åœ¨è¿™é‡Œä½ å¯ä»¥è¿›è¡Œç›¸åº”çš„å¤„ç†æ“ä½œ

        //å¦‚æœä½ è¦æŠ›å‡ºå¼‚å¸¸(è®©ç¨‹åºå´©æºƒ),å°±å†™ä¸Š @throw exception
        LogInfo(@"catch æ•è·å¼‚å¸¸");

    }
    @finally {

        //@finallyä¸­çš„ä»£ç æ˜¯ä¸€å®šä¼šæ‰§è¡Œçš„

        //ä½ å¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œä¸€äº›ç›¸åº”çš„æ“ä½œ
        LogInfo(@"å¤„ç†å¼‚å¸¸");
    }
    
    LogInfo(@"ç»§ç»­æ‰§è¡Œä¸‹é¢çš„ä»£ç ");
}
```

æ‰“å°:

```
2023-02-11 14:48:33.165302+0800 MLC[12994:341685] ğŸ ğŸ  +[HGPrsonalOne testArrayException][60] 
 catch æ•è·å¼‚å¸¸

2023-02-11 14:48:33.165455+0800 MLC[12994:341685] ğŸ ğŸ  +[HGPrsonalOne testArrayException][68] 
 å¤„ç†å¼‚å¸¸

2023-02-11 14:48:33.165552+0800 MLC[12994:341685] ğŸ ğŸ  +[HGPrsonalOne testArrayException][71] 
 ç»§ç»­æ‰§è¡Œä¸‹é¢çš„ä»£ç 

```


<br/>
<br/>


<br/>

***
<br/>


> <h1 id ='è¿è¡Œæ—¶å¤„ç†å¼‚å¸¸'>è¿è¡Œæ—¶å¤„ç†å¼‚å¸¸</h1>

&emsp; ä½¿ç”¨åˆ†ç±»(category) + runtime + å¼‚å¸¸çš„æ•è· æ¥é˜²æ­¢Foundationä¸€äº›å¸¸ç”¨æ–¹æ³•ä½¿ç”¨ä¸å½“è€Œå¯¼è‡´çš„å´©æºƒã€‚

&emsp;å…¶åŸç†å°±æ˜¯åˆ©ç”¨categoryã€runtimeæ¥äº¤æ¢ä¸¤ä¸ªæ–¹æ³•ï¼Œå¹¶ä¸”åœ¨æ–¹æ³•ä¸­æ•è·å¼‚å¸¸è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚




<br/>
<br/>


> <h2 id =''></h2>



<br/>
<br/>


> <h2 id =''></h2>



<br/>
<br/>


> <h2 id =''></h2>




<br/>

***
<br/>


> <h1 id ='NSErroré”™è¯¯'>NSErroré”™è¯¯</h1>

[**NSErroré”™è¯¯åˆ—è¡¨**](https://juejin.cn/post/7087097581808910343)

<br/>

> <h2 id ='å±æ€§&æ–¹æ³•ä»‹ç»'>å±æ€§&æ–¹æ³•ä»‹ç»</h2>


```
//ä¸¤ç§åˆå§‹åŒ–æ–¹æ³•ï¼šå…¶ä¸­ï¼Œdomain ä¸èƒ½ä¸ºç©º dictå¯ä»¥ä¸ºç©º
- (instancetype)initWithDomain:(NSErrorDomain)domain code:(NSInteger)code userInfo:(nullable NSDictionary *)dict;

+ (instancetype)errorWithDomain:(NSErrorDomain)domain code:(NSInteger)code userInfo:(nullable NSDictionary *)dict;

@property (readonly, copy) NSErrorDomain domain;//é”™è¯¯åŸŸ

@property (readonly) NSInteger code;//é”™è¯¯ä»£ç 

@property (readonly, copy) NSDictionary *userInfo;//é”™è¯¯ä¿¡æ¯

@property (readonly, copy) NSString *localizedDescription;//è·å–æœ¬åœ°åŒ–æè¿°

@property (nullable, readonly, copy) NSString *localizedFailureReason;//è·å–å¤±è´¥åŸå› 

@property (nullable, readonly, copy) NSString *localizedRecoverySuggestion;//è·å–æ¢å¤å»ºè®®

@property (nullable, readonly, copy) NSArray<NSString *> *localizedRecoveryOptions;æœ¬åœ°æ¢å¤å»ºè®®

@property (nullable, readonly, strong) id recoveryAttempter;

@property (nullable, readonly, copy) NSString *helpAnchor; // A string to display in response to an alert panel help anchor button being pressed.


///é¢„å®šä¹‰çš„userinfoé”®å
NSString *const NSUnderlyingErrorKey;//æ¨èçš„æ ‡å‡†æ–¹å¼
//é€šç”¨é”®
NSString *const NSLocalizedDescriptionKey;             // è¯¦ç»†æè¿°é”®
NSString *const NSLocalizedFailureReasonErrorKey;      // å¤±è´¥åŸå› é”®
NSString *const NSLocalizedRecoverySuggestionErrorKey; //æ¢å¤å»ºè®®é”®
NSString *const NSLocalizedRecoveryOptionsErrorKey;    // æ¢å¤é€‰é¡¹é”®

//å…¶ä»–é”®
NSString *const NSRecoveryAttempterErrorKey;    
NSString *const NSHelpAnchorErrorKey;              
NSString *const NSStringEncodingErrorKey ;  
NSString *const NSURLErrorKey;       
NSString *const NSFilePathErrorKey;       
```

<br/>

&emsp; é”™è¯¯åŸŸä¸»è¦æœ‰å››ä¸ª:
- å¯¹äºCarbonæ¡†æ¶çš„Errorï¼Œå½’äºOSStatus domainï¼ˆNSOSStatusErrorDomain);
- å¯¹äºPOSIX errorï¼Œå½’äºNSPOSIXErrorDomain;
- å¯¹äºæˆ‘ä»¬çš„iOSå¼€å‘ï¼Œä¸€èˆ¬ä½¿ç”¨NSCocoaErrorDomainã€‚

<br/>

**NSError.hå®šä¹‰äº†å››ä¸ªdomain:**

```
FOUNDATION_EXPORT NSErrorDomain const NSCocoaErrorDomain;

FOUNDATION_EXPORT NSErrorDomain const NSPOSIXErrorDomain;

FOUNDATION_EXPORT NSErrorDomain const NSOSStatusErrorDomain;

FOUNDATION_EXPORT NSErrorDomain const NSMachErrorDomain;
```




<br/>
<br/>


> <h2 id =''></h2>



<br/>
<br/>


> <h2 id =''></h2>



<br/>
<br/>


> <h2 id =''></h2>




<br/>

***
<br/>


> <h1 id =''></h1>




<br/>
<br/>


> <h2 id =''></h2>



<br/>
<br/>


> <h2 id =''></h2>



<br/>
<br/>


> <h2 id =''></h2>




<br/>

***
<br/>


> <h1 id =''></h1>




<br/>
<br/>


> <h2 id =''></h2>



<br/>
<br/>


> <h2 id =''></h2>



<br/>
<br/>


> <h2 id =''></h2>




<br/>

***
<br/>


> <h1 id =''></h1>




<br/>
<br/>


> <h2 id =''></h2>



<br/>
<br/>


> <h2 id =''></h2>



<br/>
<br/>


> <h2 id =''></h2>




<br/>

***
<br/>


> <h1 id =''></h1>




<br/>
<br/>


> <h2 id =''></h2>



<br/>
<br/>


> <h2 id =''></h2>



<br/>
<br/>


> <h2 id =''></h2>




<br/>

***
<br/>


> <h1 id =''></h1>




<br/>
<br/>


> <h2 id =''></h2>



<br/>
<br/>


> <h2 id =''></h2>



<br/>
<br/>


> <h2 id =''></h2>




<br/>

***
<br/>


> <h1 id =''></h1>




<br/>
<br/>


> <h2 id =''></h2>



<br/>
<br/>


> <h2 id =''></h2>



<br/>
<br/>


> <h2 id =''></h2>




<br/>

***
<br/>


> <h1 id =''></h1>




<br/>
<br/>


> <h2 id =''></h2>



<br/>
<br/>


> <h2 id =''></h2>



<br/>
<br/>


> <h2 id =''></h2>








