
># [Flutterå®æˆ˜Â·ç¬¬äºŒç‰ˆ](https://book.flutterchina.club/)</h2>
># [Dart ç¼–ç¨‹è¯­è¨€æ¦‚è§ˆ](https://www.dartcn.com/guides/language/language-tour)
- [**å˜é‡**](#å˜é‡)
	- [dynamicå’ŒObjectç±»å‹](#dynamicå’ŒObjectç±»å‹)
	- [Final å’Œ Const](#Finalå’ŒConst) 
		- [conståœ¨=å·¦è¾¹](#conståœ¨=å·¦è¾¹)
		- [constä½¿ç”¨åœ¨=å³è¾¹](#constä½¿ç”¨åœ¨=å³è¾¹)
- [**å†…ç½®å†…å‹**](#å†…ç½®å†…å‹)
	- [Seté›†åˆ](#Seté›†åˆ)
- [**è¿ç®—ç¬¦**](#è¿ç®—ç¬¦)
	- [ç±»å‹åˆ¤å®šè¿ç®—ç¬¦asï¼Œ isï¼Œ å’Œ is!](#ç±»å‹åˆ¤å®šè¿ç®—ç¬¦asï¼Œiså’Œis!)
	- [èµ‹å€¼è¿ç®—ç¬¦](#èµ‹å€¼è¿ç®—ç¬¦)
	- [æŒ‰ä½å’Œç§»ä½è¿ç®—ç¬¦](#æŒ‰ä½å’Œç§»ä½è¿ç®—ç¬¦)
- [**ç©ºå®‰å…¨**](#ç©ºå®‰å…¨)
- [**å…³é”®å­—**](#å…³é”®å­—)
	- [@required](#@required)
	- [Mixin](#Mixin)
	- [mixinå’Œonçš„ç»“åˆä½¿ç”¨](#mixinå’Œonçš„ç»“åˆä½¿ç”¨)
	- [with](#with)
	- [finalå’Œconst](#finalå’Œconst)
- [**`ç±»çš„æ–¹æ³•`**](#ç±»çš„æ–¹æ³•)
	- [æ„é€ æ–¹æ³•](#æ„é€ æ–¹æ³•)
	- [getã€ setæ–¹æ³•](#getsetæ–¹æ³•)
	- [è¿ç¼€ä¹¦å†™](#è¿ç¼€ä¹¦å†™)
	- [ç±»çš„ç»§æ‰¿æ„é€ æ–¹æ³•](#ç±»çš„ç»§æ‰¿æ„é€ æ–¹æ³•)
	- [å‘½åå¯é€‰å‚æ•°&å¯é€‰å‚æ•°](#å‘½åå¯é€‰å‚æ•°&å¯é€‰å‚æ•°)
		- [å‘½åå¯é€‰å‚æ•°](#å‘½åå¯é€‰å‚æ•°)
		- [å¯é€‰å‚æ•°](#å¯é€‰å‚æ•°)
	- [æ¨¡æ‹Ÿé‡è½½æ–¹æ³•](#æ¨¡æ‹Ÿé‡è½½æ–¹æ³•)
- [**â€Œå‡½æ•°**](#å‡½æ•°)
	- [å‡½æ•°ä½œä¸ºå‚æ•°](#å‡½æ•°ä½œä¸ºå‚æ•°)
	- [åŒ¿åå‡½æ•°](#åŒ¿åå‡½æ•°)
	- [ç®­å¤´å‡½æ•°](#ç®­å¤´å‡½æ•°)
		- [æ¡ä»¶è¡¨è¾¾å¼](#æ¡ä»¶è¡¨è¾¾å¼)
	- [æœ‰çŠ¶æ€å‡½æ•°](#æœ‰çŠ¶æ€å‡½æ•°)
		- [è‡ªæ‰§è¡Œæ–¹æ³•](#è‡ªæ‰§è¡Œæ–¹æ³•)
		- [é—­åŒ…](#é—­åŒ…) 
- [**æŠ½è±¡ç±»**](#æŠ½è±¡ç±»)
	- [æ¥å£ç±»](#æ¥å£ç±»)
- [**èŒƒå‹é™åˆ¶**](#èŒƒå‹é™åˆ¶)
- [**Mixins åŠŸèƒ½**](#MixinsåŠŸèƒ½)
- [**å¼‚æ­¥å’ŒåŒæ­¥**](#å¼‚æ­¥å’ŒåŒæ­¥)
- [**èŒƒå‹é™åˆ¶**](#èŒƒå‹é™åˆ¶)
- **[Flutteræ·»åŠ åˆ°ç°æœ‰åº”ç”¨](#Flutteræ·»åŠ åˆ°ç°æœ‰åº”ç”¨)**
	- [Flutteræ¨¡å—é›†æˆåˆ°iOSé¡¹ç›®ä¸­](#Flutteræ¨¡å—é›†æˆåˆ°iOSé¡¹ç›®ä¸­)
	- [Xcodeè°ƒè¯•è¿è¡ŒFlutter](#Xcodeè°ƒè¯•è¿è¡ŒFlutter)
- **èµ„æ–™**
	- [Flutterç¼–ç¨‹è¯­è¨€(å®˜æ–¹)](https://www.dartcn.com/guides/get-started)
	- [Dart åŸºç¡€äºŒï¼šå‡½æ•°(ghroosk-æ˜é‡‘)](https://juejin.cn/post/6931340267324702733#heading-19)
	- [Dart è¯­è¨€åŸºç¡€å…¥é—¨ç¯‡](https://juejin.cn/post/6844904039394574344)









<br/>


***
<br/><br/><br/><br/><br/>

![flutter1_81_3.webp](./../Pictures/flutter1_81_3.webp)



> <h1 id='å˜é‡'>å˜é‡</h1>

<br/><br/><br/>

> <h2 id='dynamicå’ŒObjectç±»å‹'>dynamicå’ŒObjectç±»å‹</h2>

<br/><br/>

> <h2 id='dynamicå’Œobject'>dynamic å’Œ Object</h2>


Object æ˜¯ Dart æ‰€æœ‰å¯¹è±¡çš„æ ¹åŸºç±»ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ Dart ä¸­æ‰€æœ‰ç±»å‹éƒ½æ˜¯Objectçš„å­ç±»(åŒ…æ‹¬Functionå’ŒNull)ï¼Œæ‰€ä»¥ä»»ä½•ç±»å‹çš„æ•°æ®éƒ½å¯ä»¥èµ‹å€¼ç»™Objectå£°æ˜çš„å¯¹è±¡ã€‚ dynamicä¸Objectå£°æ˜çš„å˜é‡éƒ½å¯ä»¥èµ‹å€¼ä»»æ„å¯¹è±¡ï¼Œä¸”åæœŸå¯ä»¥æ”¹å˜èµ‹å€¼çš„ç±»å‹ï¼Œè¿™å’Œ var æ˜¯ä¸åŒçš„ï¼Œå¦‚ï¼š

```
dynamic t;
Object x;
t = "hi world";
x = 'Hello Object';
//ä¸‹é¢ä»£ç æ²¡æœ‰é—®é¢˜
t = 1000;
x = 1000;
```


<br/>

dynamicä¸Objectä¸åŒçš„æ˜¯dynamicå£°æ˜çš„å¯¹è±¡ç¼–è¯‘å™¨ä¼šæä¾›æ‰€æœ‰å¯èƒ½çš„ç»„åˆï¼Œè€ŒObjectå£°æ˜çš„å¯¹è±¡åªèƒ½ä½¿ç”¨ Object çš„å±æ€§ä¸æ–¹æ³•, å¦åˆ™ç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼Œå¦‚:

```
dynamic a;
Object b = "";
main() {
	a = "";
	printLengths();
}   

printLengths() {
	// æ­£å¸¸
	print(a.length);
	// æŠ¥é”™ The getter 'length' is not defined for the class 'Object'
	print(b.length);
}
```

dynamic çš„è¿™ä¸ªç‰¹ç‚¹ä½¿å¾—æˆ‘ä»¬åœ¨ä½¿ç”¨å®ƒæ—¶éœ€è¦æ ¼å¤–æ³¨æ„ï¼Œè¿™å¾ˆå®¹æ˜“å¼•å…¥ä¸€ä¸ªè¿è¡Œæ—¶é”™è¯¯ï¼Œæ¯”å¦‚ä¸‹é¢ä»£ç åœ¨ç¼–è¯‘æ—¶ä¸ä¼šæŠ¥é”™ï¼Œè€Œåœ¨è¿è¡Œæ—¶ä¼šæŠ¥é”™ï¼š

```
print(a.xx); // aæ˜¯å­—ç¬¦ä¸²ï¼Œæ²¡æœ‰"xx"å±æ€§ï¼Œç¼–è¯‘æ—¶ä¸ä¼šæŠ¥é”™ï¼Œè¿è¡Œæ—¶ä¼šæŠ¥é”™
```

<br/>

è¯»äº†ä¸Šé¢å…³äºdynamicçš„ä¸¾ä¾‹å’Œè®²è§£ï¼Œå¯èƒ½ä½ è¿˜æ˜¯äº‘é‡Œé›¾é‡Œä¸çŸ¥é“å•¥æ„æ€å§ï¼Ÿ ç¡®å®ï¼Œæ„Ÿè§‰å°±æ˜¯ç©ºè¯åºŸè¯ï¼Ÿ ä¸‹é¢æˆ‘ä»¬**å¹²è´§è®²è§£ï¼š**

```
dynamicç±»å‹å…·æœ‰æ‰€æœ‰å¯èƒ½çš„å±æ€§å’Œæ–¹æ³•ã€‚Dartè¯­è¨€ä¸­å‡½æ•°æ–¹æ³•éƒ½æœ‰dynamicç±»å‹ä½œä¸ºå‡½æ•°çš„è¿”å›ç±»å‹ï¼Œå‡½æ•°çš„å‚æ•°ä¹Ÿéƒ½æœ‰dynamicç±»å‹ã€‚
```

ä¸Šé¢çš„å®šä¹‰å‘Šè¯‰æˆ‘ä»¬ï¼Œæˆ‘ä»¬ä¸ä¼šè·å¾—warningå½“æˆ‘ä»¬è°ƒç”¨dynamicå˜é‡çš„ä»»ä½•æ–¹æ³•ã€‚å…¶å®dynamicä¸æ˜¯å®é™…çš„ typeï¼Œè€Œæ˜¯ç±»å‹æ£€æŸ¥å¼€å…³ï¼Œé€šè¿‡å®ƒå®šä¹‰çš„å˜é‡ä¼šå…³é—­ç±»å‹æ£€æŸ¥ï¼Œè¿™æ„å‘³ç€ dynamic list= 3;  list.add();

è¿™æ®µä»£ç é™æ€ç±»å‹æ£€æŸ¥ä¸ä¼šæŠ¥é”™(dynamicä¸æ˜¯åœ¨ç¼–è¯‘æ—¶ç¡®å®šç±»å‹çš„ï¼Œè€Œæ˜¯åœ¨è¿è¡Œæ—¶)ï¼Œä½†æ˜¯è¿è¡Œæ—¶ä¼šcrashï¼Œå› ä¸ºlistå¹¶æ²¡æœ‰addï¼ˆï¼‰ æ–¹æ³•ï¼Œä¸€ä¸ªå˜é‡è¢«dynamicä¿®é¥°ï¼Œç›¸å½“äºå‘Šè¯‰ç³»ç»Ÿâ€œç›¸ä¿¡æˆ‘ï¼Œæˆ‘çŸ¥é“æˆ‘è‡ªå·±åœ¨åšä»€ä¹ˆâ€ã€‚æ‰€ä»¥åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä¸æ¨èç›´æ¥ä½¿ç”¨å®ƒã€‚

```
void main() {
  dynamic name = 'å­—ç¬¦ä¸²';
  print(name.runtimeType); //è¾“å‡ºï¼šString
  name.add(); //é™æ€ç±»å‹æ£€æŸ¥ä¸ä¼šæŠ¥é”™,å•åœ¨è¿è¡Œæ—¶ä¼šcrash
  dynamic year = 2020;
  print(year.runtimeType); //è¾“å‡ºï¼šint
}

```

<br/>

ä½†æ˜¯ç”¨objectå®šä¹‰å˜é‡æ—¶åˆ™ä¼šå‡ºç°å‘Šè­¦,objectæ˜¯Dart å¯¹è±¡çš„åŸºç±»,ä½ å®šä¹‰ï¼š object o =xxx ;æ—¶è¿™ä¸ªæ—¶å€™ç³»ç»Ÿä¼šè®¤ä¸ºo æ˜¯ä¸ªå¯¹è±¡ï¼Œä½ å¯ä»¥è°ƒç”¨oçš„toString()å’ŒhashCode()æ–¹æ³•ï¼Œä½†æ˜¯å¦‚æœä½ å°è¯•è°ƒç”¨o.add()æ—¶ï¼Œé™æ€ç±»å‹æ£€æŸ¥ä¼šè¿è¡ŒæŠ¥é”™ã€‚

```
void main() {
 dynamic list= 3;  
 list.add(); // ä¸ä¼šæŠ¥é”™
 object object = 3ï¼›
 object.add(); // ä¼šæŠ¥é”™
}

```



<br/><br/><br/>

> <h2 id='Finalå’ŒConst'>Final å’Œ Const</h2>

ä½¿ç”¨è¿‡ç¨‹ä¸­ä»æ¥ä¸ä¼šè¢«ä¿®æ”¹çš„å˜é‡ï¼Œ å¯ä»¥ä½¿ç”¨ final æˆ– const, è€Œä¸æ˜¯ var æˆ–è€…å…¶ä»–ç±»å‹ï¼Œ Final å˜é‡çš„å€¼åªèƒ½è¢«è®¾ç½®ä¸€æ¬¡ï¼› Const å˜é‡åœ¨ç¼–è¯‘æ—¶å°±å·²ç»å›ºå®š (Const å˜é‡ æ˜¯éšå¼ Final çš„ç±»å‹.) æœ€é«˜çº§ final å˜é‡æˆ–ç±»å˜é‡åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶è¢«åˆå§‹åŒ–ã€‚

<br/>

>**æç¤ºï¼š** å®ä¾‹å˜é‡å¯ä»¥æ˜¯ final ç±»å‹ä½†ä¸èƒ½æ˜¯ const ç±»å‹ã€‚ å¿…é¡»åœ¨æ„é€ å‡½æ•°ä½“æ‰§è¡Œä¹‹å‰åˆå§‹åŒ– final å®ä¾‹å˜é‡ â€”â€” åœ¨å˜é‡å£°æ˜ä¸­ï¼Œå‚æ•°æ„é€ å‡½æ•°ä¸­æˆ–æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨ä¸­è¿›è¡Œåˆå§‹åŒ–ã€‚


finalçš„è¦æ±‚å°±æ˜¯ å…¶å£°æ˜çš„**å˜é‡åœ¨èµ‹å€¼ä¹‹åå°±ä¸å†æ”¹å˜**ï¼Œå®ƒå¹¶ä¸è¦æ±‚å˜**é‡åœ¨ç¼–è¯‘æ—¶å°±å·²ç»ç¡®å®š**ï¼›

- **finalæœ‰ä¸¤ç§åœºæ™¯ï¼š**

	- æ–‡ä»¶ä¸­çš„å˜é‡å£°æ˜ï¼šå¿…é¡»åœ¨å£°æ˜æ—¶èµ‹å€¼ã€‚
	- ç±»çš„æˆå‘˜å˜é‡å£°æ˜ï¼šå¯ä»¥åœ¨å£°æ˜æ—¶èµ‹å€¼ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ„é€ å‡½æ•°èµ‹å€¼è¯­æ³•ç³–`Class({this.a})`ï¼Œæˆ–è€…åˆå§‹åŒ–åˆ—è¡¨çš„æ–¹å¼èµ‹å€¼ã€‚

```
class TestWidget extends StatefulWidget{

  final String name;
  
  final String url ="https://wwww.baidu.com"; // url ä¸èƒ½è¢«ä¿®æ”¹:

  TestWidget(this.name);

  @override
  State<StatefulWidget> createState() {
    // TODO: implement createState
    return null;
  }
}
```


å¦‚æœéœ€è¦åœ¨**ç¼–è¯‘æ—¶**å°±å›ºå®šå˜é‡çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨ const ç±»å‹å˜é‡ã€‚Const å…³é”®å­—ä¸ä»…å¯ä»¥ç”¨äºå£°æ˜å¸¸é‡å˜é‡ï¼Œ è¿˜å¯ä»¥ç”¨æ¥åˆ›å»ºå¸¸é‡å€¼ï¼Œä»¥åŠå£°æ˜åˆ›å»ºå¸¸é‡å€¼çš„æ„é€ å‡½æ•°ã€‚ å¦‚æœ const å˜é‡æ˜¯ç±»çº§åˆ«çš„ï¼Œéœ€è¦æ ‡è®°ä¸º static constã€‚ åœ¨è¿™äº›åœ°æ–¹å¯ä»¥ä½¿ç”¨åœ¨ç¼–è¯‘æ—¶å°±å·²ç»å›ºå®šä¸å˜çš„å€¼ï¼Œå­—é¢é‡çš„æ•°å­—å’Œå­—ç¬¦ä¸²ï¼Œ å›ºå®šçš„å˜é‡ï¼Œæˆ–è€…æ˜¯ç”¨äºè®¡ç®—çš„å›ºå®šæ•°å­—ã€‚

<br/><br/>

- **è¿™2è€…æ²¡å•¥åŒºåˆ«,æœ‰åŒºåˆ«çš„æ˜¯:**
	- conståœ¨ç¼–è¯‘æ—¶ç›´æ¥æ›¿æ¢ä¸ºå¸¸é‡å€¼;
	- finalå˜é‡åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶è¢«åˆå§‹åŒ–


åˆ›å»ºå’Œè®¾ç½®ä¸€ä¸ª Final å˜é‡ï¼š

```
final name = 'Bob'; // Without a type annotation
final String nickname = 'Bobby';
```

final ä¸èƒ½è¢«ä¿®æ”¹:

```
name = 'Alice'; // Error: ä¸€ä¸ª final å˜é‡åªèƒ½è¢«è®¾ç½®ä¸€æ¬¡ã€‚
```


<br/><br/>

å¦‚æœæ‚¨ä»æœªæ‰“ç®—æ›´æ”¹ä¸€ä¸ªå˜é‡ï¼Œé‚£ä¹ˆä½¿ç”¨ final æˆ– constï¼Œä¸æ˜¯varï¼Œä¹Ÿä¸æ˜¯ä¸€ä¸ªç±»å‹ã€‚ ä¸€ä¸ª final å˜é‡åªèƒ½è¢«è®¾ç½®ä¸€æ¬¡ ã€‚è¢«finalæˆ–è€…constä¿®é¥°çš„å˜é‡ï¼Œå˜é‡ç±»å‹å¯ä»¥çœç•¥ï¼Œå¦‚ï¼š

```
//å¯ä»¥çœç•¥Stringè¿™ä¸ªç±»å‹å£°æ˜
final str = "hi world";

//final String str = "hi world"; 

const str1 = "hi world";
//const String str1 = "hi world";
```


<br/><br/><br/>

> <h2 id="conståœ¨=å·¦è¾¹">conståœ¨=å·¦è¾¹</h2>

å½“**constç”¨åœ¨=å·¦è¾¹**æ—¶ï¼Œå…¶ä½œç”¨æ˜¯ å£°æ˜å˜é‡ï¼Œå®ƒè¦æ±‚ **å¿…é¡»åœ¨å£°æ˜å˜é‡æ—¶èµ‹å€¼ï¼Œä¸€æ—¦èµ‹å€¼å°±ä¸å…è®¸ä¿®æ”¹ï¼Œè€Œå£°æ˜å€¼ä¸€å®šè¦æ˜¯ç¼–è¯‘æ—¶å¸¸æ•°**ï¼ˆå®ƒä»¬å¿…é¡»ç”±ç¼–è¯‘æœŸå°±èƒ½è¢«è®¡ç®—å‡ºæ¥çš„æ•°æ®åˆ›å»ºï¼Œä¸€ä¸ª const çš„å¯¹è±¡ä¸èƒ½ä½¿ç”¨è¿è¡Œæ—¶æ‰èƒ½ç¡®å®šçš„å€¼ï¼‰ï¼Œconståœ¨å£°æ˜å˜é‡æ—¶å¯ä»¥çœç•¥å˜é‡çš„ç±»å‹å¦‚var, intç­‰ã€‚
è¿™é‡Œçš„å…³é”®ç‚¹åœ¨äºåŒºåˆ† ä»€ä¹ˆæ˜¯ç¼–è¯‘æ—¶å¸¸æ•°ï¼Œæœ‰ä»¥ä¸‹å‡ ç§åœºæ™¯ï¼š

- **æ•°å€¼ã€å­—ç¬¦ä¸²ã€å…¶å®ƒçš„constå˜é‡**

```
void main() {
  const a = 1;
  const b = 'hello';
  const c = a;
}
```


<br/>

- **è¡¨è¾¾å¼ï¼Œè¡¨è¾¾å¼çš„æ‰€æœ‰å€¼éƒ½æ˜¯ç¼–è¯‘æ—¶å¯çŸ¥çš„ã€‚**

```
void main() {
  const a = 1;
  const b = a > 1 ? 2 : 1;
}
```

<br/>

- **é›†åˆæˆ–å¯¹è±¡ã€‚é›†åˆå¿…é¡»ç”¨constä¿®é¥°ï¼Œå¯¹è±¡çš„æ„é€ å‡½æ•°å¿…é¡»ç”¨constä¿®é¥°ã€‚**

```
void main() {
  const a = const [1,2,3];
  const b = ConstObject(2);
  b.log();
}
class ConstObject {
  
  final value;
  
  const ConstObject(this.value);
  
  log() {
    print(value);
  }
}
```

<br/><br/><br/>


> <h2 id="constä½¿ç”¨åœ¨=å³è¾¹"> constä½¿ç”¨åœ¨=å³è¾¹ </h2>

**å½“constç”¨åœ¨=å³è¾¹**ï¼Œå…¶ä½œç”¨æ˜¯ **ä¿®é¥°å€¼ï¼Œå®ƒæ„å‘³ç€å¯¹è±¡çš„æ•´ä¸ªæ·±åº¦çŠ¶æ€å¯ä»¥åœ¨ç¼–è¯‘æ—¶å®Œå…¨ç¡®å®š**ï¼Œå¹¶ä¸”å¯¹è±¡å°†è¢«å†»ç»“å¹¶ä¸”å®Œå…¨ä¸å¯å˜ã€‚å¦‚æœä½ æœ‰ä¸€ä¸ª final çš„é›†åˆå­—æ®µï¼Œé›†åˆé‡Œé¢çš„å†…å®¹æ˜¯å¯ä»¥æ”¹å˜çš„ã€‚å¦‚æœä½ æœ‰ä¸€ä¸ª const çš„é›†åˆå¯¹è±¡ï¼Œé›†åˆé‡Œé¢çš„ä¸€åˆ‡éƒ½æ˜¯ const çš„ï¼Œéƒ½æ˜¯ä¸èƒ½æ”¹å˜çš„ã€‚
ä¸€èˆ¬ç”¨äºä¿®é¥°é›†åˆï¼Œå®ƒè¦æ±‚ä¸¤ç‚¹ï¼š

- **é›†åˆçš„å…ƒç´ éƒ½å¿…é¡»æ˜¯ç¼–è¯‘æ—¶å¸¸æ•°ã€‚**


```
void main() {
  var c = 2;
  //ERROR, é›†åˆå…ƒç´ å¿…é¡»æ˜¯ç¼–è¯‘æ—¶å¸¸æ•°ã€‚
  var a = const [c,2,3];
}
```

<br/>

- **â€Œ ä¸å…è®¸å¯¹é›†åˆåšä»»ä½•æ”¹å˜**

```
void main() {
  const a = const [1,2,3];
  //ERROR, ä¸å…è®¸ä¿®æ”¹ã€‚
  a[1] = 2;
}
```


<br/>

- **const ä¿®é¥°ç±»çš„æ„é€ å‡½æ•°**

å®ƒä»¬æ˜¯è§„èŒƒåŒ–çš„ï¼Œè¿™ç‚¹æœ‰äº›åƒå­—ç¬¦ä¸²ï¼šå¯¹äºä¸€ä¸ª const çš„ valueï¼Œæ— è®ºè¿™ä¸ª value è¢«åˆ›å»ºæˆ–è€…ä½¿ç”¨å¤šå°‘æ¬¡ï¼Œéƒ½æ˜¯ç›¸åŒçš„ï¼›å½“constä¿®é¥°ç±»çš„æ„é€ å‡½æ•°æ—¶ï¼Œå®ƒè¦æ±‚è¯¥ç±»çš„æ‰€æœ‰æˆå‘˜éƒ½å¿…é¡»æ˜¯finalçš„ã€‚

```
class ConstObject {
  
  final value;
  //ERROR, å¿…é¡»æ˜¯ final å˜é‡ã€‚
  int value2;
  
  const ConstObject(this.value);
  
  log() {
    print(value);
  }
}

main() {
  var a = ConstObject();
  var b = ConstObject();
  print(a===b); // true
}
```


<br/>

***

<br/><br/><br/>

> <h1 id='å†…ç½®å†…å‹'>å†…ç½®å†…å‹</h1>


<br/><br/><br/>

> <h2 id='Seté›†åˆ'>Seté›†åˆ</h2>

Setçš„è¯­æ„å’Œå…¶ä»–è¯­è¨€çš„æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯è¡¨ç¤ºåœ¨å®¹å™¨ä¸­å¯¹è±¡å”¯ä¸€ã€‚åœ¨Dartä¸­ï¼ŒSeté»˜è®¤æ˜¯LinkedHashSetå®ç°ï¼Œè¡¨ç¤ºå…ƒç´ æŒ‰æ·»åŠ å…ˆåé¡ºåºæ’åºã€‚

å£°æ˜Setå¯¹è±¡ï¼š

```
var halogens = {'fluorine', 'chlorine', 'bromine', 'iodine', 'astatine'};
```
éå†Setï¼Œéå†é™¤äº†ä¸Šé¢æåˆ°çš„for...inï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨ç±»ä¼¼ Java çš„ lambada ä¸­çš„ forEach å½¢å¼ï¼š

```
halogens.add('bromine');
halogens.add('astatine');
halogens.forEach((el) => print(el));
```
è¾“å‡ºç»“æœï¼š

```
fluorine
chlorine
bromine
iodine
astatine
```

é™¤äº†å®¹å™¨çš„å¯¹è±¡å”¯ä¸€ç‰¹æ€§ä¹‹å¤–ï¼Œå…¶ä»–åŸºæœ¬å’ŒListæ˜¯å·®ä¸å¤šçš„ã€‚

```
// æ·»åŠ ç±»å‹å£°æ˜ï¼š
var elements = <String>{};

var promoActive = true;
// åŠ¨æ€æ·»åŠ å…ƒç´ 
final navSet = {'Home', 'Furniture', promoActive? 'About':'Outlet'};
```



<br/>

***

<br/><br/><br/>


> <h1 id="è¿ç®—ç¬¦">è¿ç®—ç¬¦</h1>


<br/><br/><br/>


> <h2 id="ç±»å‹åˆ¤å®šè¿ç®—ç¬¦asï¼Œiså’Œis!">ç±»å‹åˆ¤å®šè¿ç®—ç¬¦asï¼Œiså’Œis!</h2>

asï¼Œ isï¼Œ å’Œ is! è¿ç®—ç¬¦ç”¨äºåœ¨è¿è¡Œæ—¶å¤„ç†ç±»å‹æ£€æŸ¥ï¼š

| Operator | Meaning |
|:--|:--|
| as | [Typecast (ä¹Ÿè¢«ç”¨äºæŒ‡å®šåº“å‰ç¼€)](https://www.dartcn.com/guides/language/language-tour#%E6%8C%87%E5%AE%9A%E5%BA%93%E5%89%8D%E7%BC%80) |
| is | True if the object has the specified type |
| isï¼ | False if the object has the specified type |



<br/><br/>

># <h2 id='ç©ºå®‰å…¨'>[ç©ºå®‰å…¨](https://juejin.cn/post/6958965184631144478#heading-2)</h2>


**åŸºç¡€ä½¿ç”¨**


- **1.éç©ºç±»å‹å’Œå¯ç©ºç±»å‹**

```
void main() {
  int a;
  a = null; // æç¤ºé”™è¯¯ï¼Œå› ä¸º int a è¡¨ç¤º a ä¸èƒ½ä¸ºç©º
  print('a is $a.');
}
```

è¿™æ®µä»£ç é€šè¿‡ int å£°æ˜äº†å˜é‡ a æ˜¯ä¸€ä¸ªéç©ºå˜é‡ï¼Œåœ¨æ‰§è¡Œ a = null çš„æ—¶å€™æŠ¥é”™ã€‚å¯ä»¥ä¿®æ”¹ä¸º int? ç±»å‹ï¼Œå…è®¸ a ä¸ºç©ºï¼š

```
void main() {
  int? a; // è¡¨ç¤ºå…è®¸ a ä¸ºç©º
  a = null; 
  print('a is $a.');
}
```


<br/>

ä¾‹å¦‚ï¼Œ `obj is Object` æ€»æ˜¯ trueã€‚ ä½†æ˜¯åªæœ‰ obj å®ç°äº† T çš„æ¥å£æ—¶ï¼Œ obj is T æ‰æ˜¯ trueã€‚
ä½¿ç”¨ as è¿ç®—ç¬¦å°†å¯¹è±¡å¼ºåˆ¶è½¬æ¢ä¸ºç‰¹å®šç±»å‹ã€‚ é€šå¸¸ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ is ç±»å‹åˆ¤å®šåï¼Œè¢«åˆ¤å®šå¯¹è±¡è°ƒç”¨å‡½æ•°çš„ä¸€ç§ç¼©å†™å½¢å¼ã€‚ è¯·è€ƒè™‘ä»¥ä¸‹ä»£ç ï¼š

```
if (emp is Person) {
  // Type check
  emp.firstName = 'Bob';
}
ä½¿ç”¨ as è¿ç®—ç¬¦è¿›è¡Œç¼©å†™ï¼š
(emp as Person).firstName = 'Bob';
```


> **æç¤ºï¼š** ä»¥ä¸Šä»£ç å¹¶ä¸æ˜¯ç­‰ä»·çš„ã€‚ å¦‚æœ emp ä¸º null æˆ–è€…ä¸æ˜¯ Person å¯¹è±¡ï¼Œ é‚£ä¹ˆç¬¬ä¸€ä¸ª is çš„ç¤ºä¾‹ï¼Œåé¢å°†ä¸å›æ‰§è¡Œï¼› ç¬¬äºŒä¸ª as çš„ç¤ºä¾‹ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚


<br/><br/><br/>

># <h2 id="èµ‹å€¼è¿ç®—ç¬¦">[èµ‹å€¼è¿ç®—ç¬¦](https://juejin.cn/post/6928375103780552717#heading-27)</h2>

ä½¿ç”¨ = ä¸ºå˜é‡èµ‹å€¼ã€‚ ä½¿ç”¨ ??= è¿ç®—ç¬¦æ—¶ï¼Œåªæœ‰å½“è¢«èµ‹å€¼çš„å˜é‡ä¸º null æ—¶æ‰ä¼šèµ‹å€¼ç»™å®ƒã€‚

```
// å°†å€¼èµ‹å€¼ç»™å˜é‡a
a = value;
// å¦‚æœbä¸ºç©ºæ—¶ï¼Œå°†å˜é‡èµ‹å€¼ç»™bï¼Œå¦åˆ™ï¼Œbçš„å€¼ä¿æŒä¸å˜ã€‚
b ??= value;
```


<br/><br/><br/>

> <h2 id="æŒ‰ä½å’Œç§»ä½è¿ç®—ç¬¦">æŒ‰ä½å’Œç§»ä½è¿ç®—ç¬¦</h2>

åœ¨ Dart ä¸­ï¼Œå¯ä»¥å•ç‹¬æ“ä½œæ•°å­—çš„æŸä¸€ä½ã€‚ é€šå¸¸æƒ…å†µä¸‹æ•´æ•°ç±»å‹ä½¿ç”¨æŒ‰ä½å’Œç§»ä½è¿ç®—ç¬¦æ¥æ“ä½œã€‚

| Operator | Meaning |
|:--|:--|
| & | AND |
| ï½œ | OR |
| ^ | XOR |
| ~_expr_ | Unary bitwise complement (0s become 1s; 1s become 0s) |
| << | å·¦ç§»ä½ |
| >> | å³ç§»ä½ |


ä¸‹é¢æ˜¯å…³äºæŒ‰ä½å’Œç§»ä½è¿ç®—ç¬¦çš„ç¤ºä¾‹ï¼š

```
final value = 0x22;
final bitmask = 0x0f;

assert((value & bitmask) == 0x02); // AND
assert((value & ~bitmask) == 0x20); // AND NOT
assert((value | bitmask) == 0x2f); // OR
assert((value ^ bitmask) == 0x2d); // XOR
assert((value << 4) == 0x220); // Shift left
assert((value >> 4) == 0x02); // Shift right
```


<br/><br/><br/>

> <h2 id="çº§è”è¿ç®—ç¬¦ (..)">çº§è”è¿ç®—ç¬¦ (..)</h2>

**çº§è”è¿ç®—ç¬¦ (..) å¯ä»¥å®ç°å¯¹åŒä¸€ä¸ªå¯¹åƒè¿›è¡Œä¸€ç³»åˆ—çš„æ“ä½œã€‚ é™¤äº†è°ƒç”¨å‡½æ•°ï¼Œ è¿˜å¯ä»¥è®¿é—®åŒä¸€å¯¹è±¡ä¸Šçš„å­—æ®µå±æ€§ã€‚** è¿™é€šå¸¸å¯ä»¥èŠ‚çœåˆ›å»ºä¸´æ—¶å˜é‡çš„æ­¥éª¤ï¼Œ åŒæ—¶ç¼–å†™å‡ºæ›´æµç•…çš„ä»£ç ã€‚ è€ƒè™‘ä¸€ä¸‹ä»£ç ï¼š

```
querySelector('#confirm') // è·å–å¯¹è±¡ã€‚
  ..text = 'Confirm' // è°ƒç”¨æˆå‘˜å˜é‡ã€‚
  ..classes.add('important')
  ..onClick.listen((e) => window.alert('Confirmed!'));
```

ç¬¬ä¸€å¥è°ƒç”¨å‡½æ•° querySelector() ï¼Œ è¿”å›è·å–åˆ°çš„å¯¹è±¡ã€‚ è·å–çš„å¯¹è±¡ä¾æ¬¡æ‰§è¡Œçº§è”è¿ç®—ç¬¦åé¢çš„ä»£ç ï¼Œ ä»£ç æ‰§è¡Œåçš„è¿”å›å€¼ä¼šè¢«å¿½ç•¥ã€‚ ä¸Šé¢çš„ä»£ç ç­‰ä»·äºï¼š

```
var button = querySelector('#confirm');
button.text = 'Confirm';
button.classes.add('important');
button.onClick.listen((e) => window.alert('Confirmed!'));
```

<br/>

çº§è”è¿ç®—ç¬¦å¯ä»¥åµŒå¥—ï¼Œä¾‹å¦‚ï¼š

```
final addressBook = (AddressBookBuilder()
      ..name = 'jenny'
      ..email = 'jenny@example.com'
      ..phone = (PhoneNumberBuilder()
            ..number = '415-555-0100'
            ..label = 'home')
          .build())
    .build();
```

<br/>

åœ¨è¿”å›å¯¹è±¡çš„å‡½æ•°ä¸­è°¨æ…ä½¿ç”¨çº§è”æ“ä½œç¬¦ã€‚ ä¾‹å¦‚ï¼Œä¸‹é¢çš„ä»£ç æ˜¯é”™è¯¯çš„ï¼š

```
var sb = StringBuffer();
sb.write('foo')
  ..write('bar'); // Error: 'void' æ²¡å“Ÿå®šä¹‰ 'write' å‡½æ•°
```

sb.write() å‡½æ•°è°ƒç”¨è¿”å› voidï¼Œ ä¸èƒ½åœ¨ void å¯¹è±¡ä¸Šåˆ›å»ºçº§è”æ“ä½œã€‚

> **æç¤ºï¼š ä¸¥æ ¼çš„æ¥è®²ï¼Œ â€œä¸¤ä¸ªç‚¹â€ çš„çº§è”è¯­æ³•ä¸æ˜¯ä¸€ä¸ªè¿ç®—ç¬¦ã€‚ å®ƒåªæ˜¯ä¸€ä¸ª Dart çš„ç‰¹æ®Šè¯­æ³•ã€‚**




<br/>

***
<br/><br/><br/>

># <h1 id='å…³é”®å­—'>[å…³é”®å­—](https://juejin.cn/post/6928375103780552717#heading-4)</h1>


<br/><br/>

> <h2 id='@required'>@required</h2>

ä½¿ç”¨ @required æ³¨é‡Šè¡¨ç¤ºå‚æ•°æ˜¯ required æ€§è´¨çš„å‘½åå‚æ•°ï¼Œ è¯¥æ–¹å¼å¯ä»¥åœ¨ä»»ä½• Dart ä»£ç ä¸­ä½¿ç”¨ï¼ˆä¸ä»…ä»…æ˜¯Flutterï¼‰ã€‚


```
const Scrollbar({Key key, @required Widget child})
```

æ­¤æ—¶ Scrollbar æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œ å½“ child å‚æ•°ç¼ºå°‘æ—¶ï¼Œåˆ†æå™¨ä¼šæç¤ºé”™è¯¯ã€‚



<br/><br/>. 
> <h2 id='Mixin'>Mixin</h2>

Dart æ˜¯ä¸æ”¯æŒå¤šç»§æ‰¿çš„ï¼ŒMixin æ˜¯ä¸€ç§å…è®¸ä¸€ä¸ªç±»å°†å…¶ä»–ç±»çš„åŠŸèƒ½æ·»åŠ åˆ°è‡ªå·±èº«ä¸Šçš„æœºåˆ¶, è€Œæ˜¯å°†ä¸€ä¸ªç±»çš„åŠŸèƒ½â€œæ··åˆâ€åˆ°å¦ä¸€ä¸ªç±»ä¸­ã€‚è¿™æ ·ï¼Œä½ å¯ä»¥å…±äº«ä»£ç ï¼ŒåŒæ—¶é¿å…å¤æ‚çš„ç»§æ‰¿ä½“ç³»ã€‚

<br/>

- **Mixin ä¸ ç»§æ‰¿çš„åŒºåˆ«:**
	- **ç»§æ‰¿ï¼š** ç»§æ‰¿æ˜¯å»ºç«‹åœ¨ç±»ä¹‹é—´çš„çˆ¶å­å…³ç³»ä¸Šï¼Œä¸€ä¸ªç±»ç»§æ‰¿å¦ä¸€ä¸ªç±»ï¼Œè·å¾—å®ƒçš„æ–¹æ³•å’Œå±æ€§ã€‚
	- **Mixinï¼š** Mixin æ˜¯ä¸€ç§æŠŠåŠŸèƒ½â€œæ··åˆâ€åˆ°ç±»ä¸­çš„æ–¹å¼ã€‚å®ƒæ²¡æœ‰ç±»å±‚æ¬¡ç»“æ„ï¼Œåªæ˜¯å°†æŸäº›æ–¹æ³•å’ŒåŠŸèƒ½æ·»åŠ åˆ°ç›®æ ‡ç±»ä¸­ï¼Œä¸åˆ›å»ºé¢å¤–çš„çˆ¶ç±»/å­ç±»å…³ç³»ã€‚

<br/>

- **Mixin ä¸ ç±»ä¹‹é—´çš„å…³ç³»**
	- Mixin å¯ä»¥æ··åˆå¤šä¸ªç±»çš„åŠŸèƒ½ï¼šä½ å¯ä»¥å°†å¤šä¸ª Mixin æ··åˆåˆ°ä¸€ä¸ªç±»ä¸­ï¼Œè¿™æ ·ç±»å°±èƒ½ç»§æ‰¿å¤šä¸ªä¸åŒç±»çš„åŠŸèƒ½ï¼Œè€Œä¸å¿…ä½¿ç”¨å¤æ‚çš„ç»§æ‰¿å±‚æ¬¡ã€‚
	- Mixin ä¸èƒ½æœ‰æ„é€ å‡½æ•°ï¼šMixin æœ¬èº«ä¸èƒ½å®šä¹‰æ„é€ å‡½æ•°ï¼Œå®ƒåªèƒ½åŒ…å«æ–¹æ³•å’Œå±æ€§ã€‚

<br/>

- **åˆ›å»ºä¸€ä¸ª Mixin**

å¯ä»¥åœ¨ Mixin ä¸­å®šä¹‰ä¸€äº›æ–¹æ³•å’Œå±æ€§ï¼Œè¿™äº›æ–¹æ³•å’Œå±æ€§å¯ä»¥è¢«å…¶ä»–ç±»æ‰€ä½¿ç”¨ã€‚

```dart
mixin CanRun {
  void run() {
    print("Running...");
  }
}
```

**å°† Mixin åº”ç”¨äºç±»**

ç±»å¯ä»¥ä½¿ç”¨ with å…³é”®å­—æ¥åº”ç”¨ä¸€ä¸ªæˆ–å¤šä¸ª Mixinã€‚é€šè¿‡ with å…³é”®å­—ï¼Œç›®æ ‡ç±»å¯ä»¥ä½¿ç”¨ Mixin ä¸­å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•å’Œå±æ€§ã€‚

```dart
class Animal {}

class Dog extends Animal with CanRun {
  void bark() {
    print("Barking...");
  }
}

void main() {
  var dog = Dog();
  dog.bark();  // è¾“å‡º "Barking..."
  dog.run();   // è¾“å‡º "Running..."
}

```

Dog ç±»é€šè¿‡ with CanRun ä½¿ç”¨äº† CanRun Mixinã€‚è¿™æ ·ï¼ŒDog ç±»å°±è·å¾—äº† CanRun ä¸­å®šä¹‰çš„ run() æ–¹æ³•ã€‚

<br/>

&emsp; æˆ‘ä»¬å®šä¹‰äº†å‡ ä¸ª mixinï¼Œç„¶åé€šè¿‡ with å…³é”®å­—å°†å®ƒä»¬ç»„åˆæˆä¸åŒçš„ç±»ã€‚æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼šå¦‚æœå¤šä¸ªmixin ä¸­æœ‰åŒåæ–¹æ³•ï¼Œwith æ—¶ï¼Œä¼šé»˜è®¤ä½¿ç”¨æœ€åé¢çš„ mixin çš„ï¼Œmixin æ–¹æ³•ä¸­å¯ä»¥é€šè¿‡ super å…³é”®å­—è°ƒç”¨ä¹‹å‰ mixin æˆ–ç±»ä¸­çš„æ–¹æ³•ã€‚

æ³¨æ„ï¼šä¸€ä¸ªç±»å¯ä»¥ä½¿ç”¨å¤šä¸ª mixinï¼Œåªéœ€è¦ç”¨é€—å·åˆ†éš”å³å¯ã€‚ä½¿ç”¨ mixin çš„ä¸€ä¸ªä¸»è¦å¥½å¤„æ˜¯å¯ä»¥å°†ä»£ç é‡ç”¨å’ŒåŠŸèƒ½æ·»åŠ åˆ†ç¦»å¼€ï¼Œä½¿å¾—ä»£ç æ›´åŠ æ¨¡å—åŒ–å’Œå¯ç»´æŠ¤ã€‚


<br/><br/>

```
class Person {
  say() {
    print('say');
  }
}

mixin Eat {
  eat(String eat) {
    print('eat: $eat');
  }
}

mixin Walk {
  walk() {
    print('walk');
  }
}

mixin Code {
  code() {
    print('key');
  }
}

// ä»…ä»…ä½¿ç”¨Mixinä¸­æ··åˆçš„æ–¹æ³•
class Dog with Eat, Walk{
	void doSomething() {
    // åœ¨è¿™é‡Œä½¿ç”¨ mixin ä¸­å®šä¹‰çš„æ–¹æ³•
    eat('Doing something...');
    walk();
  }
}

/** å¤šç»§æ‰¿
 * Man ç±»ç»§æ‰¿è‡ª Person ç±»ã€‚è¿™æ„å‘³ç€ Man ç±»ä¼šç»§æ‰¿ Person ç±»ä¸­çš„æ‰€æœ‰æˆå‘˜ï¼ˆå­—æ®µå’Œæ–¹æ³•ï¼‰ã€‚
 * ç„¶åä½¿ç”¨Mixinæ··åˆæ–¹æ³•
*/
class Man extends Person with Eat, Walk, Code{}




///ä½¿ç”¨
void main() {
  // åˆ›å»ºä¸€ä¸ª Dog çš„å®ä¾‹
  var dogObject = Dog();
  // è°ƒç”¨ Dog ä¸­çš„æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å®é™…ä¸Šæ˜¯ mixin ä¸­å®šä¹‰çš„
  dogObject.doSomething();
  
  
  var oldMan = Man()
  oldMan.say() // ç±»ä¸­çš„æ–¹æ³•
  oldMan.eat() // mixinä¸­çš„æ–¹æ³•
  oldMan.walk() // mixinä¸­çš„æ–¹æ³•
  oldMan.code() // mixinä¸­çš„æ–¹æ³•
}
```

**ç–‘é—®:** å¯ä»¥ç†è§£æˆPersonç±»ä½¿ç”¨äº† Eatã€Walk å’Œ Code ä¸‰ä¸ª mixinï¼Œé€šè¿‡ with Eat, Walk, Code çš„æ–¹å¼,ç„¶åManç±»ç»§æ‰¿è‡ªPersonç±»å—?

è§£ç­”:åœ¨è¿™æ®µä»£ç ä¸­ï¼ŒPerson ç±»å¹¶æ²¡æœ‰ä½¿ç”¨ mixinï¼Œè€Œæ˜¯å®šä¹‰äº†ä¸€ä¸ªæ™®é€šçš„ç±»ã€‚è€Œ Man ç±»åˆ™ç»§æ‰¿è‡ª Person ç±»ï¼Œå¹¶é€šè¿‡ with Eat, Walk, Code çš„æ–¹å¼å¼•å…¥äº†ä¸‰ä¸ª mixinï¼Œå³ Eatã€Walk å’Œ Codeã€‚

æ‰€ä»¥ï¼Œå¯ä»¥ç†è§£ä¸ºï¼š

- Person ç±»æ˜¯ä¸€ä¸ªæ™®é€šçš„ç±»ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ª say æ–¹æ³•ã€‚
- Man ç±»ç»§æ‰¿è‡ª Person ç±»ï¼Œå› æ­¤æ‹¥æœ‰ say æ–¹æ³•ï¼Œå¹¶ä¸”é€šè¿‡ with Eat, Walk, Code å¼•å…¥äº† Eatã€Walk å’Œ Code ä¸‰ä¸ª mixinï¼Œä»è€Œè·å¾—äº†è¿™ä¸‰ä¸ª mixin ä¸­å®šä¹‰çš„æ–¹æ³•ã€‚

è¿™æ ·çš„è®¾è®¡å…è®¸ä½ åœ¨ä¸ä¿®æ”¹ Person ç±»çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡ mixin çš„æ–¹å¼ä¸º Man ç±»æ·»åŠ é¢å¤–çš„åŠŸèƒ½ã€‚

<br/><br/>
> <h3 id="mixinå’Œonçš„ç»“åˆä½¿ç”¨">mixinå’Œonçš„ç»“åˆä½¿ç”¨</h3>

åœ¨ Dartï¼ˆFlutterï¼‰ä¸­ï¼Œ`on` å…³é”®å­—ç”¨äº**é™åˆ¶ Mixin åªèƒ½è¢«ç‰¹å®šç±»å‹çš„ç±»ä½¿ç”¨**ã€‚è¿™æä¾›äº†æ›´ä¸¥æ ¼çš„ç±»å‹çº¦æŸï¼Œç¡®ä¿ Mixin åªèƒ½ç”¨äºç‰¹å®šçš„åŸºç±»æˆ–æ¥å£ã€‚

<br/>

- **1.`on` å…³é”®å­—çš„ä½œç”¨**

é»˜è®¤æƒ…å†µä¸‹ï¼ŒMixin å¯ä»¥è¢«ä»»ä½•ç±»ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼š

```dart
mixin CanRun {
  void run() {
    print("Running...");
  }
}

class Person with CanRun {}  // âœ… æ­£å¸¸ä½¿ç”¨
class Animal with CanRun {}  // âœ… ä¹Ÿå¯ä»¥ä½¿ç”¨
```

ä½†æ˜¯ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ› Mixin åªèƒ½è¢«æŸäº›ç‰¹å®šçš„ç±»ï¼ˆæˆ–å­ç±»ï¼‰ä½¿ç”¨ï¼Œæ¯”å¦‚åªå…è®¸ `Animal` çš„å­ç±»ä½¿ç”¨ `CanRun` Mixinã€‚è¿™æ—¶å€™ï¼Œå°±å¯ä»¥ç”¨ `on` å…³é”®å­—è¿›è¡Œçº¦æŸï¼š

```dart
mixin CanRun on Animal {  // åªæœ‰ Animal çš„å­ç±»æ‰èƒ½ä½¿ç”¨
  void run() {
    print("Running...");
  }
}

class Animal {}

class Dog extends Animal with CanRun {}  // âœ… å…è®¸

class Car with CanRun {}  // âŒ é”™è¯¯ï¼ŒCar ä¸æ˜¯ Animal çš„å­ç±»
```

è¿™é‡Œ `on Animal` é™åˆ¶äº† `CanRun` Mixin åªèƒ½è¢« `Animal` æˆ–å…¶å­ç±»æ··åˆï¼ˆ`with`ï¼‰ã€‚

<br/>

- **2.ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ `on` å…³é”®å­—ï¼Ÿ**

ä½¿ç”¨ `on` å…³é”®å­—å¯ä»¥ï¼š
- **é™åˆ¶ Mixin çš„é€‚ç”¨èŒƒå›´**ï¼Œé¿å…åœ¨ä¸é€‚åˆçš„ç±»ä¸Šä½¿ç”¨ Mixinã€‚
- **è®¿é—®åŸºç±»çš„æˆå‘˜**ï¼ŒMixin åªèƒ½è®¿é—®å…¶ `on` é™åˆ¶çš„åŸºç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œè€Œä¸èƒ½è®¿é—®ä»»æ„ç±»çš„å±æ€§ã€‚

ä¾‹å¦‚ï¼š

```dart
mixin CanFly on Bird {
  void fly() {
    print('$name is flying!');
  }
}

class Bird {
  String name = "Unknown Bird";
}

class Sparrow extends Bird with CanFly {}

void main() {
  var sparrow = Sparrow();
  sparrow.name = "Sparrow";
  sparrow.fly();  // è¾“å‡ºï¼šSparrow is flying!
}
```

å¦‚æœä¸ä½¿ç”¨ `on`ï¼Œ`CanFly` Mixin å¯èƒ½ä¼šè¢«å…¶ä»–é `Bird` ç±»å‹çš„ç±»ä½¿ç”¨ï¼Œä»è€Œå¯¼è‡´ `name` å±æ€§ç¼ºå¤±çš„é”™è¯¯ã€‚

<br/>
- **3.Mixin `on` å…³é”®å­—çš„ä½¿ç”¨è§„åˆ™**

- `on` å…³é”®å­—åé¢å¯ä»¥æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªåŸºç±»ï¼š

```dart
mixin A on B, C { ... }
```

- Mixin ä¸èƒ½æœ‰æ„é€ å‡½æ•°ï¼Œä½†å¯ä»¥è®¿é—® `on` çº¦æŸçš„ç±»çš„ `super` æ–¹æ³•ï¼š

å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª `Animal` åŸºç±»ï¼Œå®ƒæœ‰ä¸€ä¸ª `makeSound()` æ–¹æ³•ã€‚æˆ‘ä»¬å¸Œæœ› `LoudAnimal` Mixin å¯ä»¥å¢å¼º `makeSound()`ï¼Œä½†ä»…é€‚ç”¨äº `Animal` çš„å­ç±»ï¼š

```dart
class Animal {
  void makeSound() {
    print("Animal sound");
  }
}

mixin LoudAnimal on Animal {
  void makeSound() {
    super.makeSound(); // è°ƒç”¨ Animal çš„ makeSound æ–¹æ³•
    print("... but LOUDER!");
  }
}

class Dog extends Animal with LoudAnimal {}

void main() {
  var dog = Dog();
  dog.makeSound();
}
```

**è¾“å‡ºï¼š**
```
Animal sound
... but LOUDER!
```

è¿™é‡Œ `LoudAnimal` Mixin åªèƒ½è¢« `Animal` çš„å­ç±»ä½¿ç”¨ï¼Œå¹¶ä¸”å¯ä»¥è°ƒç”¨ `super.makeSound()`ï¼Œåœ¨åŸæ–¹æ³•çš„åŸºç¡€ä¸Šæ·»åŠ åŠŸèƒ½ã€‚

<br/>

- **5.`on` å…³é”®å­—ä¸æ¥å£çš„åŒºåˆ«**

**`on` å…³é”®å­—å¹¶ä¸æ˜¯æ¥å£ï¼Œè€Œæ˜¯ä¸€ç§â€œçº¦æŸâ€**ã€‚Mixin ä¸èƒ½å•ç‹¬å®ç°æ¥å£ï¼Œä½†å®ƒå¯ä»¥å¼ºåˆ¶è¦æ±‚è¢«ç”¨äºæŸä¸ªåŸºç±»ã€‚

ç¤ºä¾‹ï¼š
```dart
abstract class Swimmable {
  void swim();
}

mixin CanSwim on Swimmable {
  void swim() {
    print("Swimming...");
  }
}

class Fish extends Swimmable with CanSwim {} // âŒ Swimmable ä¸èƒ½è¢«ç›´æ¥å®ä¾‹åŒ–
```

è¿™é‡Œä¼šæŠ¥é”™ï¼Œå› ä¸º `Swimmable` åªæ˜¯æ¥å£ï¼ˆæ²¡æœ‰å®ç°ï¼‰ï¼Œè€Œ Mixin éœ€è¦ä¸€ä¸ªå…·ä½“çš„ç±»ã€‚æ­£ç¡®çš„æ–¹å¼æ˜¯è®© `Swimmable` å˜æˆä¸€ä¸ªæ™®é€šç±»ï¼Œæˆ–è€…æä¾›é»˜è®¤å®ç°ï¼š

```dart
abstract class Swimmable {
  void swim() {
    print("Default swimming...");
  }
}

mixin CanSwim on Swimmable {
  @override
  void swim() {
    super.swim();
    print("Enhanced swimming...");
  }
}

class Fish extends Swimmable with CanSwim {}

void main() {
  var fish = Fish();
  fish.swim();
}
```

**è¾“å‡ºï¼š**

```
Default swimming...
Enhanced swimming...
```

<br/>

- **6.æ€»ç»“**

| ç‰¹æ€§ | `mixin` | `mixin on` |
|------|---------|------------|
| **é€‚ç”¨æ€§** | ä»»ä½•ç±»éƒ½å¯ä»¥ `with` | åªèƒ½ç”¨äº `on` é™åˆ¶çš„åŸºç±» |
| **ç»§æ‰¿é™åˆ¶** | æ²¡æœ‰é™åˆ¶ | å¿…é¡»æ˜¯ `on` æŒ‡å®šç±»çš„å­ç±» |
| **è®¿é—®æƒé™** | ä¸èƒ½è®¿é—®åŸºç±»æ–¹æ³• | å¯ä»¥è°ƒç”¨ `super` |


<br/><br/>
> <h2 id='with'>with</h2>

- Mixin: æŒ‡èƒ½å¤Ÿå°†å¦ä¸€ä¸ªæˆ–å¤šä¸ªç±»çš„åŠŸèƒ½æ·»åŠ åˆ°æ‚¨è‡ªå·±çš„ç±»ä¸­ï¼Œè€Œæ— éœ€ç»§æ‰¿è¿™äº›ç±»ã€‚
	- with å…³é”®å­—ç”¨äºæ··å…¥ï¼ˆmixinï¼‰ä¸€ä¸ªæˆ–å¤šä¸ª Mixinï¼Œä»è€Œç»™ç±»å¢åŠ é¢å¤–çš„åŠŸèƒ½ï¼Œè€Œä¸éœ€è¦ç»§æ‰¿å¤šä¸ªç±»ï¼ˆDart ä¸æ”¯æŒå¤šé‡ç»§æ‰¿ï¼‰ã€‚
- implements : å°†ä¸€ä¸ªç±»ä½œä¸ºæ¥å£ä½¿ç”¨

with å…³é”®å­—é€šå¸¸ç”¨äºå°† Mixin æ·»åŠ åˆ°ç±»ä¸­ã€‚

```dart
mixin Logger {
  void log(String message) {
    print("Log: $message");
  }
}

class MyClass with Logger {}

void main() {
  var obj = MyClass();
  obj.log("Hello, Dart!");  // è¾“å‡ºï¼šLog: Hello, Dart!
}

```

- **åœ¨è¿™é‡Œï¼š**
	- Logger æ˜¯ä¸€ä¸ª Mixinï¼Œå®ƒæä¾› log() æ–¹æ³•ã€‚
	- MyClass ä½¿ç”¨ with Loggerï¼Œå› æ­¤å®ƒå¯ä»¥è°ƒç”¨ log() æ–¹æ³•ã€‚

<br/>

**é¡¹ç›®å®æˆ˜ä¸­çš„æ–¹æ³•ï¼š**

```
class A {
  void a() {
    print('fun a => by a');
  }
}

class B implements A {
  @override
  void a() {
    print('fun a => by b');
  }
}

class C {

  void a() {
    print('fun a => by c');
  }

  void c() {
    print('fun c => by c');
  }

  void s(){
    print('fun s => by c');
  }
}

class E {
  String e = 'eeee';

  void s(){
    print('fun s => by e');
  }
}


///è¡¨ç¤ºç±» D ç»§æ‰¿è‡ª A ç±»ï¼Œ
//å¹¶æ··å…¥äº† C å’Œ E ä¸¤ä¸ªç±»çš„åŠŸèƒ½,è¿™æ„å‘³ç€ D ç±»é™¤äº†ç»§æ‰¿è‡ª A ç±»çš„æ–¹æ³•å¤–ï¼Œè¿˜åŒ…å«äº† C ç±»å’Œ E ç±»ä¸­çš„æ–¹æ³•å’Œå­—æ®µã€‚
class D extends A with C, E {
  void c() {
    print('fun c => by d');
  }
}

void main() {
  D d = new D();
  d.a();
  d.s();
  d.c();
}
```

**Log:**

```
fun a => by c
fun s => by e
fun c => by d
```

&emsp; é¦–å…ˆçœ‹B implements Aï¼Œæ‰€ä»¥æ­¤æ—¶Aç›¸å¯¹äºBæ¥è¯´å°±æ˜¯ä¸€ä¸ªæ¥å£ï¼Œæ‰€ä»¥ä»–è¦å®ç°Bä¸­çš„æ–¹æ³•ã€‚æ¢å¥è¯è¯´ï¼ŒDartæ¯ä¸ªç±»éƒ½æ˜¯æ¥å£

&emsp; ç„¶åçœ‹D extends A with C ,Dç»§æ‰¿äºA,ç”±äºå•ç»§æ‰¿ç‰¹æ€§ï¼Œè¿™ä¸ªæ—¶å€™Dä¸èƒ½å†ä½¿ç”¨extendså…³é”®å­—ç»§æ‰¿å…¶ä»–ç±»ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨withå…³é”®å­—æŠ˜å å…¶ä»–ç±»ä»¥å®ç°ä»£ç é‡ç”¨ã€‚

<br/>

**ç–‘é—®:d.a();ä¸ºä»€ä¹ˆæ‰§è¡Œçš„æ˜¯Cç±»ä¸­çš„æ–¹æ³•?**

&emsp; åœ¨ç»™å®šçš„ä»£ç ä¸­ï¼Œ`Dç±»`ç»§æ‰¿äº†`Aç±»`å¹¶æ··å…¥äº†`Cç±»`ï¼Œå› æ­¤`Dç±»`ä¸­æ¥è‡ª`Cç±»çš„a()æ–¹æ³•`å°†è¦†ç›–æ¥è‡ª`Aç±»çš„a()æ–¹æ³•`ã€‚

&emsp; å½“è°ƒç”¨ d.a(); æ—¶ï¼Œç”±äº Dart ä¸­æ··å…¥ï¼ˆwith å…³é”®å­—ï¼‰çš„ç‰¹æ€§ï¼Œå®ƒéµå¾ªä»¥ä¸‹åŸåˆ™ï¼š

- 1. **Mixin** çš„æ–¹æ³•ä¼˜å…ˆçº§é«˜äºç»§æ‰¿çš„æ–¹æ³•ã€‚ å³ä½¿ D ç±»ç»§æ‰¿è‡ª A ç±»ï¼Œä½†ç”±äºæ··å…¥äº† C ç±»ï¼ŒC ç±»ä¸­çš„ a() æ–¹æ³•å°†è¦†ç›– A ç±»ä¸­çš„åŒåæ–¹æ³•ã€‚
- 2. **æ··å…¥çš„é¡ºåºå¾ˆé‡è¦ã€‚** å¦‚æœæœ‰å¤šä¸ªæ··å…¥ï¼Œæ–¹æ³•è°ƒç”¨å°†æŒ‰ç…§æ··å…¥çš„é¡ºåºè¿›è¡ŒæŸ¥æ‰¾ã€‚åœ¨è¿™é‡Œï¼ŒD ç±»é¦–å…ˆæ··å…¥äº† C ç±»ï¼Œç„¶åæ··å…¥äº† E ç±»ã€‚

&emsp; å› æ­¤ï¼Œåœ¨è¿™æ®µä»£ç ä¸­ï¼Œd.a(); æ‰§è¡Œæ—¶æ‰“å°çš„æ˜¯ fun a => by cï¼Œå› ä¸º C ç±»ä¸­çš„ a() æ–¹æ³•è¦†ç›–äº† A ç±»ä¸­çš„åŒåæ–¹æ³•ã€‚


<br/>

***
<br/><br/><br/>
> <h1 id='ç±»çš„æ–¹æ³•'>ç±»çš„æ–¹æ³•</h1>
&emsp; **`Dart`** ä¸­æ‰€æœ‰çš„ç±»éƒ½ç»§æ‰¿è‡ª **`Object`** ç±»ã€‚[Flutter ä¸­æ–‡å®˜æ–¹æ–‡æ¡£](https://book.flutterchina.club/chapter14/flutter_app_startup.html)

<br/>
> <h2 id='æ„é€ æ–¹æ³•'>æ„é€ æ–¹æ³•</h2>

```
class Person {
  String name;
  int age;

  //é»˜è®¤æ„é€ å‡½æ•°åªèƒ½å†™ä¸€ä¸ª
  Person(this.name, this.age);
  /*
    ///å®ä¾‹åŒ–ä¹‹å‰åšçš„æ“ä½œï¼Œå®ä¾‹åŒ–åˆ—è¡¨
    //é‡ä¸Šé¢çš„å®ä¾‹åŒ–åªèƒ½å­˜åœ¨ä¸€ä¸ª
    Person(): name = "æç™½", age = 28 {
    print("å®ä¾‹åŒ–ä¹‹å‰çš„æ“ä½œï¼šname: ${this.name}, age: ${this.age}");
  }
  */

  //å‘½åæ„é€ å‡½æ•°å¯ä»¥å†™å¤šä¸ª
  Person.info(){
    print("è¿™ä¸ªæ˜¯å‘½åæ„é€ å‡½æ•°");
  }

  void printInfo() {
      print("å§“åï¼š ${this.name}\n,å¹´é¾„ï¼š${this.name},${20+80}");
    }
}


///è°ƒç”¨
void testCustomClass() {
    print("<-----------------------------æ„é€ æ–¹æ³•ï¼šstart------------------------------>");
    Person person = Person("è†è½²", 27);
    person.printInfo();
    Person person1 = Person.info();
    print("<-----------------------------æ„é€ æ–¹æ³•ï¼šend------------------------------>");

}
```
æ‰“å°ï¼š

```
flutter: <-----------------------------æ„é€ æ–¹æ³•ï¼šstart------------------------------>
flutter: å§“åï¼š è†è½²,
         å¹´é¾„ï¼šè†è½²,100
flutter: è¿™ä¸ªæ˜¯å‘½åæ„é€ å‡½æ•°
flutter: <-----------------------------æ„é€ æ–¹æ³•ï¼šend------------------------------>
```


<br/>
<br/>

> <h2 id='getsetæ–¹æ³•'>getã€setæ–¹æ³•</h2>

```
/// get æ–¹æ³•
get getInfo{
print("get æ–¹æ³•çš„ä¹¦å†™æ ¼å¼, è¦æŠŠ()å»æ‰ï¼Œè¿™æ˜¯ä¸€ä¸ªè®¡ç®—å±æ€§ï¼Œä¸€èˆ¬æ˜¯è¿”å›ä¸€ä¸ªè®¡ç®—å€¼");
print("å§“åï¼š ${this.name},\n         å¹´é¾„ï¼š${this.name},${20+80}");
return 20 + 80;
}


/// setæ–¹æ³•
set userName(name) {
print("set æ–¹æ³•: è®¾ç½® name");
this.name = name;
}


///è°ƒç”¨getã€setæ–¹æ³•
print("<-----------------------------start------------------------------>");
person.userName = "å¬´æ”¿";
var length = person.getInfo;
print("get è®¡ç®—è¿”å›çš„é•¿åº¦æ˜¯ï¼š ${length}\n\n");
print("<-----------------------------end------------------------------>");
```

æ‰“å°ï¼š

```
flutter: <-----------------------------start------------------------------>
flutter: set æ–¹æ³•: è®¾ç½® name
flutter: get æ–¹æ³•çš„ä¹¦å†™æ ¼å¼, è¦æŠŠ()å»æ‰ï¼Œè¿™æ˜¯ä¸€ä¸ªè®¡ç®—å±æ€§ï¼Œä¸€èˆ¬æ˜¯è¿”å›ä¸€ä¸ªè®¡ç®—å€¼
flutter: å§“åï¼š å¬´æ”¿,
         å¹´é¾„ï¼šå¬´æ”¿,100
flutter: get è®¡ç®—è¿”å›çš„é•¿åº¦æ˜¯ï¼š 100
flutter: <-----------------------------end------------------------------>
```


<br/><br/>
> <h2 id='è¿ç¼€ä¹¦å†™'>è¿ç¼€ä¹¦å†™</h2>

```
///è¿ç¼€ä¹¦å†™
print("<-----------------------------è¿ç¼€ä¹¦å†™ï¼šstart------------------------------>");
Person person = Person("è†è½²", 27);
person..name = "ç›˜å¤"
      ..age = 30
      ..getInfo;
print("<-----------------------------è¿ç¼€ä¹¦å†™ï¼šend------------------------------>");
```

æ‰“å°ï¼š

```
flutter: <-----------------------------è¿ç¼€ä¹¦å†™ï¼šstart------------------------------>
flutter: get æ–¹æ³•çš„ä¹¦å†™æ ¼å¼, è¦æŠŠ()å»æ‰ï¼Œè¿™æ˜¯ä¸€ä¸ªè®¡ç®—å±æ€§ï¼Œä¸€èˆ¬æ˜¯è¿”å›ä¸€ä¸ªè®¡ç®—å€¼
flutter: å§“åï¼š ç›˜å¤,
         å¹´é¾„ï¼šç›˜å¤,100
flutter: <-----------------------------è¿ç¼€ä¹¦å†™ï¼šend------------------------------>
```




<br/>
<br/>

> <h2 id='ç±»çš„ç»§æ‰¿æ„é€ æ–¹æ³•'>ç±»çš„ç»§æ‰¿æ„é€ æ–¹æ³•</h2>


```
class Student extends Person {
  String sex;
  Student(String name, int age, String sex): super(name, age){
    this.sex = sex;
  }
  get getStudentInfo {
    print("å­¦ç”Ÿä¿¡æ¯ï¼šnameï¼š${this.name},  ageï¼š${this.age}, sexï¼š${this.sex}");
  }
}

///è°ƒç”¨
    print("<-------------------------------get æ–¹æ³•ï¼šstart------------------------------->");
    Student student = Student("æç™½", 49, "ä¸­æ€§");
    student.getInfo;
    print("<-------------------------------get æ–¹æ³•ï¼šstart------------------------------->");
```
æ‰“å°ï¼š

```
flutter: <-------------------------------get æ–¹æ³•ï¼šstart------------------------------->
flutter: get æ–¹æ³•çš„ä¹¦å†™æ ¼å¼, è¦æŠŠ()å»æ‰ï¼Œè¿™æ˜¯ä¸€ä¸ªè®¡ç®—å±æ€§ï¼Œä¸€èˆ¬æ˜¯è¿”å›ä¸€ä¸ªè®¡ç®—å€¼
flutter: å§“åï¼š æç™½,
         å¹´é¾„ï¼šæç™½,100
flutter: <-------------------------------get æ–¹æ³•ï¼šstart------------------------------->
```





<br/>
<br/>


> <h2 id='å‘½åå¯é€‰å‚æ•°&å¯é€‰å‚æ•°'>å‘½åå¯é€‰å‚æ•°&å¯é€‰å‚æ•°</h2>

<br/>

> <h3 id='å‘½åå¯é€‰å‚æ•°'>å‘½åå¯é€‰å‚æ•°</h3>

ç”± **{}** åŒ…è£…çš„å‚æ•°æ˜¯ä¸€ä¸ªå‘½åçš„å¯é€‰å‚æ•°ã€‚è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š

- **1.å•ä¸ªå‘½åå¯é€‰å‚æ•°**

```
getHttpUrl(String server, String path, {int port: 80}) {
  // ...
}
```

<br/>


- **2.å¤šä¸ªå‘½åå¯é€‰å‚æ•°**

æ‚¨å¯ä»¥ä½¿ç”¨æˆ–ä¸ä½¿ç”¨ç¬¬ä¸‰ä¸ªå‚æ•°è°ƒç”¨getHttpUrlã€‚è°ƒç”¨è¯¥å‡½æ•°æ—¶å¿…é¡»ä½¿ç”¨å‚æ•°åç§°ã€‚

```
getHttpUrl('example.com', '/index.html', port: 8080); // port == 8080
getHttpUrl('example.com', '/index.html');             // port == 80
```

æ‚¨å¯ä»¥ä¸ºå‡½æ•°æŒ‡å®šå¤šä¸ªå‘½åå‚æ•°ï¼š


```
getHttpUrl(String server, String path, {int port: 80, int numRetries: 3}) {
  // ...
}
```

å› ä¸ºå‘½åå‚æ•°æ˜¯ä»¥åç§°å¼•ç”¨çš„ï¼Œæ‰€ä»¥å®ƒä»¬å¯ä»¥ä»¥ä¸åŒäºå®ƒä»¬çš„å£°æ˜çš„é¡ºåºä½¿ç”¨ã€‚

```
getHttpUrl('example.com', '/index.html');
getHttpUrl('example.com', '/index.html', port: 8080);
getHttpUrl('example.com', '/index.html', port: 8080, numRetries: 5);
getHttpUrl('example.com', '/index.html', numRetries: 5, port: 8080);
getHttpUrl('example.com', '/index.html', numRetries: 5);
```


<br/>
<br/>



> <h3 id='å¯é€‰å‚æ•°'>å¯é€‰å‚æ•°</h3>


å¯é€‰å‚æ•°åªèƒ½åœ¨ä»»ä½•å¿…éœ€çš„å‚æ•°ä¹‹åå£°æ˜ã€‚

å¯é€‰å‚æ•°å¯ä»¥æœ‰ä¸€ä¸ªé»˜è®¤å€¼ï¼Œå½“é»˜è®¤å€¼åœ¨è°ƒç”¨è€…æ²¡æœ‰æŒ‡å®šå€¼æ—¶ä½¿ç”¨ã€‚

ç”± **[]** åŒ…è£…çš„å‚æ•°æ˜¯ä½ç½®å¯é€‰å‚æ•°ã€‚è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š

- **1.ä¸€ä¸ªå¯é€‰å‚æ•°**

```
getHttpUrl(String server, String path, [int port=80]) {
  // ...
}


//è°ƒç”¨
getHttpUrl('example.com', '/index.html', 8080); // port == 8080
getHttpUrl('example.com', '/index.html');       // port == 80

```



<br/>


- **2.å¤šä¸ªå¯é€‰å‚æ•°**

```
getHttpUrl(String server, String path, [int port=80, int numRetries=3]) {
  // ...
}
```

å¯é€‰å‚æ•°æ˜¯ä½ç½®ï¼Œå¦‚æœè¦æŒ‡å®šnumRetriesï¼Œåˆ™ä¸èƒ½çœç•¥ç«¯å£ã€‚

```
getHttpUrl('example.com', '/index.html');
getHttpUrl('example.com', '/index.html', 8080);
getHttpUrl('example.com', '/index.html', 8080, 5);
```

<br/>


- **å‡½æ•°ç±»å‹ï¼Œå‚æ•°ç±»å‹ï¼Œå˜é‡ç±»å‹æ˜¯å¯ä»¥ç›´æ¥çœç•¥**

```
sum(a, b, c, d) {//å‡½æ•°å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹å¯ä»¥çœç•¥
  return a + b + c + d;
}
main() {
  print('${sum(10, 12, 14, 12)}');//æ­£å¸¸è¿è¡Œ
}
```

ä¸Šè¿°çš„sumå‡½æ•°æ—¢æ²¡æœ‰è¿”å›å€¼ç±»å‹ä¹Ÿæ²¡æœ‰å‚æ•°ç±»å‹ï¼Œå¯èƒ½æœ‰çš„äººä¼šç–‘æƒ‘å¦‚æœsumå‡½æ•°æœ€åä¸€ä¸ªå½¢å‚ä¼ å…¥ä¸€ä¸ªStringç±»å‹ä¼šæ˜¯æ€ä¹ˆæ ·ã€‚

ç­”æ¡ˆæ˜¯: **é™æ€ç±»å‹æ£€æŸ¥åˆ†ææ­£å¸¸ä½†æ˜¯ç¼–è¯‘è¿è¡Œå¼‚å¸¸ã€‚**

```
sum(a, b, c, d) {
  return a + b + c + d;
}

main() {
  print('${sum(10, 12, 14, "12312")}');//é™æ€æ£€æŸ¥ç±»å‹æ£€æŸ¥æ­£å¸¸ï¼Œè¿è¡Œå¼‚å¸¸
}

//è¿è¡Œç»“æœ
Unhandled exception:
type 'String' is not a subtype of type 'num' of 'other' //è¯·å…ˆè®°ä½è¿™ä¸ªå­ç±»å‹ä¸åŒ¹é…å¼‚å¸¸é—®é¢˜ï¼Œå› ä¸ºåœ¨åé¢ä¼šè¯¦ç»†åˆ†æå­ç±»å‹çš„å«ä¹‰ï¼Œè€Œä¸”Dartã€Flutterå¼€å‘ä¸­ä¼šç»å¸¸çœ‹åˆ°è¿™ä¸ªå¼‚å¸¸ã€‚
Process finished with exit code 255
```


<br/><br/><br/>
> <h2 id="æ¨¡æ‹Ÿé‡è½½æ–¹æ³•">æ¨¡æ‹Ÿé‡è½½æ–¹æ³•</h2>

**Dartä¸æ”¯æŒæ–¹æ³•é‡è½½**


- **å¦‚ä½•åœ¨ Dart ä¸­å®ç°ç±»ä¼¼æ–¹æ³•é‡è½½çš„æ•ˆæœï¼Ÿ**

è™½ç„¶ Dart ä¸æ”¯æŒä¼ ç»Ÿçš„**æ–¹æ³•é‡è½½**ï¼Œä½†æ˜¯ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°ç±»ä¼¼çš„åŠŸèƒ½ï¼š

- **1.ä½¿ç”¨å¯é€‰å‚æ•°ï¼ˆOptional Parametersï¼‰**
Dart æ”¯æŒå‡½æ•°çš„å¯é€‰å‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨ **å‘½åå‚æ•°** æˆ– **ä½ç½®å‚æ•°** æ¥è®©ä¸€ä¸ªæ–¹æ³•æ¥å—ä¸åŒç±»å‹æˆ–æ•°é‡çš„å‚æ•°ã€‚

ç¤ºä¾‹ 1ï¼šä½¿ç”¨å‘½åå‚æ•°

```dart
class Example {
  void printMessage({String? message, int? number}) {
    if (message != null) {
      print(message);
    } else if (number != null) {
      print(number);
    } else {
      print("No message or number provided.");
    }
  }
}

void main() {
  Example example = Example();
  
  example.printMessage(message: "Hello, World!"); // ä½¿ç”¨å­—ç¬¦ä¸²å‚æ•°
  example.printMessage(number: 42); // ä½¿ç”¨æ•´æ•°å‚æ•°
  example.printMessage(); // ä¸ä¼ å‚æ•°
}
```

åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ`printMessage` æ–¹æ³•æœ‰ä¸€ä¸ªå‘½åå‚æ•° `message` å’Œ `number`ï¼Œä½ å¯ä»¥æ ¹æ®å®é™…ä¼ å…¥çš„å‚æ•°æ¥æ‰§è¡Œä¸åŒçš„é€»è¾‘ã€‚è¿™å°±å®ç°äº†ç±»ä¼¼æ–¹æ³•é‡è½½çš„æ•ˆæœã€‚

<br/>

**ç¤ºä¾‹ 2ï¼šä½¿ç”¨ä½ç½®å‚æ•°**

```dart
class Example {
  void printMessage([String? message, int? number]) {
    if (message != null) {
      print(message);
    } else if (number != null) {
      print(number);
    } else {
      print("No message or number provided.");
    }
  }
}

void main() {
  Example example = Example();
  
  example.printMessage("Hello, World!"); // ä½¿ç”¨å­—ç¬¦ä¸²å‚æ•°
  example.printMessage(42); // ä½¿ç”¨æ•´æ•°å‚æ•°
  example.printMessage(); // ä¸ä¼ å‚æ•°
}
```

åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ`printMessage` ä½¿ç”¨äº†ä½ç½®å‚æ•°ï¼Œå‚æ•°çš„é¡ºåºå†³å®šäº†è°ƒç”¨æ—¶çš„åŒ¹é…ã€‚ä½ å¯ä»¥ä¼ é€’ä»»æ„æ•°é‡çš„å‚æ•°ï¼Œä½†éœ€è¦æ‰‹åŠ¨æ£€æŸ¥å®ƒä»¬çš„ç±»å‹ã€‚

<br/>

- **2.ä½¿ç”¨æ³›å‹ï¼ˆGenericsï¼‰**

é€šè¿‡ä½¿ç”¨æ³›å‹ï¼Œä½ å¯ä»¥è®©ä¸€ä¸ªæ–¹æ³•æ¥æ”¶ä¸åŒç±»å‹çš„å‚æ•°ï¼Œè€Œä¸éœ€è¦é‡è½½æ–¹æ³•ã€‚

```dart
class Example {
  void printMessage<T>(T message) {
    print(message);
  }
}

void main() {
  Example example = Example();

  example.printMessage<String>("Hello, World!"); // ä½¿ç”¨å­—ç¬¦ä¸²
  example.printMessage<int>(42); // ä½¿ç”¨æ•´æ•°
}
```

é€šè¿‡æ³›å‹ï¼Œ`printMessage` æ–¹æ³•å˜å¾—æ›´åŠ çµæ´»ï¼Œèƒ½å¤Ÿæ¥å—ä¸åŒç±»å‹çš„å‚æ•°ï¼Œå¹¶ä¸”ç±»å‹
ä¼šåœ¨è°ƒç”¨æ—¶æ˜ç¡®æŒ‡å®šã€‚

<br/>

- **3.ä½¿ç”¨å‡½æ•°é‡è½½é£æ ¼çš„è®¾è®¡æ¨¡å¼**
è™½ç„¶ Dart ä¸èƒ½ç›´æ¥æ”¯æŒä¼ ç»Ÿçš„é‡è½½æ–¹å¼ï¼Œä½†ä½ å¯ä»¥ä½¿ç”¨ **å‡½æ•°å¼ç¼–ç¨‹** çš„ä¸€äº›æŠ€å·§æ¥æ¨¡æ‹Ÿæ–¹æ³•é‡è½½ï¼Œå°¤å…¶æ˜¯é€šè¿‡ä¸åŒç±»å‹çš„å‡½æ•°å‚æ•°æ¥è¿›è¡ŒåŒºåˆ†ã€‚

ä¾‹å¦‚ï¼Œåˆ©ç”¨ **å‡½æ•°ç±»å‹** å’Œ **å›è°ƒå‡½æ•°** å¯ä»¥è®©ä½ ä¼ é€’ä¸åŒçš„å®ç°æ¥â€œæ¨¡æ‹Ÿâ€é‡è½½çš„è¡Œä¸ºã€‚

```dart
class Example {
  void performAction(Function action) {
    action();
  }
}

void main() {
  Example example = Example();
  
  example.performAction(() => print("Action with no parameters"));
  example.performAction(() => print("Action with parameters"));
}
```


<br/>

***
<br/><br/><br/>
> <h1 id='å‡½æ•°'>å‡½æ•°</h1>

**Dart æ˜¯ä¸€é—¨çœŸæ­£é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œ ç”šè‡³å…¶ä¸­çš„å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼Œå¹¶ä¸”æœ‰å®ƒçš„ç±»å‹ Function ã€‚** è¿™ä¹Ÿæ„å‘³ç€å‡½æ•°å¯ä»¥è¢«èµ‹å€¼ç»™å˜é‡æˆ–è€…ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°ã€‚ ä¹Ÿå¯ä»¥æŠŠ Dart ç±»çš„å®ä¾‹å½“åšæ–¹æ³•æ¥è°ƒç”¨ã€‚[Dartå®˜æ–¹å‡½æ•°ä»‹ç»](https://www.dartcn.com/guides/language/language-tour#%E5%87%BD%E6%95%B0)

<br/><br/><br/>

> <h2 id='å‡½æ•°ä½œä¸ºå‚æ•°'>å‡½æ•°ä½œä¸ºå‚æ•°</h2>

**å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡**ï¼Œå¹¶ä¸”æœ‰å®ƒçš„ç±»å‹ **`Function`** ï¼Œè¿™æ„å‘³ç€å‡½æ•°å¯ä»¥å½“åšå˜é‡çš„å€¼æˆ–è€…ä½œä¸ºä¸€ä¸ªæ–¹æ³•å…¥ä¼ å‚æ•°å€¼ã€‚

```
void sayHello(var name){
  print('hello, $name');
}

void callHello(Function func, var name){
  func(name);
}

void main(){
  // å‡½æ•°å˜é‡
  var helloFuc = sayHello;
  // è°ƒç”¨å‡½æ•°
  helloFuc('Girl');
  // å‡½æ•°å‚æ•°
  callHello(helloFuc,'Boy');
}
```

è¾“å‡ºï¼š

```
hello, Girl
hello, Boy
```


<br/> <br/>

å†æ¯”å¦‚ï¼š

```
void printElement(int element) {
  print(element);
}
var list = [1, 2, 3];
// å°† printElement å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ã€‚
list.forEach(printElement);
```

**ä»£ç è§£è¯»:**

forEach æ–¹æ³•çš„ç­¾åæ˜¯è¿™æ ·çš„ï¼š

```
void forEach(void f(E element))
```

&emsp; è¿™é‡Œï¼Œf æ˜¯ä¸€ä¸ªæ¥å—å•ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œå‚æ•°ç±»å‹ä¸ºé›†åˆå…ƒç´ ç±»å‹ Eã€‚å½“ä½ è°ƒç”¨ list.forEach(printElement) æ—¶ï¼ŒprintElement å‡½æ•°å°±è¢«ä¼ é€’ç»™äº† forEach æ–¹æ³•ã€‚

&emsp; forEach å†…éƒ¨å®ç°äº†éå†é›†åˆçš„é€»è¾‘ï¼Œå¯¹äºæ¯ä¸ªå…ƒç´ ï¼Œå®ƒä¼šè°ƒç”¨ä¼ é€’è¿›æ¥çš„å‡½æ•° fï¼Œå°†å½“å‰å…ƒç´ ä½œä¸ºå‚æ•°ä¼ é€’ç»™è¿™ä¸ªå‡½æ•°ã€‚

&emsp; æ‰€ä»¥ï¼Œè™½ç„¶ä½ åœ¨è°ƒç”¨ forEach çš„æ—¶å€™å¹¶æ²¡æœ‰æ˜¾å¼ä¼ é€’å‚æ•°ï¼Œä½† forEach ä¼šåœ¨éå†é›†åˆæ—¶è‡ªåŠ¨å°†æ¯ä¸ªå…ƒç´ ä½œä¸ºå‚æ•°ä¼ é€’ç»™ä½ æä¾›çš„å‡½æ•°ï¼ˆåœ¨è¿™é‡Œæ˜¯ printElement å‡½æ•°ï¼‰ã€‚

<br/><br/>

åœ¨Javaçš„å›è°ƒå‡½æ•°ä¸­,å¦‚ View çš„ onClickListener éœ€è¦å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œä½†åœ¨Dartä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æŒ‡å®šä¸€ä¸ªå›è°ƒæ–¹æ³•ç»™è°ƒç”¨çš„æ–¹æ³•ï¼Œç”±è°ƒç”¨çš„æ–¹æ³•åœ¨åˆé€‚çš„æ—¶æœºæ‰§è¡Œè¿™ä¸ªå›è°ƒã€‚

```
// ç¬¬ä¸€ç§è°ƒç”¨è€…æ ¹æœ¬ä¸ç¡®å®š å›è°ƒå‡½æ•°çš„è¿”å›å€¼ã€å‚æ•°æ˜¯äº›ä»€ä¹ˆ
void setListener(Function listener){
    listener("Success");
}
// ç¬¬äºŒç§ï¼Œè¿”å›å€¼ä¸ºvoidï¼Œå‚æ•°ä¸ºä¸€ä¸ªStringçš„æ–¹æ³•
void setListener(void listener(String result)){
    listener("Success");
}

//ç¬¬ä¸‰ç§ï¼šç±»å‹å®šä¹‰ å°†è¿”å›å€¼ä¸ºvoidï¼Œå‚æ•°ä¸ºä¸€ä¸ªStringçš„æ–¹æ³•å®šä¹‰ä¸ºä¸€ä¸ªç±»å‹ã€‚
typedef void Listener(String result)ï¼›
  
void setListener(Listener listener){
  listener("Success");
}
```

åŒæ ·çš„æˆ‘ä»¬å¯ä»¥å°†ä¸€ä¸ªå‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œä¾‹å¦‚ï¼š

```
var loudify = (msg) => '!!! ${msg.toUpperCase()} !!!';
assert(loudify('hello') == '!!! HELLO !!!');
```

ç¤ºä¾‹ä¸­ä½¿ç”¨äº†åŒ¿åå‡½æ•°ã€‚ 


<br/> <br/>

**æˆ–è€…:**

åŒæ ·å¯ä»¥å°†ä¸€ä¸ªå‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œä¾‹å¦‚ï¼š

```
var loudify = (msg) => '!!! ${msg.toUpperCase()} !!!';
assert(loudify('hello') == '!!! HELLO !!!');
```
ç¤ºä¾‹ä¸­ä½¿ç”¨äº†åŒ¿åå‡½æ•°ã€‚ 


<br/><br/>

> <h2 id='åŒ¿åå‡½æ•°'>åŒ¿åå‡½æ•°</h2>

å¤šæ•°å‡½æ•°æ˜¯æœ‰åå­—çš„ï¼Œ æ¯”å¦‚ **main()** å’Œ **printElement()**ã€‚ ä¹Ÿå¯ä»¥åˆ›å»ºæ²¡æœ‰åå­—çš„å‡½æ•°ï¼Œè¿™ç§å‡½æ•°è¢«ç§°ä¸º åŒ¿åå‡½æ•°ï¼Œ æœ‰æ—¶å€™ä¹Ÿè¢«ç§°ä¸º lambda æˆ–è€… closure ã€‚ åŒ¿åå‡½æ•°å¯ä»¥èµ‹å€¼åˆ°ä¸€ä¸ªå˜é‡ä¸­ï¼Œ ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨ä¸€ä¸ªé›†åˆä¸­å¯ä»¥æ·»åŠ æˆ–è€…åˆ é™¤ä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚

åŒ¿åå‡½æ•°å’Œå‘½åå‡½æ•°çœ‹èµ·æ¥ç±»ä¼¼â€” åœ¨æ‹¬å·ä¹‹é—´å¯ä»¥å®šä¹‰ä¸€äº›å‚æ•°æˆ–å¯é€‰å‚æ•°ï¼Œå‚æ•°ä½¿ç”¨é€—å·åˆ†å‰²ã€‚

åé¢å¤§æ‹¬å·ä¸­çš„ä»£ç ä¸ºå‡½æ•°ä½“ï¼š

```
([[Type] param1[, â€¦]]) {
  codeBlock;
};
```

<br/>

```
///åŒ¿åæ–¹æ³•
var fn = (){
  print("æˆ‘æ˜¯åŒ¿åæ–¹æ³•");
};
fn();

var printNum = (int n){
  print("åŒ¿åæ–¹æ³•å¸¦å‚æ•°ï¼š($n+100)");
};
printNum(100);



//å®šä¹‰äº†ä¸€ä¸ªåŒ…å«ä¸€ä¸ªæ— ç±»å‹å‚æ•° item çš„åŒ¿åå‡½æ•°ã€‚ list ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½ä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œæ‰“å°å…ƒç´ ä½ç½®å’Œå€¼çš„å­—ç¬¦ä¸²
var list = ['applesğŸ', 'bananas', 'oranges'];
list.forEach((item) {
  print('${list.indexOf(item)}: $item');
});
```

æ‰“å°ï¼š

```
flutter: æˆ‘æ˜¯åŒ¿åæ–¹æ³•

flutter: åŒ¿åæ–¹æ³•å¸¦å‚æ•°ï¼š(100+100)


0: applesğŸ
1: bananas
2: oranges
```


<br/><br/>

> <h2 id='ç®­å¤´å‡½æ•°'>ç®­å¤´å‡½æ•°</h2>

å¯¹äºåªæœ‰ä¸€ä¸ªè¡¨è¾¾å¼çš„ç®€å•å‡½æ•°ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡=>è®©å‡½æ•°å˜å¾—æ›´åŠ ç®€æ´ï¼Œ=> expråœ¨è¿™é‡Œç›¸å½“äº{ return expr; } ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä¸‹é¢çš„è¯­å¥ï¼š

```
String hello(var name ) => 'hello, $name';
```
ç›¸å½“äºï¼š

```
String hello(var name ){
  return 'hello, $name';
}
```


<br/> <br/>

**æˆ–è€…å¦‚ä¸‹:**


```
///ç®­å¤´å‡½æ•°
List listStr = ["å•å¸ƒ", "è²‚è‰", "è¯¸è‘›äº®", "æ›¹æ“", "å¸é©¬æ‡¿"];
List listNum = [1, 3, 5, 8, 9, 12, 14, 18];

listStr.forEach((value){
  print("$value");
});
//ç®­å¤´ååªæœ‰ä¸€è¡Œä»£ç 
listStr.forEach((value)=> print("---->> $value"));
listStr.forEach((value)=>{
  print("++++++>> $value")
});

var newListNum2 = listNum.map((value) => value > 2 ? value * 3 : value);
print(newListNum2);

```

æ‰“å°ï¼š

```
flutter: å•å¸ƒ
flutter: è²‚è‰
flutter: è¯¸è‘›äº®
flutter: æ›¹æ“
flutter: å¸é©¬æ‡¿
flutter: ---->> å•å¸ƒ
flutter: ---->> è²‚è‰
flutter: ---->> è¯¸è‘›äº®
flutter: ---->> æ›¹æ“
flutter: ---->> å¸é©¬æ‡¿
flutter: ++++++>> å•å¸ƒ
flutter: ++++++>> è²‚è‰
flutter: ++++++>> è¯¸è‘›äº®
flutter: ++++++>> æ›¹æ“
flutter: ++++++>> å¸é©¬æ‡¿
flutter: (1, 9, 15, 24, 27, 36, 42, 54)
```

<br/><br/>

å¦‚æœå‡½æ•°ä¸­åªæœ‰ä¸€å¥è¡¨è¾¾å¼ï¼Œå¯ä»¥ä½¿ç”¨ç®­å¤´è¯­æ³•ç®€å†™è¯­æ³•ï¼š

```
bool isNoble(int atomicNumber) => _nobleGases[atomicNumber] != null;
```

æç¤ºï¼š **åœ¨ç®­å¤´ (=>) å’Œåˆ†å· (ï¼›) ä¹‹é—´åªèƒ½ä½¿ç”¨ä¸€ä¸ª è¡¨è¾¾å¼** ï¼Œä¸èƒ½æ˜¯ è¯­å¥ ã€‚ ä¾‹å¦‚ï¼šä¸èƒ½ä½¿ç”¨ if è¯­å¥ ï¼Œä½†æ˜¯å¯ä»¥æ˜¯ç”¨ **æ¡ä»¶è¡¨è¾¾å¼**ï¼Œè¡¨è¾¾å¼åŠè¯­å¥åŒºåˆ«è¯·æŸ¥çœ‹å¼€ç¯‡çš„é‡è¦æ¦‚å¿µ.

<br/>

**æç¤º:**

&emsp; åœ¨Dart ä¸­æ–¹æ³•å¯ä»¥æœ‰ä¸¤ç§ç±»å‹çš„å‚æ•°ï¼š**å¿…éœ€çš„ï¼ˆ requiredï¼‰** å’Œ**å¯é€‰çš„ï¼ˆoptionalï¼‰**ï¼Œ required ç±»å‹å‚æ•°åœ¨å‚æ•°æœ€å‰é¢ï¼Œ éšåæ˜¯ optional ç±»å‹å‚æ•°ã€‚ å‘½åçš„å¯é€‰å‚æ•°ä¹Ÿå¯ä»¥æ ‡è®°ä¸º â€œ@ requiredâ€ ã€‚


<br/><br/>


> <h3 id='æ¡ä»¶è¡¨è¾¾å¼'>æ¡ä»¶è¡¨è¾¾å¼</h3>


Dartæœ‰ä¸¤ä¸ªè¿ç®—ç¬¦ï¼Œæœ‰æ—¶å¯ä»¥æ›¿æ¢ if-else è¡¨è¾¾å¼ï¼Œ è®©è¡¨è¾¾å¼æ›´ç®€æ´ï¼š

```
condition ? expr1 : expr2
```

å¦‚æœæ¡ä»¶ä¸º true, æ‰§è¡Œ expr1 (å¹¶è¿”å›å®ƒçš„å€¼)ï¼š å¦åˆ™, æ‰§è¡Œå¹¶è¿”å› expr2 çš„å€¼ã€‚

<br/>

```
expr1 ?? expr2
```
å¦‚æœ expr1 æ˜¯ non-nullï¼Œ è¿”å› expr1 çš„å€¼ï¼› å¦åˆ™, æ‰§è¡Œå¹¶è¿”å› expr2 çš„å€¼ã€‚


<br/>

å¦‚æœèµ‹å€¼æ˜¯æ ¹æ®å¸ƒå°”å€¼ï¼Œ è€ƒè™‘ä½¿ç”¨ ?:ã€‚

```
var visibility = isPublic ? 'public' : 'private';
```


<br/>

å¦‚æœèµ‹å€¼æ˜¯åŸºäºåˆ¤å®šæ˜¯å¦ä¸º nullï¼Œ è€ƒè™‘ä½¿ç”¨ ??ã€‚

```
String playerName(String name) => name ?? 'Guest';
```


<br/><br/>

> <h2 id='æœ‰çŠ¶æ€å‡½æ•°'>æœ‰çŠ¶æ€å‡½æ•°</h2>

```
void main() {
  var numberPrinter = (){
    int num = 0;
    return (){
      for(int i = 0; i < 10; i++){
        num++;
      }
      print(num);
    };
  };
  
  var printNumber = numberPrinter();
  printNumber(); // 10
  printNumber(); // 20
}
```

ä¸Šé¢è¿™æ®µä»£ç åŒæ ·æ‰§è¡Œäº†ä¸¤æ¬¡ printNumber();ï¼Œç„¶è€Œæˆ‘ä»¬å´å¾—åˆ°äº†ä¸åŒçš„è¾“å‡º 10ï¼Œ20ã€‚æ˜¯ä¸æ˜¯æœ‰ç‚¹å¥‡æ€ªå‘¢?

<br/>

ä½†çœ‹ä¸Šå»ä¼¼ä¹è¿˜æ˜¯æœ‰äº›éš¾ä»¥ç†è§£ï¼Œè®©æˆ‘ä»¬ä¸€å±‚ä¸€å±‚æ¥çœ‹ã€‚

```
var numberPrinter = (){
    int num = 0;
    /// execute function
  };
```

é¦–å…ˆæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª Function å¯¹è±¡ï¼Œç„¶åæŠŠäº¤ç»™ numberPrinter ç®¡ç†ã€‚åœ¨åˆ›å»ºå‡ºæ¥çš„è¿™ä¸ª Function çš„ Lexical scoping(è¯æ³•ä½œç”¨åŸŸ)ä¸­å®šä¹‰äº†ä¸€ä¸ª num å˜é‡ï¼Œå¹¶èµ‹å€¼ä¸º 0ã€‚

**æ³¨æ„ï¼š** è¿™æ—¶å€™è¯¥æ–¹æ³•å¹¶ä¸ä¼šç«‹åˆ»æ‰§è¡Œï¼Œè€Œæ˜¯ç­‰è°ƒç”¨äº† numberPrinter() çš„æ—¶å€™æ‰æ‰§è¡Œã€‚æ‰€ä»¥è¿™æ—¶å€™ num æ˜¯ä¸å­˜åœ¨çš„ã€‚


```
return (){
    for(int i = 0; i < 10; i++){
        num++;
    }
    print(num);
};
```

ç„¶åè¿”å›äº†ä¸€ä¸ª Functionã€‚è¿™ä¸ª Function èƒ½å¤Ÿæ‹¿åˆ°å…¶çˆ¶çº§ scope ä¸­çš„ num ï¼Œå¹¶è®©å…¶å¢åŠ  10ï¼Œç„¶åæ‰“å° num çš„å€¼ã€‚


```
var printNumber = numberPrinter();
```


ç„¶åæˆ‘ä»¬é€šè¿‡è°ƒç”¨ numberPrinter()ï¼Œåˆ›å»ºäº†è¯¥ Function å¯¹è±¡ï¼Œè¿™å°±æ˜¯ä¸€ä¸ª Closureï¼ è¿™ä¸ªå¯¹è±¡çœŸæ­£æ‰§è¡Œæˆ‘ä»¬åˆšæ‰å®šä¹‰çš„ numberPrinterï¼Œå¹¶ä¸”åœ¨å®ƒçš„å†…éƒ¨çš„ scope ä¸­å°±å®šä¹‰äº†ä¸€ä¸ª int ç±»å‹çš„ numã€‚ç„¶åè¿”å›äº†ä¸€ä¸ªæ–¹æ³•ç»™ printNumberã€‚

å®é™…ä¸Šè¿”å›çš„ åŒ¿å Function åˆæ˜¯å¦ä¸€ä¸ªé—­åŒ…äº†ã€‚



ç„¶åæˆ‘ä»¬æ‰§è¡Œç¬¬ä¸€æ¬¡ printNumber()ï¼Œè¿™æ—¶å€™å°†ä¼šè·å¾—é—­åŒ…å‚¨å­˜çš„ num å˜é‡ï¼Œæ‰§è¡Œä¸‹é¢çš„å†…å®¹ã€‚

```
// num: 0
for(int i = 0; i < 10; i++){
    num++;
}
print(num);
```

æœ€å¼€å§‹ printNumber çš„ scope ä¸­å‚¨å­˜çš„ num ä¸º 0ï¼Œæ‰€ä»¥ç»è¿‡ 10 æ¬¡è‡ªå¢ï¼Œnum çš„å€¼ä¸º 10ï¼Œæœ€å print æ‰“å°äº† 10ã€‚

è€Œç¬¬äºŒæ¬¡æ‰§è¡Œ printNumber() æˆ‘ä»¬ä½¿ç”¨çš„è¿˜æ˜¯åŒä¸€ä¸ª numberPrinter å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åœ¨ç¬¬ä¸€æ¬¡æ‰§è¡Œå®Œæ¯•åï¼Œå…¶ num å·²ç»ä¸º 10ï¼Œæ‰€ä»¥ç¬¬äºŒæ¬¡æ‰§è¡Œåï¼Œæ˜¯ä» 10 å¼€å§‹è‡ªå¢ï¼Œé‚£ä¹ˆæœ€å print çš„ç»“æœè‡ªç„¶å°±æ˜¯ 20 äº†ã€‚

åœ¨æ•´ä¸ªè°ƒç”¨è¿‡ç¨‹ä¸­ï¼ŒprintNumber ä½œä¸ºä¸€ä¸ª closureï¼Œå®ƒä¿å­˜äº†å†…éƒ¨ num çš„çŠ¶æ€ï¼Œåªè¦ printNumber ä¸è¢«å›æ”¶ï¼Œé‚£ä¹ˆå…¶å†…éƒ¨çš„æ‰€æœ‰å¯¹è±¡éƒ½ä¸ä¼šè¢« GC æ‰ã€‚

æ‰€ä»¥æˆ‘ä»¬ä¹Ÿéœ€è¦æ³¨æ„åˆ°é—­åŒ…å¯èƒ½ä¼šé€ æˆå†…å­˜æ³„æ¼ï¼Œæˆ–å¸¦æ¥å†…å­˜å‹åŠ›é—®é¢˜ã€‚




<br/>
<br/>


> <h2 id='è‡ªæ‰§è¡Œæ–¹æ³•'>è‡ªæ‰§è¡Œæ–¹æ³•</h2>


```
     ///è‡ªæ‰§è¡Œæ–¹æ³•
    ((int n){
      print("è‡ªæ‰§è¡Œæ–¹æ³•: $n");
    })(12);
```
æ‰“å°ï¼š

`flutter: è‡ªæ‰§è¡Œæ–¹æ³•: 12`



<br/>
<br/>

> <h2 id='é—­åŒ…'>é—­åŒ…</h2>


```
///é—­åŒ…
fn1(){
  var a = 123;
  return(){
    print("é—­åŒ…ï¼š $a");
  };
}

var b = fn1();//ç›¸å½“äºæŠŠreturnå†…çš„å‡½æ•°èµ‹å€¼ç»™äº†b
b();
b();
b();
```
æ‰“å°ï¼š

```
flutter: é—­åŒ…ï¼š 123
flutter: é—­åŒ…ï¼š 123
flutter: é—­åŒ…ï¼š 123
```


<br/>

- **`é—­åŒ…`**

```
 T getData<T>(T value){
    return value;
  }


    ///èŒƒå‹
    print(this.getData("èŒƒå‹ï¼švalue"));
    print(this.getData(1212341));
    print(getData<String>("æ³›å‹ å‚»é€¼"));

```
æ‰“å°ï¼š

```
flutter: èŒƒå‹ï¼švalue
flutter: 1212341
flutter: æ³›å‹ å‚»é€¼
```



> <h1 id='æŠ½è±¡ç±»'>æŠ½è±¡ç±»</h1>


- **`æŠ½è±¡ç±»ä»‹ç»`**

![flutter1_38.png](./../Pictures/flutter1_38.png)

<br/>

- `æŠ½è±¡ç±»`


**ä½¿ç”¨ extends å…³é”®å­—æ—¶:**
	
&emsp; å­ç±»ç»§æ‰¿äº†æŠ½è±¡ç±»çš„å®ç°å’Œæ¥å£ï¼Œä½†å¹¶**ä¸è¦æ±‚å­ç±»å®ç°æŠ½è±¡ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•**ã€‚å¦‚æœå­ç±»ä¸å®ç°æŠ½è±¡ç±»ä¸­çš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•ï¼Œé‚£ä¹ˆå­ç±»ä¹Ÿå¿…é¡»å£°æ˜ä¸ºæŠ½è±¡ç±»ã€‚

<br/>

**ä½¿ç”¨ implements å…³é”®å­—ï¼š**

&emsp; å½“å­ç±»å®ç°ä¸€ä¸ªæŠ½è±¡ç±»æˆ–è€…å®ç°å¤šä¸ªæ¥å£æ—¶ï¼Œä½¿ç”¨ implements å…³é”®å­—ã€‚å­ç±»éœ€è¦æä¾›æŠ½è±¡ç±»ä¸­å®šä¹‰çš„**æ‰€æœ‰æ–¹æ³•çš„å®ç°ã€‚**

```
abstract class Animal {

	int x; // å®ä¾‹å­—æ®µ
	
	Animal();//æ„é€ å‡½æ•°
	
  //æŠ½è±¡æ–¹æ³•å­ç±»å¿…é¡»å®ç°
  eat();  

	void doAnotherThing();
	
  void animalBaseInfo() {
    print("æŠ½è±¡ç±»çš„å…¬å…±æ™®é€šæ–¹æ³•ï¼šåŠ¨ç‰©çš„åŸºæœ¬ä¿¡æ¯");
  }
} 


class Dog extends Animal {
  
  @override
  eat() {
    print("å°ç‹—ğŸ¶ğŸ¶ğŸ¶ğŸ¶ğŸ¶ğŸ¶åœ¨åƒéª¨å¤´");
  }

	///æ²¡æœ‰å®ç°doAnotherThing() æ–¹æ³•
}


///è°ƒç”¨
print("<-------------------------------æŠ½è±¡ç±»ï¼šstart------------------------------->");
Dog dog = Dog();
dog.eat();
dog.animalBaseInfo();
print("<-------------------------------æŠ½è±¡ç±»ï¼šstart------------------------------->");

```

æ‰“å°ï¼š

```
flutter: <-------------------------------æŠ½è±¡ç±»ï¼šstart------------------------------->
flutter: å°ç‹—ğŸ¶ğŸ¶ğŸ¶ğŸ¶ğŸ¶ğŸ¶åœ¨åƒéª¨å¤´
flutter: æŠ½è±¡ç±»çš„å…¬å…±æ–¹æ³•ï¼šåŠ¨ç‰©çš„åŸºæœ¬ä¿¡æ¯
flutter: <-------------------------------æŠ½è±¡ç±»ï¼šstart------------------------------->
```




<br/>
<br/>

**æ¡ˆä¾‹:**

extends: è‹¥æ˜¯è¡¨ç¤ºç»§æ‰¿çš„æ—¶å€™åªèƒ½ç»§æ‰¿ä¸€ä¸ª;

implements: è‹¥æ˜¯è¡¨ç¤ºå®ç°,å¯ä»¥å®ç°å¤šä¸ªæ¥å£;

```
abstract class AbstractClass {
  void doSomething();
}

abstract class AnotherInterface {
  void doAnotherThing();
}

class BaseClass {
  void commonMethod() {
    print('Common method in BaseClass');
  }
}

class SubClass extends BaseClass implements AbstractClass, AnotherInterface {
  @override
  void doSomething() {
    print('SubClass is doing something');
  }

  @override
  void doAnotherThing() {
    print('SubClass is doing another thing');
  }
}

void main() {
  var sub = SubClass();
  sub.commonMethod();      // è¾“å‡ºï¼šCommon method in BaseClass
  sub.doSomething();       // è¾“å‡ºï¼šSubClass is doing something
  sub.doAnotherThing();    // è¾“å‡ºï¼šSubClass is doing another thing
}
```


SubClass ç»§æ‰¿äº† BaseClassï¼Œå¹¶å®ç°äº† AbstractClass å’Œ AnotherInterface è¿™ä¸¤ä¸ªæ¥å£ã€‚è¿™æ ·çš„åœºæ™¯ä¸‹ï¼Œä½ ä¼šçœ‹åˆ° extends ç”¨äºç±»çš„ç»§æ‰¿ï¼Œè€Œ implements ç”¨äºæ¥å£çš„å®ç°ï¼Œå¯ä»¥æ›´æ¸…æ™°åœ°åŒºåˆ†ä¸¤è€…çš„ä½¿ç”¨ã€‚



<br/>
<br/>


> <h2 id='æ¥å£ç±»'>æ¥å£ç±»</h12>

Java å’Œ Dart çš„æ¥å£åŒºåˆ«

![flutter1_40.png](./../Pictures/flutter1_40.png)


- æ¥å£ä¸èƒ½åŒ…å«å®ä¾‹å­—æ®µï¼š Dart ä¸­çš„æ¥å£åªèƒ½åŒ…å«æ–¹æ³•å’Œå¸¸é‡å­—æ®µï¼Œä¸èƒ½åŒ…å«å®ä¾‹å­—æ®µ
- æ¥å£ä¸èƒ½æœ‰æ„é€ å‡½æ•°ï¼š Dart ä¸­çš„æ¥å£ä¸èƒ½åŒ…å«æ„é€ å‡½æ•°ã€‚

<br/>

**`Code Demo`**

```
/// æ¥å£å®šä¹‰
abstract class  DataBase {

  String url;

  ///å½“ä½œå€Ÿå£ æ¥å£ï¼š å°±æ˜¯çº¦å®šã€è§„èŒƒ
  void add();
  void delete();
  void update();
  void search();
  
  static const int constantValue = 42; // å¸¸é‡å­—æ®µ
}


class  MySQL implements DataBase {

  @override
  String url;

  MySQL(this.url);
  
  @override
  void add() {
    // TODO: implement add
    print("MySql çš„æ·»åŠ æ–¹æ³•");
  }

  @override
  void delete() {
    // TODO: implement delete
    print("MySql çš„åˆ é™¤æ–¹æ³•");
  }

  @override
  void search() {
    // TODO: implement search
    print("MySql çš„æŸ¥æ‰¾æ–¹æ³•");
  }

  @override
  void update() {
    // TODO: implement update
    print("MySql çš„ä¿®æ”¹æ–¹æ³•");
  }

  
}



/// è°ƒç”¨
print("<-------------------------------æ¥å£ï¼šstart------------------------------->");
var mysql = MySQL("url åœ°å€");
mysql.add();
mysql.delete();
mysql.update();
mysql.search();

print("<-------------------------------æ¥å£ï¼šstart------------------------------->");
```

æ‰“å°ï¼š

```
flutter: <-------------------------------æ¥å£ï¼šstart------------------------------->
flutter: MySql çš„æ·»åŠ æ–¹æ³•
flutter: MySql çš„åˆ é™¤æ–¹æ³•
flutter: MySql çš„ä¿®æ”¹æ–¹æ³•
flutter: MySql çš„æŸ¥æ‰¾æ–¹æ³•
flutter: <-------------------------------æ¥å£ï¼šstart------------------------------->
```




<br/>

***
<br/>


># <h1 id='å¤šæ€'>å¤šæ€</h1>


**`å¤šæ€ä»‹ç»`**

![flutter1_39.png](./../Pictures/flutter1_39.png)

```
abstract class Animal {
  //æŠ½è±¡æ–¹æ³•å¿…é¡»å®ç°
  eat();  

  void animalBaseInfo() {
    print("æŠ½è±¡ç±»çš„å…¬å…±æ™®é€šæ–¹æ³•ï¼šåŠ¨ç‰©çš„åŸºæœ¬ä¿¡æ¯");
  }

  // é»˜è®¤å®ç°runæ–¹æ³•
  void run() {}
}  



class Dog extends Animal {
  
  @override
  eat() {
    print("å°ç‹—ğŸ¶ğŸ¶ğŸ¶ğŸ¶ğŸ¶ğŸ¶åœ¨åƒéª¨å¤´");
  }
  
  void run() {
    print("å°ç‹—ğŸ¶ åœ¨ç”»æ¢…èŠ±ï¼Œåœ¨â„ï¸åœ°ğŸ©¸ï¼ï¼ï¼ï¼ï¼ï¼");
  }
}

class Cat extends Animal {
  @override
  eat() {
    print("ğŸ± åœ¨æŠ“ğŸ­ï¼ŒğŸ˜‚");
  }

  void run() {
    print("ğŸ±å°çŒ« åœ¨è¹¦è·‘ï¼ï¼ï¼ï¼ï¼ï¼");
  }
}





/// è°ƒç”¨
print("<-------------------------------æŠ½è±¡ç±»ï¼šstart------------------------------->");
Dog dog = Dog();
dog.eat();
dog.animalBaseInfo();

Cat cat = Cat();
cat.eat();
cat.animalBaseInfo();

print("<-------------------------------æŠ½è±¡ç±»ï¼šstart------------------------------->");
```

æ‰“å°ï¼š

```
flutter: <-------------------------------æŠ½è±¡ç±»ï¼šstart------------------------------->
flutter: å°ç‹—ğŸ¶ğŸ¶ğŸ¶ğŸ¶ğŸ¶ğŸ¶åœ¨åƒéª¨å¤´
flutter: æŠ½è±¡ç±»çš„å…¬å…±æ™®é€šæ–¹æ³•ï¼šåŠ¨ç‰©çš„åŸºæœ¬ä¿¡æ¯
flutter: ğŸ± åœ¨æŠ“ğŸ­ï¼ŒğŸ˜‚
flutter: æŠ½è±¡ç±»çš„å…¬å…±æ™®é€šæ–¹æ³•ï¼šåŠ¨ç‰©çš„åŸºæœ¬ä¿¡æ¯
flutter: <-------------------------------æŠ½è±¡ç±»ï¼šstart------------------------------->
```

æˆ–è€…å¦‚ä¸‹ï¼Œé€šè¿‡æŒ‡é’ˆèµ‹å€¼è¿›è¡Œè°ƒç”¨ï¼š

```
///å¤šæ€æŒ‡é’ˆèµ‹å€¼
print("<-------------------------------æŠ½è±¡ç±»ï¼šstart------------------------------->");
Animal d = new Dog();
d.eat();

Animal c = new Cat();
c.run();
print("<-------------------------------æŠ½è±¡ç±»ï¼šstart------------------------------->");
```

æ‰“å°ï¼š

```
flutter: <-------------------------------æŠ½è±¡ç±»ï¼šstart------------------------------->
flutter: å°ç‹—ğŸ¶ğŸ¶ğŸ¶ğŸ¶ğŸ¶ğŸ¶åœ¨åƒéª¨å¤´
flutter: ğŸ±å°çŒ« åœ¨è¹¦è·‘ï¼ï¼ï¼ï¼ï¼ï¼
flutter: <-------------------------------æŠ½è±¡ç±»ï¼šstart------------------------------->
```



<br/>

***
<br/>

># <h1 id='MixinsåŠŸèƒ½'>Mixins åŠŸèƒ½</h1>


mixins çš„åŠŸèƒ½ä»‹ç»

![flutter1_41.png](./../Pictures/flutter1_41.png)


```
class A {
  void printAInfo() {
    print("------>>: æ‰“å°Açš„ä¿¡æ¯");
  }
}

class B {
  void printBInfo() {
    print("++++>>>>>: æ‰“å°Bçš„ä¿¡æ¯");
  }
}

class C with A, B {
  
}


/// è°ƒç”¨
print("<-------------------------------Minxinsï¼šstart------------------------------->");
var c = new C();
c.printAInfo();
c.printBInfo();

print("<-------------------------------Minxinsï¼šstart------------------------------->");
```

æ‰“å°ï¼š

```
flutter: <-------------------------------Minxinsï¼šstart------------------------------->
flutter: ------>>: æ‰“å°Açš„ä¿¡æ¯
flutter: ++++>>>>>: æ‰“å°Bçš„ä¿¡æ¯
flutter: <-------------------------------Minxinsï¼šstart------------------------------->
```





<br/>

***
<br/>



># <h1 id='å¼‚æ­¥å’ŒåŒæ­¥'>å¼‚æ­¥å’ŒåŒæ­¥</h1>


-  **`åº“çš„ä»‹ç»`**

åº“çš„ä»‹ç»

![flutter1_42.png](./../Pictures/flutter1_42.png)


- **`async å’Œ await å…³é”®å­—ä»‹ç»`**

async å’Œ await å…³é”®å­—ä»‹ç»

![flutter1_43.png](./../Pictures/flutter1_43.png)

```
class SimpleNetwork {
   testAsync() async {
    return "Hello Flutter!";
  }

  ///API æ¥å£ï¼šhttp://news-at.zhihu.com/api/3/stories/latest
  ///_æ–¹æ³•åï¼Œåœ¨ä¸€ä¸ªç±»æ–‡ä»¶ä¸­æ˜¯ä¸€ä¸ªç§æœ‰æ–¹æ³•ï¼š_getDataFromZhihuAPI
  getDataFromZhihuAPI() async {
    //åˆ›å»ºHttpClientå¯¹è±¡
    var httpClient = new HttpClient();
    //åˆ›å»ºurlå¯¹è±¡
    var url = new Uri.http('news-at.zhihu.com', '/api/3/stories/latest');
    //å‘èµ·è¯·æ±‚ï¼Œç­‰å¾…è¯·æ±‚(è¯·æ±‚æ•°æ®æ˜¯ä¸€ä¸ªå¼‚æ­¥ï¼Œå¼‚æ­¥æ”¹ä¸ºåŒæ­¥éœ€è¦ç”¨åˆ°dartä¸­çš„awaitå…³é”®å­—ï¼Œä½†æ˜¯awiatå¿…é¡»ç”¨åˆ°å¼‚æ­¥æ–¹æ³•ä¸­ï¼Œæ‰€ä»¥_getDataFromZhihuAPIä¸­æœ‰asyncå…³é”®å­—)
    var request = await httpClient.getUrl(url);
    //å…³é—­è¯·æ±‚ï¼Œç­‰å¾…å“åº”
    var response = await request.close();
    //è§£ç å“åº”çš„å†…å®¹
    return await response.transform(utf8.decoder).join();
  }
}


/// è°ƒç”¨
//æ³¨æ„ï¼š testCustomClass æ–¹æ³•ä¸­ä¹Ÿè¦ç”¨asyncï¼Œä¸ await æ˜¯ä¸€ä¸€å¯¹åº”çš„
void testCustomClass() async {
    print("<-------------------------------Minxinsï¼šstart------------------------------->");
    var c = new SimpleNetwork();
    var dataJson = await c.getDataFromZhihuAPI();
    print("è¯·æ±‚æ•°æ®æ˜¯ï¼š${dataJson}");

    print("<-------------------------------Minxinsï¼šstart------------------------------->");
 }

```

æ‰“å°ï¼š

```
flutter: <-------------------------------Minxinsï¼šstart------------------------------->
flutter: è¯·æ±‚æ•°æ®æ˜¯ï¼š{"date":"20200406","stories":[{"image_hue":"0x444444","title":"å°äº‹ Â· ç²¾ç¥åˆ†è£‚ç—‡æ‚£è€…çœ¼ä¸­çš„ä¸–ç•Œæ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ","url":"https:\/\/daily.zhihu.com\/story\/9722439","hint":"VOL.1185","ga_prefix":"040622","images":["https:\/\/pic2.zhimg.com\/v2-ddaa2be2068324b52c55460e38ff4f21.jpg"],"type":0,"id":9722439},{"image_hue":"0x15181f","title":"ä½ å¿ƒä¸­å¤è£…å‰§ Top1 æ˜¯å“ªä¸€éƒ¨ï¼Ÿ","url":"https:\/\/daily.zhihu.com\/story\/9722449","hint":"åŒ…èŒ…å­ Â· 3 åˆ†é’Ÿé˜…è¯»","ga_prefix":"040620","images":["https:\/\/pic2.zhimg.com\/v2-39046a4132a4fc7eb13fce41d11e1895.jpg"],"type":0,"id":9722449},{"image_hue":"0xb0867b","title":"æœ‰å“ªäº›é«˜æ•ˆçœ‹æ–‡çŒ®çš„æ–¹æ³•ï¼Ÿ","url":"https:\/\/daily.zhihu.com\/story\/9722455","hint":"å®ç é“äºº Â· 3 åˆ†é’Ÿé˜…è¯»","ga_prefix":"040616","images":["https:\/\/pic2.zhimg.com\/v2-5964966c2419e79532ff78fd715b4e61.jpg"],"type":0,"id":9722455},{"image_hue":"0xb38b7d","title":"ç¾å›½ç°åœ¨çš„ç–«æƒ…å‘å±•åˆ°ä»€ä¹ˆç¨‹åº¦äº†ï¼Ÿ","url":"http<â€¦>
flutter: <-------------------------------Minxinsï¼šstart------------------------------->

```


<br/>

- **ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“**

![flutter1_44.png](./../Pictures/flutter1_44.png)

æ³¨æ„ï¼š é€”ä¸­çš„ ç»ˆç«¯å‘½ä»¤ï¼šput get é”™è¯¯ï¼Œåº”è¯¥æ˜¯ **`flutter pub get`**ã€‚



<br/>

***
<br/>


># <h1 id='èŒƒå‹é™åˆ¶'>èŒƒå‹é™åˆ¶</h1>


```

/*
*  <T extends BaseStatefulWidget,K extends BaseBloc>: é™åˆ¶ä¼ å…¥çš„ç±»å‹æ˜¯ BaseStatefulWidget(æˆ–è€…æ˜¯å…¶å­ç±») å’Œ BaseBloc(æˆ–è€…æ˜¯å…¶å­ç±»)
*
* TemplateBarState<T>ï¼š è¡¨ç¤ºç»§æ‰¿è‡ª TemplateBarState(æˆ–è€…æ˜¯å…¶å­ç±»)ï¼Œ <T> è¡¨ç¤ºé™åˆ¶ä¼ å…¥çš„ç±»å‹æ˜¯ BaseStatefulWidget (æˆ–è€…æ˜¯å…¶å­ç±»)
*/
abstract class TemplateBlocBarState<T extends BaseStatefulWidget,
    K extends BaseBloc> extends TemplateBarState<T> {
  K kBloc;

  @override
  void initState() {
    super.initState();
    kBloc = absKBloc();
  }

  K absKBloc();
}



/* 
*  SettingPage ç»§æ‰¿è‡ªï¼šBaseStatefulWidget
*  UserBloc ç»§æ‰¿è‡ªï¼šAbsUserBlocï¼Œ AbsUserBloc ç»§æ‰¿è‡ªï¼šBaseBloc
*/
class _SettingPageState extends TemplateBlocBarState<SettingPage, UserBloc> { 


}

```


<br/>

***
<br/><br/><br/>

> <h1 id='Flutteræ·»åŠ åˆ°ç°æœ‰åº”ç”¨'>Flutteræ·»åŠ åˆ°ç°æœ‰åº”ç”¨</h1>

- [æ··åˆå¼€å‘ï¼šflutteré›†æˆè¿›iOSå·¥ç¨‹](https://juejin.cn/post/6844904000211386375)

- [å°† Flutter é›†æˆåˆ°ç°æœ‰åº”ç”¨](https://flutter.cn/docs/add-to-app)
	- [å°† Flutter module é›†æˆåˆ° iOS é¡¹ç›®](https://flutter.cn/docs/add-to-app/ios/project-setup)

- [flutteré¡¹ç›®è°ƒè¯• ios14 flutter module ios](https://blog.51cto.com/u_16099249/6832188)


<br/><br/>

**Flutterå…·å¤‡çš„ç±»å‹:**


- **Flutter Applicationï¼š** æ ‡å‡†çš„Flutter Appå·¥ç¨‹ï¼ŒåŒ…å«æ ‡å‡†çš„Dartå±‚ä¸Nativeå¹³å°å±‚;


- **Flutter Module ï¼š** Flutterç»„ä»¶å·¥ç¨‹ï¼Œä»…åŒ…å«Dartå±‚å®ç°ï¼ŒNativeå¹³å°å±‚å­å·¥ç¨‹ä¸ºé€šè¿‡Flutterè‡ªåŠ¨ç”Ÿæˆçš„éšè—å·¥ç¨‹


- **Flutter Pluginï¼š** Flutterå¹³å°æ’ä»¶å·¥ç¨‹ï¼ŒåŒ…å«Dartå±‚ä¸Nativeå¹³å°å±‚çš„å®ç°


- **Flutter Packageï¼š** Flutterçº¯Dartæ’ä»¶å·¥ç¨‹ï¼Œä»…åŒ…å«Dartå±‚çš„å®ç°ï¼Œå¾€å¾€å®šä¹‰ä¸€äº›å…¬å…±Widget


<br/><br/><br/>

> <h2 id='Flutteræ¨¡å—é›†æˆåˆ°iOSé¡¹ç›®ä¸­'>Flutteræ¨¡å—é›†æˆåˆ°iOSé¡¹ç›®ä¸­</h2>

- åˆ›å»º Flutter module

```
cd  iOSé¡¹ç›®ä¸­Podfileæ‰€åœ¨è·¯å¾„

flutter create --template module mlc_flutter_moudle
```

<br/>

- Module çš„ç›®å½•ç»“æ„

åœ¨ mlc_flutter_moudle é‡Œï¼Œç›®å½•ç»“æ„å’Œæ™®é€š Flutter åº”ç”¨ç±»ä¼¼ï¼š

```
mlc_flutter_moudle/
â”œâ”€â”€ .ios/ (æ³¨æ„è¿™ä¸ªæ˜¯éšè—ç›®å½•,çœ‹ä¸åˆ°çš„åœ¨iOSä¸»å·¥ç¨‹ä¸­)
â”‚   â”œâ”€â”€ Runner.xcworkspace
â”‚   â””â”€â”€ Flutter/podhelper.rb
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ main.dart
â”œâ”€â”€ test/
â””â”€â”€ pubspec.yaml

```

<br/>

- [ä½¿ç”¨ CocoaPods å’Œ Flutter SDK é›†æˆ](https://flutter.cn/docs/add-to-app/ios/project-setup#local-network-privacy-permissions)

è¿™ä¸ªæ–¹æ³•éœ€è¦ä½ çš„é¡¹ç›®çš„æ‰€æœ‰å¼€å‘è€…ï¼Œéƒ½åœ¨æœ¬åœ°å®‰è£… Flutter SDKã€‚ä½ çš„å·¥ç¨‹åœ¨æ¯æ¬¡æ„å»ºçš„çš„æ—¶å€™ï¼Œéƒ½å°†ä¼šä»æºç é‡Œç¼–è¯‘ Flutter æ¨¡å—ã€‚åªéœ€è¦åœ¨ Xcode ä¸­ç¼–è¯‘åº”ç”¨ï¼Œå°±å¯ä»¥è‡ªåŠ¨è¿è¡Œè„šæœ¬æ¥é›†æˆ Dart ä»£ç å’Œæ’ä»¶ã€‚è¿™ä¸ªæ–¹æ³•å…è®¸ä½ ä½¿ç”¨ Flutter module ä¸­çš„æœ€æ–°ä»£ç å¿«é€Ÿè¿­ä»£å¼€å‘ï¼Œè€Œæ— éœ€åœ¨ Xcode ä»¥å¤–æ‰§è¡Œé¢å¤–çš„å‘½ä»¤ã€‚

ä¸‹é¢çš„ç¤ºä¾‹å‡è®¾ä½ çš„æ—¢æœ‰åº”ç”¨å’Œ Flutter module åœ¨ç›¸é‚»ç›®å½•ã€‚å¦‚æœä½ æœ‰ä¸åŒçš„ç›®å½•ç»“æ„ï¼Œéœ€è¦é€‚é…åˆ°å¯¹åº”çš„è·¯å¾„ã€‚

```
iOSå·¥ç¨‹è·¯å¾„
â”œâ”€â”€ mlc_flutter_moudle/
â”‚   â””â”€â”€ .ios/
â”‚       â””â”€â”€ Flutter/
â”‚         â””â”€â”€ podhelper.rb
â””â”€â”€ MyApp/
    â””â”€â”€ Podfile
```

åœ¨Podfile ä¸­æ·»åŠ ä¸‹é¢ä»£ç :

```
# è¿™ä¸€è¡Œå®šä¹‰äº† Flutter ä»£ç æ‰€åœ¨çš„è·¯å¾„ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒFlutter ä»£ç ä½äºåä¸º 'flutter_module' çš„æ–‡ä»¶å¤¹ä¸­
flutter_application_path = './mlc_flutter_moudle'

#è¿™è¡ŒåŠ è½½äº† Flutter é¡¹ç›®ä¸­çš„ podhelper.rb æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶é€šå¸¸åŒ…å«ä¸€äº›ç”¨äºé…ç½® Flutter æ¡†æ¶çš„è„šæœ¬å’Œå‡½æ•°
load File.join(flutter_application_path, '.ios', 'Flutter', 'podhelper.rb')
```


<br/>

æ¯ä¸ªéœ€è¦é›†æˆ Flutter çš„ Podfile targetï¼Œæ‰§è¡Œ install_all_flutter_pods(flutter_application_path)ï¼š

```
target 'MyApp' do
  
  #è¿™ä¸€è¡Œè°ƒç”¨äº†ä¸€ä¸ªå‡½æ•°ï¼ˆå‡è®¾åœ¨åŠ è½½çš„ podhelper.rb æ–‡ä»¶ä¸­å®šä¹‰äº†ï¼‰ï¼Œç”¨äºå®‰è£… Flutter é¡¹ç›®ä¸­æ‰€éœ€çš„æ‰€æœ‰ CocoaPods ä¾èµ–é¡¹
  install_all_flutter_pods(flutter_application_path)
end
```

<br/>

åœ¨ Podfile çš„ post_install éƒ¨åˆ†ï¼Œè°ƒç”¨ flutter_post_install(installer)ã€‚

```
post_install do |installer|
  flutter_post_install(installer) if defined?(flutter_post_install)
end
```


<br/>

ä½¿ç”¨VScodeæ‰“å¼€åˆšåˆšåˆ›å»ºçš„`mlc_flutter_moudle `æ¨¡å—,ç„¶ååœ¨ç»ˆç«¯è¿è¡Œ:

```
flutter pub get
```

<br/>

ç„¶ååœ¨è¿è¡Œ

```
pod install
```


<br/><br/><br/>

> <h2 id='Xcodeè°ƒè¯•è¿è¡ŒFlutter'>Xcodeè°ƒè¯•è¿è¡ŒFlutter</h2>

[Flutteræ··åˆå¼€å‘-é›†æˆåˆ°iOSé¡¹ç›®ä¸­](https://juejin.cn/post/7132416307839893534)

- æ‰“å¼€iOSä¸»å·¥ç¨‹,æ·»åŠ plist.infoçš„å±æ€§,å¦åˆ™åœ¨è¿è¡Œ`flutter attacth`ä¼šæŠ¥é”™:**â€Œ Waiting for connection**.åœ¨plist.infoæ·»åŠ å¦‚ä¸‹å±æ€§:

```
<key>NSLocalNetworkUsageDescription</key>
	<string>$(PRODUCT_NAME) App needs Local Network permission to find local devices.</string>
<key>NSBonjourServices</key>

<array>
        <string>_dartobservatory._tcp</string>
</array> 
```

<br/>

- åœ¨iOSä¸»å·¥ç¨‹ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç :

```
@import Flutter;
#import "GeneratedPluginRegistrant.h"


- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
     [self configFlutter];
}

-(void)configFlutter{
    // 1.åˆ›å»ºä¸€ä¸ªFlutterEngineå¯¹è±¡
Â  Â  self.flutterEngine = [[FlutterEngine alloc] initWithName:@"my flutter engine"];

Â  Â  // 2.å¯åŠ¨flutterEngine

Â  Â  [self.flutterEngineÂ  run];

Â  Â  [GeneratedPluginRegistrant registerWithRegistry:self.flutterEngine];
    
}


```

ç„¶åè¿è¡Œä¸»å·¥ç¨‹åœ¨Xcodeä¸­

<br/>

VScodeæ‰“å¼€`mlc_flutter_moudle `æ–‡ä»¶å¤¹,ç»ˆç«¯è¾“å…¥:

```
flutter attacth

[1]: æµ‹è¯• iPhone 12 (00008101-001429303A68001E)
[2]: iPhone 15 Pro (69C42194-B477-4DE0-AC78-4B2D726326E8)
Please choose one (To quit, press "q/Q"): 1
Syncing files to device æµ‹è¯• iPhone 12...                             7.9s

Flutter run key commands.
r Hot reload. ğŸ”¥ğŸ”¥ğŸ”¥
R Hot restart.
h List all available interactive commands.
d Detach (terminate "flutter run" but leave application running).
c Clear the screen
q Quit (terminate the application on the device).

ğŸ’ª Running with sound null safety 
```

ç„¶åä½ å°±å¯ä»¥è°ƒè¯•äº†


<br/><br/><br/>


> <h2 id='FlutterEngine'>FlutterEngine</h2>

FlutterEngineæ˜¯Flutteråœ¨åŸç”Ÿå¹³å°ï¼ˆå¦‚iOSï¼‰ä¸Šçš„æ ¸å¿ƒè¿è¡Œç¯å¢ƒï¼Œè´Ÿè´£åŠ è½½å’Œæ‰§è¡ŒDartä»£ç ï¼Œä»¥åŠå¤„ç†ä¸åŸç”Ÿç«¯çš„äº¤äº’ã€‚


```
FBFlutterViewContainer *flutterContainer = [FBFlutterViewContainer new];
/**
setName:@"testFlutterpage" è®¾ç½®äº† Flutter é¡µé¢çš„åç§°ä¸º "testFlutterpage"ã€‚å¯èƒ½ç”¨äºæ ‡è¯†æˆ–è·¯ç”±åˆ°ç‰¹å®šçš„Flutteré¡µé¢ã€‚

uniqueId:nil é€šå¸¸ç”¨äºæä¾›ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œå¯èƒ½ç”¨äºåŒºåˆ†åŒä¸€é¡µé¢çš„ä¸åŒå®ä¾‹ã€‚è¿™é‡Œä¼ å…¥nilï¼Œå¯èƒ½æ„å‘³ç€ä¸ä½¿ç”¨æˆ–æ— éœ€åŒºåˆ†å®ä¾‹

params:@{} ä¼ é€’ç»™ Flutter é¡µé¢çš„å‚æ•°ä¸ºç©ºå­—å…¸ã€‚

opaque:true è¡¨ç¤º Flutter é¡µé¢æ˜¯å¦æ˜¯ä¸é€æ˜çš„
*/
[flutterContainr setName:@"testFlutterpage" uniqueId:nil params:@{} opaque:true];

//è·å–çš„registryå°†ç”¨äºåç»­æ³¨å†Œæ’ä»¶
FlutterEngine *registry = flutterContainr.engine;

/*
é€šè¿‡registryè°ƒç”¨registrarForPlugin:æ–¹æ³•ï¼Œè·å–ä¸ç»™å®šæ’ä»¶åç§°plugNameç›¸å¯¹åº”çš„registrarå¯¹è±¡ã€‚registrarï¼ˆæ³¨å†Œå™¨ï¼‰æ˜¯Flutter Engineæä¾›çš„ä¸€ä¸ªæ¥å£ï¼Œç”¨äºåŸç”Ÿç«¯æ³¨å†Œå’Œç®¡ç†Flutteræ’ä»¶ã€‚
å¦‚æœregistryæœ‰æ•ˆä¸”plugNameå¯¹åº”çš„æœ‰æ•ˆæ’ä»¶å·²åŠ è½½ï¼Œè¿™ä¸€æ­¥å°†è¿”å›ä¸€ä¸ªå¯ç”¨çš„æ³¨å†Œå™¨
*/
id reg = [registry registrarForPlugin:@"plugName"]; 

/*åˆ›å»ºä¸€ä¸ªHSQFlutterPluginå®ä¾‹ï¼ˆå‡è®¾è¿™æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„Flutteræ’ä»¶ç±»ï¼‰ï¼Œå¹¶é€šè¿‡è°ƒç”¨å…¶ç±»æ–¹æ³•registerPluginWithRegistrar:è¿›è¡Œæ³¨å†Œã€‚
ä¼ å…¥çš„å‚æ•°æ˜¯ä¸Šä¸€æ­¥å¾—åˆ°çš„regï¼ˆå³registrarå¯¹è±¡ï¼‰ã€‚
å¦‚æœregæœ‰æ•ˆï¼Œè¿™ä¸€æ­¥å°†ä¼šå°†æ’ä»¶æ³¨å†Œåˆ°Flutter Engineä¸­ï¼Œä½¿å…¶èƒ½å¤Ÿå“åº”æ¥è‡ªDartä¾§çš„è°ƒç”¨ã€‚
*/
//@interface HSQFlutterPlugin : NSObject<FlutterPlugin>
HSQFlutterPlugin *plug = [HSQFlutterPlugin registerPluginWithRegistrar:reg]; 

/*
ç»™åˆ›å»ºçš„HSQFlutterPluginå®ä¾‹ï¼ˆplugï¼‰çš„handlerå±æ€§èµ‹å€¼ã€‚handleré€šå¸¸æ˜¯ä¸€ä¸ªè´Ÿè´£å¤„ç†æ’ä»¶å®é™…ä¸šåŠ¡é€»è¾‘çš„å¯¹è±¡ã€‚
åœ¨è¿™é‡Œï¼ŒDWDFlutterPluginDefaultHandler.defaultHandleråº”è¯¥æ˜¯æŸä¸ªé¢„å®šä¹‰çš„é»˜è®¤å¤„ç†å™¨å®ä¾‹ã€‚
ç”±äºä¸æ¸…æ¥šDWDFlutterPluginDefaultHandlerçš„å…·ä½“å®ç°ï¼Œæ— æ³•æä¾›æ›´å¤šç»†èŠ‚ã€‚
å¦‚æœdefaultHandleræ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å¤„ç†å™¨å®ä¾‹ï¼Œè¿™ä¸€è¡Œä»£ç å°†è®¾ç½®æ’ä»¶çš„ä¸šåŠ¡å¤„ç†é€»è¾‘ã€‚
*/
plug.handler = DWDFlutterPluginDefaultHandler.defaultHandler; 

/*
å°†registryèµ‹å€¼ç»™HSQFlutterPluginå®ä¾‹çš„engineå±æ€§ã€‚
é€šå¸¸ï¼Œengineå±æ€§ç”¨äºå­˜å‚¨ä¸è¯¥æ’ä»¶å…³è”çš„FlutterEngineå®ä¾‹ã€‚
è¿™é‡Œå°†ä¹‹å‰ä»flutterContainerè·å–çš„FlutterEngineèµ‹å€¼ç»™æ’ä»¶ï¼Œç¡®ä¿æ’ä»¶ä¸æ­£ç¡®çš„å¼•æ“å…³è”ã€‚
*/
plug.engine = registry; 

/*
å°†regèµ‹å€¼ç»™HSQFlutterPluginå®ä¾‹çš„registrarå±æ€§ã€‚
åŒæ ·ï¼Œå°†ä¹‹å‰è·å–çš„æ³¨å†Œå™¨èµ‹å€¼ç»™æ’ä»¶ï¼Œä¾¿äºæ’ä»¶é€šè¿‡æ³¨å†Œå™¨ä¸Flutter Engineè¿›è¡Œäº¤äº’ã€‚
*/
plug.registrar = reg;
```

<br/>

- **ä¸Šè¿°ä»£ç ä½œç”¨æ€»ç»“:** 
	- åˆ›å»ºäº†ä¸€ä¸ªFBFlutterViewContainerå®ä¾‹ï¼Œç”¨äºæ‰¿è½½ä¸€ä¸ªåä¸º`â€œtestFlutterpageâ€`çš„Flutteré¡µé¢ã€‚
	
	- æ¥ç€ï¼Œä»è¯¥å®¹å™¨ä¸­è·å–å…³è”çš„FlutterEngineå®ä¾‹ï¼Œå¹¶åˆ©ç”¨è¯¥å¼•æ“æ³¨å†Œä¸€ä¸ªåä¸ºHSQFlutterPluginçš„æ’ä»¶ã€‚æ’ä»¶çš„ä¸šåŠ¡å¤„ç†é€»è¾‘é€šè¿‡`DWDFlutterPluginDefaultHandler.defaultHandler`è®¾ç½®ï¼Œå¹¶å°†å¼•æ“å’Œæ³¨å†Œå™¨åˆ†åˆ«èµ‹å€¼ç»™æ’ä»¶çš„ç›¸åº”å±æ€§ã€‚
	
	- æ•´ä½“æ¥çœ‹ï¼Œè¿™æ®µä»£ç å®Œæˆäº†Flutteré¡µé¢çš„åµŒå…¥å‡†å¤‡å’Œè‡ªå®šä¹‰æ’ä»¶çš„æ³¨å†Œï¼Œä¸ºåç»­åœ¨åŸç”ŸiOSåº”ç”¨ä¸­ä½¿ç”¨FlutteråŠŸèƒ½å¥ å®šäº†åŸºç¡€ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä»£ç ä¸­`setName:uniqueId:params:opaque:`æ–¹æ³•çš„uniqueIdå‚æ•°ä¼ å…¥äº†nilï¼Œè¿™å¯èƒ½éœ€è¦æ ¹æ®å®é™…éœ€æ±‚è¿›è¡Œè°ƒæ•´ã€‚

---
æ³¨é‡Š: 0,46529 SHA-256 8db9d5fc6b50da3aa925d6e01a58fca8  
@HuangGang <harley.smessage@icloud.com>: 493 501 507,35 10266,2 10279 10286 10343,2 10388,13 10414,3 10418,5 10426,3 10466,5 10477,3 10544,13 10571,2 10574,3 10645,3 10690 10692,11 10713,5 10755,10 10825,8 10845,3 10916,10 11133,6 11210,7 11447,6 11502 11565 11615 11663,2 11668,2 11672 11677,3 11681,2 11807,12 11873,20 12072,137 12211,4 12645,57 12792,5 12799,4 12819 13390,5 13397,4 13438,2 13478,2 13904,5 13910,4 13938 13964 14001 14603,5 14610,4 14632 15311 15362,5 15369,4 15380 15565,2 15648,4 15746 15773,10 15983,10 15997,2 16000,3 16034,3 16077,23 16984 16987 16991 16994 16999 17002 17006 17009 17011,5 17022 17028 17037 23632,2 23645,2 23648 24154,7 24162,2 24185 24506 24518,7 24526,2  
...
